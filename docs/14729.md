# ä»£ç çš„å‡ºç°â€”â€”å¯èƒ½æ˜¯ç«ç¾éšæ‚£â€”â€”éš¾é¢˜ 6

> åŸæ–‡:[https://dev . to/10x learner/advent-of-code-possible-a-fire-hazard-puzzle-6-57jc](https://dev.to/10xlearner/advent-of-code-probably-a-fire-hazard-puzzle-6-57jc)

ä½ å¥½ï¼æˆ‘æ˜¯ Xavier Jouvenotï¼Œè¿™æ˜¯å…³äºä»£ç å‡ºç°çš„[ç³»åˆ—çš„ç¬¬å…­éƒ¨åˆ†ã€‚è¿™é‡Œ](https://adventofcode.com)å¯ä»¥æ‰¾åˆ°ä¸Šä¸€éƒ¨åˆ†

å¯¹äºè¿™ä¸ªæ–°å¸–å­ï¼Œæˆ‘ä»¬å°†ä» 2015 å¹´ 12 æœˆ 6 æ—¥å¼€å§‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåä¸ºâ€œå¯èƒ½æ˜¯ç«ç¾éšæ‚£â€ã€‚æˆ‘å°†åœ¨ C++ä¸­æå‡ºè§£å†³æ–¹æ¡ˆï¼Œä½†æ¨ç†å¯ä»¥åº”ç”¨äºå…¶ä»–è¯­è¨€ã€‚

## [](#part-1)ç¬¬ä¸€éƒ¨åˆ†

### [](#the-problem)é—®é¢˜

è¿™ä¸ªé—®é¢˜çš„å®Œæ•´ç‰ˆå¯ä»¥ç›´æ¥åœ¨[é™ä¸´ä»£ç ç½‘ç«™](https://adventofcode.com/2015/day/6)ä¸Šæ‰¾åˆ°ï¼Œæˆ‘åœ¨è¿™é‡Œåªæè¿°é—®é¢˜çš„æœ¬è´¨:

ä½ æƒ³åœ¨èŠ‚æ—¥æˆ¿å±‹è£…é¥°æ¯”èµ›ä¸­å‡»è´¥ä½ çš„é‚»å±…ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦éƒ¨ç½²ä¸€ä¸ª 1000Ã—1000 çš„ç¯å…‰ç½‘æ ¼ï¼Œå¹¶æŒ‰ç…§åœ£è¯è€äººçš„æŒ‡ç¤ºæ¥æ˜¾ç¤ºç†æƒ³çš„ç…§æ˜é…ç½®ã€‚

æœ‰ 3 ç§æŒ‡ä»¤:

*   **æ‰“å¼€** `0,0`åˆ°`999,999`ä¼šæ‰“å¼€(æˆ–ä¿æŒæ‰“å¼€)æ¯ä¸€ç›ç¯ã€‚
*   **åˆ‡æ¢** `0,0`åˆ°`999,0`å°†åˆ‡æ¢ç¬¬ä¸€è¡Œçš„ 1000 ç›ç¯ï¼Œå…³é—­é‚£äº›äº®ç€çš„ï¼Œæ‰“å¼€é‚£äº›å…³ç€çš„ã€‚
*   **å…³é—­** `499,499`åˆ°`500,500`ä¼šå…³é—­(æˆ–ç¦»å¼€)ä¸­é—´çš„å››ä¸ªç¯ã€‚

### [](#solution)è§£

ä¸‹é¢æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„ç®—æ³•çš„ä¸»è¦éƒ¨åˆ†:

```
 foreachLineIn(fileContent, [&grid](const std::string& line)
    {
        const auto actionId = getActionFromLine(line);
        const auto rectangle = getRectangleFromLine(line);
        switch (actionId)
        {
        case LightAction::TURN_ON:
            grid.turnOn(rectangle);
            break;
        case LightAction::TURN_OFF:
            grid.turnOff(rectangle);
            break;
        case LightAction::TOGGLE:
            grid.toggle(rectangle);
            break;
        default:
            assert(false);
            break;
        }
    });

     std::cout << grid.getNumberOfLightTunedOn(); 
```

<svg viewBox="0 0 448 512" class="highlight-action highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg viewBox="0 0 448 512" class="highlight-action highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç”¨ç®€å•çš„è‹±è¯­æ¥è¯´ï¼Œè¿™ä¸ªä»£ç æ„å‘³ç€ï¼Œå¯¹äºæ¯ä¸ª In æŒ‡ä»¤ï¼Œæˆ‘ä»¬è¯†åˆ«æŒ‡ä»¤çš„ç§ç±»ï¼Œåœ¨ç½‘æ ¼ä¸Šå…³æ³¨å¹¶åº”ç”¨æŒ‡ä»¤ã€‚

å‰©ä¸‹çš„ä»£ç éå¸¸ç®€å•ï¼Œå¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸Šæ‰¾åˆ°ã€‚

ä½œä¸ºæ€»ç»“ï¼Œæˆ‘å¯ä»¥å‘Šè¯‰ä½ è¿˜æœ‰äº”ä¸ªè¦ç´ :

```
enum class LightAction; // Qualifies which kind of instruction we are dealing with
class Coordinate { int x, y; } // Object representing a position on a grid (use in Day 3)
class Rectangle { Coordinate topLeft, bottomRight; } // Object representing an area
class Light { bool isOn{false}; }; // Object representing one light of the grid
class Grid { std::array<std::array<Light>> lights; } ; // Object representing the grid of lights 
```

<svg viewBox="0 0 448 512" class="highlight-action highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg viewBox="0 0 448 512" class="highlight-action highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#part-2)ç¬¬äºŒéƒ¨åˆ†

### [](#the-problem)é—®é¢˜

å®é™…ä¸Šï¼Œä½ è¯¯è¯‘äº†åœ£è¯è€äººç»™ä½ çš„è¯´æ˜(åŸå§‹ç‰ˆæœ¬ä¸ºå¤ä»£åŒ—æ¬§ç²¾çµè¯­)ã€‚è¿™äº›è¯´æ˜çš„çœŸæ­£å«ä¹‰æ˜¯:

*   **æ‰“å¼€**æ„å‘³ç€ä½ åº”è¯¥æŠŠé‚£äº›ç¯çš„äº®åº¦å¢åŠ `1`ã€‚
*   **åˆ‡æ¢**æ„å‘³ç€ä½ åº”è¯¥å°†é‚£äº›ç¯çš„äº®åº¦å¢åŠ `2`ã€‚
*   **å…³é—­**æ„å‘³ç€ä½ åº”è¯¥å°†é‚£äº›ç¯çš„äº®åº¦é™ä½`1`ã€‚

### [](#solution)è§£

å¥½äº†ï¼Œå¯¹äºè¿™ä¸€éƒ¨åˆ†ï¼Œä»£ç çš„ç»“æ„åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯å®ç°ç»†èŠ‚å’Œéƒ¨åˆ†å‡½æ•°çš„å‘½å(ä»`getNumberOfLightTurnedOn`åˆ°`getBrightness`)æœ‰æ‰€å˜åŒ–ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œä½ å¯ä»¥åœ¨æˆ‘çš„ [GitHub](https://github.com/Xav83/AdventOfCode/tree/2015.06) ä¸Šæ‰¾åˆ°è¿™ä¸€éƒ¨åˆ†çš„è§£å†³æ–¹æ¡ˆã€‚

```
// Part One
class Light { bool isOn{false}; };
// Part Two
class Light { size_t brightness{0}; }; 
```

<svg viewBox="0 0 448 512" class="highlight-action highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg viewBox="0 0 448 512" class="highlight-action highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å…¶å®æˆ‘é‡åˆ°è¿‡ä¸€ä¸ªæ²¡æƒ³åˆ°çš„æœ‰è¶£é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œæˆ‘æ˜¯åœ¨ Windows ä¸Šå¼€å‘ä»£ç çš„ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æˆ‘é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ã€‚åªæœ‰åœ¨`Light`ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°(ä»£è¡¨äº®åº¦)æ—¶ï¼Œæˆ‘æ‰ä¼šå¾—åˆ°å¥‡æ€ªçš„é”™è¯¯æ¶ˆæ¯ã€‚

ç»è¿‡ä¸€ç•ªæŒ–æ˜ï¼Œå‘ç°æ¥è‡ªäºæ ˆå¤§å°ï¼Œé»˜è®¤å¤ªå°‘ã€‚ä¸ºäº†ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ·»åŠ äº†é“¾æ¥é€‰é¡¹ [/STACK](https://docs.microsoft.com/fr-fr/cpp/build/reference/stack-stack-allocations?view=vs-2019) ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º 10 MO(è€Œä¸æ˜¯é»˜è®¤çš„ 1)ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½é‡æ–°ç¼–è¯‘ä¸€é(youhou \o/)ã€‚

## [](#conclusion)ç»“è®º

å’Œå¾€å¸¸ä¸€æ ·ï¼Œä½ å¯ä»¥æ³¨æ„åˆ°ï¼Œè¿™ç¯‡æ–‡ç« ä¸­å†™çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶æ²¡æœ‰åŒ…æ‹¬æ‰€æœ‰ä½¿ç¨‹åºè¿è¡Œçš„æºç ï¼Œè€Œåªæ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æºç ä¸­æœ‰è¶£çš„éƒ¨åˆ†ã€‚å¦‚æœä½ æƒ³ä»å¤´åˆ°å°¾çœ‹è¿™äº›èŠ‚ç›®ï¼Œä½ å¯ä»¥ç™»å½•æˆ‘çš„ [GitHub è´¦æˆ·](https://github.com/Xav83/AdventOfCode/tree/2015.0-6/2015/Day6)ï¼Œæ¢ç´¢å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œæ·»åŠ è¯„è®ºæˆ–æé—®ã€‚

æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¸Œæœ›ä½ å–œæ¬¢ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œæˆ‘å–œæ¬¢è¿™æ ·åšğŸ˜ƒ

ç›´åˆ°ä¸‹ä¸€éƒ¨åˆ†ï¼Œäº«å—å­¦ä¹ å’Œæˆé•¿çš„ä¹è¶£ã€‚