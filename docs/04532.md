# ä½¿ç”¨ Python æ„å»ºè™šæ‹ŸåŠ©æ‰‹|è‡ªåŠ¨åŒ–ä»»åŠ¡

> åŸæ–‡:[https://dev . to/the pylot/build-virtual-assistant-with-python-automate-tasks-46 a6](https://dev.to/thepylot/build-virtual-assistant-with-python-automate-tasks-46a6)

æ³¨æ„:è¿™ç¯‡æ–‡ç« å‘è¡¨äºä¸€å¹´å‰ï¼Œä¸€äº›ä¾èµ–é¡¹å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚å¦‚æœä½ é‡åˆ°é”™è¯¯ï¼Œè¯·åœ¨ instagram ä¸Šç»™æˆ‘å‘é‚®ä»¶ï¼Œæˆ‘ä¼šæŠŠè¿™ä¸ªæ–‡ä»¶çš„åˆå§‹é…ç½®å‘ç»™ä½ ã€‚

[https://www.instagram.com/coderasha/](https://www.instagram.com/coderasha/)

æ€ä¹ˆäº† **DEV** Networkï¼Ÿ

Youtube é¢‘é“æœ‰è§†é¢‘æ•™ç¨‹- [åå‘ Python Youtube](https://www.youtube.com/channel/UCEwYRHE5ZAOMfUaIpCQvjEQ)

åœ¨è¿™ä¸ªå®éªŒä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Python ä»æ˜Ÿé™…ç”µå½±ä¸­æ„å»ºæ¼”ç¤ºæ˜Ÿçƒã€‚TARS å¯ä»¥å¸®åŠ©æ‚¨è‡ªåŠ¨åŒ–æ‚¨çš„ä»»åŠ¡ï¼Œä¾‹å¦‚åœ¨ YouTube ä¸­æœç´¢è§†é¢‘å¹¶æ’­æ”¾å®ƒä»¬ï¼Œå‘é€ç”µå­é‚®ä»¶ï¼Œæ‰“å¼€ç½‘ç«™ï¼Œåœ¨ç»´åŸºç™¾ç§‘ä¸­æœç´¢å¹¶é˜…è¯»ææ–™ï¼Œé€šçŸ¥æ‚¨æ‰€åœ¨å›½å®¶çš„å¤©æ°”é¢„æŠ¥ï¼Œé—®å€™ç­‰ç­‰ã€‚é€šè¿‡æ„å»º TARSï¼Œæ‚¨å°†å¢åŠ æ‚¨çš„ Python çŸ¥è¯†å¹¶å­¦ä¹ è®¸å¤šæœ‰ç”¨çš„åº“/å·¥å…·ã€‚æˆ‘å°†æŠŠæºä»£ç æ¨é€åˆ°æˆ‘çš„ git å­˜å‚¨åº“ä¸­ï¼Œå› æ­¤å¯ä»¥è‡ªç”±åœ°è´¡çŒ®å’Œæ”¹è¿› TARS çš„åŠŸèƒ½

[![TARS](img/e92e1cc07c42788902577f9ad2c0227c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--SxkCqMmE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/0tu8bgn13lz8azuol669.gif)

è®©æˆ‘ä»¬ä»åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå’Œæ„å»º TARS çš„åŸºç¡€éŸ³é¢‘ç³»ç»Ÿå¼€å§‹ã€‚

```
mkdir TARS
cd TARS
virtualenv venv 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ¿€æ´»ä¸‹é¢çš„ venv è¿è¡Œå‘½ä»¤

```
. venv/bin/activate 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[ä»€ä¹ˆæ˜¯è™šæ‹Ÿç¯å¢ƒï¼Ÿ](https://realpython.com/python-virtual-environments-a-primer/)

æ¿€æ´» venv åï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ä¸»åº“:

```
pip3 install gTTS
pip3 install SpeechRecognition
pip3 install PyAudio
pip3 install pygame 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

gTTS(Google æ–‡æœ¬åˆ°è¯­éŸ³)æ˜¯ä¸€ä¸ª Python åº“å’Œ CLI å·¥å…·ï¼Œç”¨äºä¸ Google Translate çš„æ–‡æœ¬åˆ°è¯­éŸ³ API æ¥å£ã€‚è¿™ä¸ªæ¨¡å—æœ‰åŠ©äºå°†å­—ç¬¦ä¸²æ–‡æœ¬è½¬æ¢æˆè¯­éŸ³æ–‡æœ¬ï¼Œå¹¶ä¸”å¯ä»¥ä¿å­˜ä¸º. mp3

**è¯­éŸ³è¯†åˆ«**æ˜¯å®¶åº­è‡ªåŠ¨åŒ–ã€äººå·¥æ™ºèƒ½ç­‰åº”ç”¨ä¸­çš„ä¸€é¡¹é‡è¦åŠŸèƒ½ã€‚è¯†åˆ«è¯­éŸ³éœ€è¦éŸ³é¢‘è¾“å…¥ï¼ŒSpeechRecognition ä½¿æ£€ç´¢è¿™äº›è¾“å…¥å˜å¾—éå¸¸ç®€å•ã€‚SpeechRecognition æ— éœ€ä»å¤´å¼€å§‹æ„å»ºè„šæœ¬æ¥è®¿é—®éº¦å…‹é£å’Œå¤„ç†éŸ³é¢‘æ–‡ä»¶ï¼Œåªéœ€å‡ åˆ†é’Ÿå°±èƒ½è®©æ‚¨å¯åŠ¨å¹¶è¿è¡Œã€‚

è¦ä½¿ç”¨ SpeechRecognizer è®¿é—®æ‚¨çš„éº¦å…‹é£ï¼Œæ‚¨å¿…é¡»å®‰è£… **PyAudio** è½¯ä»¶åŒ…

Pygame æ˜¯ä¸€å¥—è·¨å¹³å°çš„ Python æ¨¡å—ï¼Œç”¨äºç¼–å†™è§†é¢‘æ¸¸æˆã€‚å®ƒåŒ…æ‹¬è®¾è®¡ç”¨äº Python ç¼–ç¨‹è¯­è¨€çš„è®¡ç®—æœºå›¾å½¢å’Œå£°éŸ³åº“ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥æ„å»º TARS çš„è¯­éŸ³ç³»ç»Ÿ:

```
from gtts import gTTS
import speech_recognition as sr
from pygame import mixer

def talk(audio):
    print(audio)
    for line in audio.splitlines():
        text_to_speech = gTTS(text=audio, lang='en-uk')
        text_to_speech.save('audio.mp3')
        mixer.init()
        mixer.music.load("audio.mp3")
        mixer.music.play() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬ä¼ é€’éŸ³é¢‘ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè®©ç„¦æ²¹è¯´è¯ã€‚ä¾‹å¦‚ï¼Œè¯´è¯(â€˜å—¨ï¼Œæˆ‘æ˜¯å¡”æ–¯ï¼â€œæˆ‘èƒ½å¸®ä½ ä»€ä¹ˆå—ï¼Œâ€)ç¨‹åºå°†å€ŸåŠ© splitlines()æ–¹æ³•å¾ªç¯è¿™äº›è¡Œã€‚æ­¤æ–¹æ³•ç”¨äºåœ¨çº¿è¾¹ç•Œå¤„æ‹†åˆ†çº¿ã€‚æŸ¥çœ‹ [splitlines()](https://www.geeksforgeeks.org/python-string-splitlines/) äº†è§£æ›´å¤šä¿¡æ¯ã€‚ç„¶åï¼ŒgTTS å°†æŠŠæ‰€æœ‰è¿™äº›æ–‡æœ¬è½¬æ¢æˆè¯­éŸ³ã€‚text å‚æ•°å®šä¹‰è¦è¯»å–çš„æ–‡æœ¬ï¼Œlang å®šä¹‰è¯»å–æ–‡æœ¬çš„è¯­è¨€(IETF language tag)ã€‚å¾ªç¯å®Œæˆåï¼Œsave()æ–¹æ³•å°†ç»“æœå†™å…¥æ–‡ä»¶ã€‚

**pygame.mixer** æ˜¯ä¸€ä¸ªç”¨äºåŠ è½½å’Œæ’­æ”¾å£°éŸ³çš„æ¨¡å—ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ã€‚

å¥½å§ï¼ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç›‘å¬å‘½ä»¤çš„å‡½æ•°ã€‚

```
def myCommand():
    #Initialize the recognizer 
    r = sr.Recognizer()

    with sr.Microphone() as source:
        print('TARS is Ready...')
        r.pause_threshold = 1
        #wait for a second to let the recognizer adjust the  
        #energy threshold based on the surrounding noise level 
        r.adjust_for_ambient_noise(source, duration=1)
        #listens for the user's input
        audio = r.listen(source)

    try:
        command = r.recognize_google(audio).lower()
        print('You said: ' + command + '\n')

    #loop back to continue to listen for commands if unrecognizable speech is received
    except sr.UnknownValueError:
        print('Your last command couldn\'t be heard')
        command = myCommand();

    return command 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† SpeechRecognition åº“ã€‚å®ƒå……å½“å‡ ç§æµè¡Œçš„è¯­éŸ³ API çš„åŒ…è£…å™¨ï¼Œå› æ­¤éå¸¸çµæ´»ã€‚å…¶ä¸­ä¹‹ä¸€â€”â€”Google Web Speech APIâ€”â€”æ”¯æŒä¸€ä¸ªé»˜è®¤çš„ API é”®ï¼Œè¯¥é”®è¢«ç¡¬ç¼–ç åˆ° SpeechRecognition åº“ä¸­ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¸ç”¨æ³¨å†ŒæœåŠ¡å°±å¯ä»¥å¼€å§‹å·¥ä½œã€‚

ä¸ºäº†èƒ½å¤Ÿé€šè¿‡è¯­éŸ³è¯†åˆ«å¤„ç†è‡ªå·±çš„å£°éŸ³ï¼Œæ‚¨éœ€è¦ PyAudio åŒ…ã€‚åƒéŸ³é¢‘æ–‡ä»¶è¯†åˆ«å™¨ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦éº¦å…‹é£æ¥å¤„ç†å®æ—¶è¯­éŸ³æ•°æ®ã€‚

æ‚¨å¯ä»¥åœ¨ with å—ä¸­ä½¿ç”¨ Recognizer ç±»çš„ listen()æ–¹æ³•ä»éº¦å…‹é£æ•è·è¾“å…¥ã€‚è¯¥æ–¹æ³•å°†éŸ³é¢‘æºä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è®°å½•æ¥è‡ªè¯¥æºçš„è¾“å…¥ï¼Œç›´åˆ°æ£€æµ‹åˆ°æ— å£°ã€‚

è¯•ç€åœ¨å®‰é™çš„åœ°æ–¹è¯´ä½ çš„å‘½ä»¤(èƒŒæ™¯å™ªéŸ³å°‘)ï¼Œå¦åˆ™ TARS ä¼šæ··æ·†ã€‚

çœ‹ä¸€çœ‹[Python è¯­éŸ³è¯†åˆ«ç»ˆææŒ‡å—](https://realpython.com/python-speech-recognition/)

```
import random

def tars(command):
    errors=[
        "I don\'t know what you mean!",
        "Excuse me?",
        "Can you repeat it please?",
    ]

    if 'Hello' in command:
        talk('Hello! I am TARS. How can I help you?')

    else:
        error = random.choice(errors)
        talk(error)

talk('TARS is ready!')

while True:
    assistant(myCommand()) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€æ—¦ä½ è¿è¡Œè¯¥ç¨‹åºï¼Œå¡”æ–¯å°†å¼€å§‹ä¸ä½ äº¤è°ˆï¼Œè¯´â€œå¡”æ–¯å‡†å¤‡å¥½äº†ï¼â€å¹¶ç»§ç»­ç›‘å¬æ‚¨çš„å‘½ä»¤ï¼Œç›´åˆ°æ‚¨åœæ­¢ç¨‹åºã€‚ä»è¯´â€œä½ å¥½â€å¼€å§‹:

å½“ TARS æ²¡æœ‰æ”¶åˆ°å‘½ä»¤æ—¶ï¼Œæˆ‘ä»¬å°†é€šè¿‡éšæœºè¯­å¥æ¥å¤„ç†é”™è¯¯ã€‚

ä»¥ä¸‹æ˜¯ä¸»è¦ç»“æ„çš„å®Œæ•´ä»£ç :

```
from gtts import gTTS
import speech_recognition as sr
from pygame import mixer
import random
def talk(audio):
    print(audio)
    for line in audio.splitlines():
        text_to_speech = gTTS(text=audio, lang='en-uk')
        text_to_speech.save('audio.mp3')
        mixer.init()
        mixer.music.load("audio.mp3")
        mixer.music.play()

def myCommand():
    #Initialize the recognizer
    #The primary purpose of a Recognizer instance is, of course, to recognize speech. 
    r = sr.Recognizer()

    with sr.Microphone() as source:
        print('TARS is Ready...')
        r.pause_threshold = 2
        #wait for a second to let the recognizer adjust the  
        #energy threshold based on the surrounding noise level 
        r.adjust_for_ambient_noise(source, duration=1)
        #listens for the user's input
        audio = r.listen(source)

    try:
        command = r.recognize_google(audio).lower()
        print('You said: ' + command + '\n')

    #loop back to continue to listen for commands if unrecognizable speech is received
    except sr.UnknownValueError:
        print('Your last command couldn\'t be heard')
        command = myCommand();
    return command

def tars(command):
    errors=[
        "I don't know what you mean",
        "Did you mean astronaut?",
        "Can you repeat it please?",
    ]
    if 'hello' in command:
        talk('Hello! I am TARS. How can I help you?')
    else:
        error = random.choice(errors)
        talk(error)

talk('TARS is ready!')

#loop to continue executing multiple commands while True:
    tars(myCommand()) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è‰¯å¥½çš„..AI ä¸ä»…ä»…æ˜¯ä¸€å † IF è¯­å¥å—ï¼Ÿ

[![AI](img/014a8fedc59411a65b84819bc7ce99ba.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--UzSoaDyL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/r7jscyinhtfezslpr1fy.png)

å¦‚æœä½ è°ˆè®ºçš„æ˜¯â€œçœŸæ­£çš„â€äººå·¥æ™ºèƒ½ï¼Œé‚£ä¹ˆæ˜¯çš„ï¼Œå®ƒä¸ä»…ä»…æ˜¯ If è¯­å¥ã€‚äººå·¥æ™ºèƒ½çš„å‘å±•å†å²ä¸Šåˆ†ä¸ºä¸¤ä¸ªé¢†åŸŸï¼›ç¬¦å·äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ ã€‚

ç¬¦å·äººå·¥æ™ºèƒ½æ˜¯ç”¨ if-else å‹é€»è¾‘è®¾è®¡äººå·¥æ™ºèƒ½ç³»ç»Ÿçš„é¢†åŸŸã€‚ç¨‹åºå‘˜ä¼šè¯•å›¾å®šä¹‰ç³»ç»Ÿè¦å¤„ç†çš„æ¯ä¸€ä¸ªå¯èƒ½çš„åœºæ™¯ã€‚ç›´åˆ° 70 å¹´ä»£æœ«ï¼Œè¿™æ˜¯äººå·¥æ™ºèƒ½ç³»ç»Ÿå¼€å‘çš„ä¸»è¦å½¢å¼ã€‚è¯¥é¢†åŸŸçš„ä¸“å®¶éå¸¸å¼ºçƒˆåœ°è®¤ä¸ºï¼Œæœºå™¨å­¦ä¹ æ°¸è¿œä¸ä¼šæµè¡Œï¼Œäººå·¥æ™ºèƒ½åªèƒ½ä»¥è¿™ç§æ–¹å¼ç¼–å†™ã€‚

ç°åœ¨æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ™ºèƒ½ç³»ç»Ÿä¸­è€ƒè™‘æ¯ä¸€ç§å¯èƒ½çš„æƒ…å†µæ˜¯éå¸¸ä¸åˆ‡å®é™…çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥ä»£æ›¿ã€‚æœºå™¨å­¦ä¹ ä½¿ç”¨ç»Ÿè®¡å­¦æ¥å¯»æ‰¾å’Œå®šä¹‰æ•°æ®ä¸­çš„æ¨¡å¼ï¼Œä»¥ä¾¿æœºå™¨å¯ä»¥äº†è§£å’Œæ”¹è¿›å®ƒè¢«è®¾è®¡æ¥æ‰§è¡Œçš„ä»»åŠ¡ã€‚è¿™è¦çµæ´»å¾—å¤šã€‚

æˆ‘ä»¬åªæ˜¯ç”¨ä¸€å † IF è¯­å¥æ¥ç†è§£äººå·¥æ™ºèƒ½çš„åŸºç¡€ã€‚ä½†æ˜¯æˆ‘ä»¬ç¨åä¼šå®ç°ä¸€äº›å¾ˆé…·çš„ ML ç®—æ³•ã€‚

æˆ‘å¸Œæœ›ä½ åˆ°ç›®å‰ä¸ºæ­¢å­¦åˆ°äº†æ–°çš„ä¸œè¥¿ï¼Œç°åœ¨ï¼Œæ˜¯æ—¶å€™æ•™ TARS å¦‚ä½•è‡ªåŠ¨åŒ–çš„ä¸œè¥¿äº†ã€‚

##### æ‰“å¼€è°·æ­Œæœç´¢ä¸€ä¸‹

æˆ‘ä»¬å°†åœ¨ Python ä¸­å¯¼å…¥ [webbrowser](https://www.pythonforbeginners.com/code-snippets-source-code/python-webbrowser) æ¨¡å—ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ˜¾ç¤ºåŸºäº Web çš„æ–‡æ¡£çš„æ¥å£ã€‚

å½“æˆ‘ä»¬è¯´å‘½ä»¤æ—¶ï¼Œtar å¿…é¡»é€šè¿‡åŒ¹é…å®ƒä»¬æ¥æ£€æµ‹è¿™äº›å‘½ä»¤çš„å¯ç”¨æ€§ã€‚Python æœ‰ä¸€ä¸ªåä¸º [re](https://docs.python.org/3/library/re.html) çš„å†…ç½®åŒ…ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†æ­£åˆ™è¡¨è¾¾å¼ã€‚

```
import re
import webbrowser

if 'open google' in command:
        #matching command to check it is available
        reg_ex = re.search('open google (.*)', command)
        url = 'https://www.google.com/'
        if reg_ex:
            subgoogle = reg_ex.group(1)
            url = url + 'r/' + subreddit
        webbrowser.open(url)
        print('Done!') 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

re.search()æ–¹æ³•æ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼å’Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢è¯¥æ¨¡å¼ã€‚å¦‚æœæœç´¢æˆåŠŸï¼Œsearch()è¿”å›ä¸€ä¸ªåŒ¹é…å¯¹è±¡ï¼Œå¦åˆ™è¿”å› Noneã€‚å› æ­¤ï¼Œæœç´¢åé€šå¸¸ä¼šç´§è·Ÿä¸€ä¸ª if è¯­å¥ï¼Œä»¥æµ‹è¯•æœç´¢æ˜¯å¦æˆåŠŸ

ä»£ç  reg_ex = re.search('æ‰“å¼€è°·æ­Œ(ã€‚*)'ï¼Œå‘½ä»¤)å°†æœç´¢ç»“æœå­˜å‚¨åœ¨åä¸ºâ€œreg_exâ€çš„å˜é‡ä¸­ã€‚ç„¶å if è¯­å¥æµ‹è¯•åŒ¹é…-å¦‚æœä¸ºçœŸï¼Œåˆ™æœç´¢æˆåŠŸï¼Œgroup()æ˜¯åŒ¹é…çš„æ–‡æœ¬ã€‚å¦åˆ™ï¼Œå¦‚æœåŒ¹é…ä¸ºå‡(æ›´å…·ä½“åœ°è¯´æ˜¯æ— )ï¼Œåˆ™æœç´¢ä¸æˆåŠŸï¼Œå¹¶ä¸”æ²¡æœ‰åŒ¹é…çš„æ–‡æœ¬ã€‚ [reg_ex.group(1)](https://docs.python.org/2/library/re.html#re.MatchObject.group) ä¸­çš„ 1 è¡¨ç¤ºç¬¬ä¸€ä¸ªå¸¦æ‹¬å·çš„å­ç»„ã€‚

ç”šè‡³ä½ å¯ä»¥å®‰è£… **Selenium** é€šè¿‡ TARS åœ¨è°·æ­Œè¿›è¡Œæœç´¢ã€‚è¦å®‰è£… Seleniumï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
pip3 install selenium 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

Selenium WebDriver æ˜¯ä¸€ä¸ªå¼€æº API é›†åˆï¼Œç”¨äºè‡ªåŠ¨æµ‹è¯• web åº”ç”¨ç¨‹åºã€‚è¯¥å·¥å…·ç”¨äºè‡ªåŠ¨åŒ– web åº”ç”¨ç¨‹åºæµ‹è¯•ï¼Œä»¥éªŒè¯å®ƒæ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œã€‚å®ƒæ”¯æŒè®¸å¤šæµè§ˆå™¨ï¼Œå¦‚ Safariã€Firefoxã€IE å’Œ Chromeã€‚

ä½ å¯ä»¥æœç´¢å¦‚ä½•ç”¨ Python ä½¿ç”¨ [Seleniumï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æºï¼Œå­¦èµ·æ¥çœŸçš„å¾ˆå®¹æ˜“ã€‚è®©æˆ‘ä»¬å°†è¿™ä¸ªç‰¹æ€§æ·»åŠ åˆ° TARS ä¸­](https://selenium-python.readthedocs.io/)

```
from selenium import webdriver
from selenium.webdriver.common.keys import Keys

    if 'open google and search' in command:
        reg_ex = re.search('open google and search (.*)', command)
        search_for = command.split("search",1)[1]
        url = 'https://www.google.com/'
        if reg_ex:
            subgoogle = reg_ex.group(1)
            url = url + 'r/' + subgoogle
        talk('Okay!')
        driver = webdriver.Firefox(executable_path='/path/to/geckodriver') #depends which web browser you are using
        driver.get('http://www.google.com')
        search = driver.find_element_by_name('q') # finds search
        search.send_keys(str(search_for)) #sends search keys 
        search.send_keys(Keys.RETURN) #hits enter 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

TARS å°†è€ƒè™‘â€œæ‰“å¼€è°·æ­Œå’Œæœç´¢â€å‘½ä»¤åçš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†æ‰€æœ‰å•è¯ä½œä¸ºæœç´¢å…³é”®å­—ã€‚æˆ‘ç”¨çš„æ˜¯ Firefoxï¼Œæ‰€ä»¥æˆ‘å®‰è£…äº† geckodriverï¼Œä½†æ˜¯å¦‚æœä½ ç”¨çš„æ˜¯ Chromeï¼Œè¯·æ£€æŸ¥ä¸‹é¢çš„ StackOverflow é—®é¢˜ã€‚

<header>![](img/540c2ba90e5a347bd57c676bb96dfee0.png) [Python Selenium Chrome Webdriver](https://stackoverflow.com/questions/42478591/python-selenium-chrome-webdriver) Feb 27 '17 Comments: 2 Answers: 2[![](img/83f13d376e6608cc602ae93b1cdbae4e.png)68![](img/fd423aaf5fec73c645f97544689ea934.png)](https://stackoverflow.com/questions/42478591/python-selenium-chrome-webdriver) </header>

æˆ‘å¼€å§‹è‡ªåŠ¨åŒ–æ¯ç‡¥çš„ä¸œè¥¿ä¹¦ï¼Œæˆ‘è¯•å›¾é€šè¿‡ python æ‰“å¼€ä¸€ä¸ª chrome ç½‘ç»œæµè§ˆå™¨ã€‚æˆ‘å·²ç»å®‰è£…äº† selenium å’Œ

æˆ‘å·²å°è¯•è¿è¡Œè¯¥æ–‡ä»¶:

```
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys

browser = webdriver.Chrome()
browser.get('https://automatetheboringstuff.com') 
```

è€Œæ˜¯å› ä¸ºâ€¦

[Open Full Question](https://stackoverflow.com/questions/42478591/python-selenium-chrome-webdriver)

#### å‘é€ç”µå­é‚®ä»¶

æˆ‘ä»¬å°†å¯¼å…¥ **smtplib** æ¥ç”¨ Python å‘é€ç”µå­é‚®ä»¶ã€‚SMTP ä»£è¡¨ç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼Œå®ƒå¯¹äºä¸é‚®ä»¶æœåŠ¡å™¨é€šä¿¡ä»¥å‘é€é‚®ä»¶éå¸¸æœ‰ç”¨ã€‚

```
 import smtplib

  elif 'email' or 'gmail' in command:
        talk('What is the subject?')
        time.sleep(3)
        subject = myCommand()
        talk('What should I say?')
        time.sleep(3)
        message = myCommand()
        content = 'Subject: {}\n\n{}'.format(subject, message)

        #init gmail SMTP
        mail = smtplib.SMTP('smtp.gmail.com', 587)

        #identify to server
        mail.ehlo()

        #encrypt session
        mail.starttls()

        #login
        mail.login('your_gmail', 'your_gmail_password')

        #send message
        mail.sendmail('FROM', 'TO', content)

        #end mail connection
        mail.close()

        talk('Email sent.') 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯·æ³¨æ„ï¼Œç®€è€Œè¨€ä¹‹ï¼Œè°·æ­Œä¸å…è®¸ä½ é€šè¿‡ smtplib ç™»å½•ï¼Œå› ä¸ºå®ƒå·²ç»å°†è¿™ç§ç™»å½•æ ‡è®°ä¸ºâ€œä¸å¤ªå®‰å…¨â€ï¼Œæ‰€ä»¥ä½ å¿…é¡»åšçš„æ˜¯åœ¨ä½ ç™»å½•åˆ°ä½ çš„è°·æ­Œå¸æˆ·æ—¶è½¬åˆ°è¿™ä¸ªé“¾æ¥ï¼Œå¹¶å…è®¸è®¿é—®ã€‚

[å¯ç”¨](https://www.google.com/settings/security/lesssecureapps)

[![Google](img/6c3702034c5c517ff31c627429a5efb4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--D3gE32OJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/y4jbxy4w076bzo0u3ae2.png)

è¿˜æ˜¯ä¸è¡Œï¼Ÿæ£€æŸ¥è¿™ä¸ª StackOverflow é—®é¢˜

<header>![](img/540c2ba90e5a347bd57c676bb96dfee0.png) [Login credentials not working with Gmail SMTP](https://stackoverflow.com/questions/16512592/login-credentials-not-working-with-gmail-smtp) May 12 '13 Comments: 5 Answers: 13[![](img/83f13d376e6608cc602ae93b1cdbae4e.png)143![](img/fd423aaf5fec73c645f97544689ea934.png)](https://stackoverflow.com/questions/16512592/login-credentials-not-working-with-gmail-smtp) </header>

æˆ‘æ­£è¯•å›¾é€šè¿‡ Gmail ç”¨ Python å‘é€ä¸€å°ç”µå­é‚®ä»¶ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„ä»£ç :

```
import smtplib

fromaddr = '......................'  
toaddrs  = '......................'  
msg = 'Spam email Test'  

username = '.......'  
password = '.......'

server = smtplib.SMTP('smtp.gmail.com', 587)  
server.ehlo()
server.starttls()
server.login(username, password)  
server.sendmail(fromaddr, toaddrs, msg)  
server.quit() 
```

æˆ‘å¾—åˆ°çš„é”™è¯¯æ˜¯:

â€¦[Open Full Question](https://stackoverflow.com/questions/16512592/login-credentials-not-working-with-gmail-smtp)

##### çˆ¬ç½‘æ•°æ®

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åšå¾—å¾ˆå¥½ï¼TARS å¯ä»¥å‘é€é‚®ä»¶ï¼Œåœ¨è°·æ­Œä¸Šæœç´¢ä½ æƒ³æœç´¢çš„ä»»ä½•å†…å®¹ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®ç°æ›´å¤æ‚çš„åŠŸèƒ½ï¼Œè®© TARS æŠ“å–ä¸€äº›ç»´åŸºç™¾ç§‘æ•°æ®ï¼Œå¹¶ä¸ºæˆ‘ä»¬é˜…è¯»ã€‚

[ç¾æ±¤](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)æ˜¯ä¸€ä¸ª Python åº“ï¼Œç”¨äºä» HTML å’Œ XML æ–‡ä»¶ä¸­æå–æ•°æ®ã€‚å®ƒä¸æ‚¨å–œæ¬¢çš„è§£æå™¨ä¸€èµ·å·¥ä½œï¼Œæä¾›å¯¼èˆªã€æœç´¢å’Œä¿®æ”¹è§£ææ ‘çš„æƒ¯ç”¨æ–¹å¼ã€‚å®ƒé€šå¸¸ä¸ºç¨‹åºå‘˜èŠ‚çœæ•°å°æ—¶æˆ–æ•°å¤©çš„å·¥ä½œã€‚åœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… beautifulsoup:

```
pip install beautifulsoup4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¿˜éœ€è¦[è¯·æ±‚åº“](https://realpython.com/python-requests/)æ¥ç”¨ Python å‘å‡º HTTP è¯·æ±‚ã€‚å®ƒå°†å‘å‡ºè¯·æ±‚çš„å¤æ‚æ€§æŠ½è±¡åœ¨ä¸€ä¸ªæ¼‚äº®ã€ç®€å•çš„ API åé¢ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥ä¸“æ³¨äºä¸æœåŠ¡äº¤äº’å’Œåœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ•°æ®ã€‚å¥½å§ï¼è®©æˆ‘ä»¬çœ‹çœ‹ä»£ç :

```
import bs4
import requests

elif 'wikipedia' in command:
        reg_ex = re.search('search in wikipedia (.+)', command)
        if reg_ex: 
            query = command.split()
            response = requests.get("https://en.wikipedia.org/wiki/" + query[3])

            if response is not None:
                html = bs4.BeautifulSoup(response.text, 'html.parser')
                title = html.select("#firstHeading")[0].text
                paragraphs = html.select("p")
                for para in paragraphs:
                    print (para.text)

                intro = '\n'.join([ para.text for para in paragraphs[0:5]])
                print (intro)
                mp3name = 'speech.mp3'
                language = 'en'
                myobj = gTTS(text=intro, lang=language, slow=False)   
                myobj.save(mp3name)
                mixer.init()
                mixer.music.load("speech.mp3")
                mixer.music.play()
    elif 'stop' in command:
        mixer.music.stop() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

â€œåœ¨ç»´åŸºç™¾ç§‘ç«æ˜Ÿæœç´¢â€TARS ä¼šä»¥â€œç«æ˜Ÿâ€ä¸ºå…³é”®è¯åœ¨ç»´åŸºç™¾ç§‘æœç´¢ã€‚å¦‚æœä½ åœ¨ç»´åŸºç™¾ç§‘ä¸Šæœç´¢ä¸€äº›ä¸œè¥¿ï¼Œä½ ä¼šçœ‹åˆ° URL çœ‹èµ·æ¥åƒ https://en.wikipedia.org/wiki/Keywordï¼Œæ‰€ä»¥æˆ‘ä»¬å‘é€å¸¦æœ‰å…³é”®å­—(æœç´¢ä»€ä¹ˆ)çš„ get è¯·æ±‚æ¥è®¿é—®æ•°æ®ã€‚ä¸€æ—¦è¯·æ±‚æˆåŠŸï¼Œbeautifulsoup å°†è§£æç»´åŸºç™¾ç§‘ä¸­å†…å®¹ã€‚join()æ–¹æ³•æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„ sequence å…ƒç´ é€šè¿‡ str åˆ†éš”ç¬¦è¿æ¥åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥åˆ†éš”æ®µè½ã€‚ä½ å·²ç»ç†Ÿæ‚‰ gTTS å’Œæ··é¢‘å™¨ï¼Œæ‰€ä»¥æˆ‘é€šè¿‡è¿™ä¸€éƒ¨åˆ†ã€‚

TARS å°†åœ¨æ§åˆ¶å°ä¸Šæ˜¾ç¤ºæŠ“å–çš„æ•°æ®ï¼Œå¹¶å¼€å§‹ä¸ºæ‚¨è¯»å–ã€‚

##### åœ¨ YouTube ä¸Šæœç´¢è§†é¢‘å¹¶æ’­æ”¾

è¿™ä¸ªåŠŸèƒ½ç±»ä¼¼äºç”¨è°·æ­Œæœç´¢ï¼Œä½†è¿™æ¬¡ä½¿ç”¨ **urllib** æ›´å¥½ã€‚ä¸»è¦ç›®æ ‡æ˜¯å­¦ä¹  Python çš„æ–°çŸ¥è¯†ï¼Œæ‰€ä»¥æˆ‘ä¸æƒ³åœ¨è¿™ä¸ªå‡½æ•°ä¸­åŒ…å« Seleniumã€‚ä»£ç å¦‚ä¸‹:

```
import urllib.request #used to make requests import urllib.parse #used to parse values into the url 
 elif 'youtube' in command:
        talk('Ok!')
        reg_ex = re.search('youtube (.+)', command)
        if reg_ex:
            domain = command.split("youtube",1)[1] 
            query_string = urllib.parse.urlencode({"search_query" : domain})
            html_content = urllib.request.urlopen("http://www.youtube.com/results?" + query_string) 
            search_results = re.findall(r'href=\"\/watch\?v=(.{11})', html_content.read().decode()) # finds all links in search result
            webbrowser.open("http://www.youtube.com/watch?v={}".format(search_results[0]))
            pass 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

Python 3 ä¸­çš„ **urllib** æ¨¡å—å…è®¸ä½ é€šè¿‡ä½ çš„ç¨‹åºè®¿é—®ç½‘ç«™ã€‚è¿™ä¸ºä½ çš„ç¨‹åºæ‰“å¼€äº†è®¸å¤šçš„é—¨ï¼Œå°±åƒäº’è”ç½‘ä¸ºä½ æ‰“å¼€ä¸€æ ·ã€‚Python 3 ä¸­çš„ urllib ä¸ Python 2 ä¸­çš„ urllib2 ç•¥æœ‰ä¸åŒï¼Œä½†å®ƒä»¬å¤§éƒ¨åˆ†æ˜¯ç›¸åŒçš„ã€‚é€šè¿‡ urllibï¼Œæ‚¨å¯ä»¥è®¿é—®ç½‘ç«™ã€ä¸‹è½½æ•°æ®ã€è§£ææ•°æ®ã€ä¿®æ”¹æ‚¨çš„å¤´ï¼Œä»¥åŠæ‰§è¡Œæ‚¨å¯èƒ½éœ€è¦æ‰§è¡Œçš„ä»»ä½• GET å’Œ POST è¯·æ±‚ã€‚

æŸ¥çœ‹æœ¬æ•™ç¨‹äº†è§£æ›´å¤šå…³äº urllib çš„ä¿¡æ¯

åœ¨è§£æä¸º url ä¹‹å‰ï¼Œå¿…é¡»å¯¹æœç´¢å…³é”®å­—è¿›è¡Œç¼–ç ã€‚å¦‚æœä½ åœ¨ YouTube ä¸Šæœç´¢ä¸€äº›ä¸œè¥¿ï¼Œä½ å¯ä»¥çœ‹åˆ°åœ¨ http://www.youtube.com/results?"ä¹‹åæœ‰ä¸€ä¸ªç¼–ç çš„æœç´¢å…³é”®å­—ã€‚ä¸€æ—¦è¿™äº›æœç´¢å…³é”®å­—è¢«ç¼–ç ï¼Œç¨‹åºå°±å¯ä»¥æˆåŠŸåœ°è®¿é—®æœç´¢ç»“æœã€‚è¡¨è¾¾å¼ [re.findall()](https://www.hackerrank.com/challenges/re-findall-re-finditer/problem) å°†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸é‡å çš„æ¨¡å¼åŒ¹é…ä½œä¸ºå­—ç¬¦ä¸²åˆ—è¡¨è¿”å›ã€‚youtube ä¸Šçš„æ¯ä¸ªè§†é¢‘éƒ½æœ‰è‡ªå·±çš„ 11 ä¸ªå­—ç¬¦ ID(https://www.youtube.com/watch?v=**GEP ma 3us jdi**)ï¼Œre.findall()ä¼šåœ¨è§£ç åçš„ html_content(åœ¨æœç´¢ç»“æœé¡µé¢)ä¸­æ‰¾åˆ°æ‰€æœ‰åŒ¹é…ã€‚decode()ç”¨äºä»ä¸€ç§ç¼–ç æ–¹æ¡ˆè½¬æ¢ï¼Œå…¶ä¸­è‡ªå˜é‡å­—ç¬¦ä¸²è¢«ç¼–ç ä¸ºæ‰€éœ€çš„ç¼–ç æ–¹æ¡ˆã€‚è¿™ä¸ç¼–ç ç›¸åã€‚å®ƒæ¥å—ç¼–ç å­—ç¬¦ä¸²çš„ç¼–ç ï¼Œå¯¹å…¶è¿›è¡Œè§£ç ï¼Œå¹¶è¿”å›åŸå§‹å­—ç¬¦ä¸²ã€‚æœ€åï¼Œå®ƒæ’­æ”¾æœç´¢ç»“æœä¸­çš„ç¬¬ä¸€ä¸ªè§†é¢‘ï¼Œå› ä¸ºé€šå¸¸ç¬¬ä¸€ä¸ªè§†é¢‘æ˜¯æœ€æ¥è¿‘æœç´¢å…³é”®å­—çš„è§†é¢‘ã€‚

å®Œæ•´ä»£ç :

```
from gtts import gTTS
import speech_recognition as sr
import re
import time
import webbrowser
import random
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import smtplib
import requests
from pygame import mixer
import urllib.request
import urllib.parse
import bs4

def talk(audio):
    "speaks audio passed as argument"

    print(audio)
    for line in audio.splitlines():
        text_to_speech = gTTS(text=audio, lang='en-uk')
        text_to_speech.save('audio.mp3')
        mixer.init()
        mixer.music.load("audio.mp3")
        mixer.music.play()

def myCommand():
    "listens for commands"
    #Initialize the recognizer
    #The primary purpose of a Recognizer instance is, of course, to recognize speech. 
    r = sr.Recognizer()

    with sr.Microphone() as source:
        print('TARS is Ready...')
        r.pause_threshold = 1
        #wait for a second to let the recognizer adjust the  
        #energy threshold based on the surrounding noise level 
        r.adjust_for_ambient_noise(source, duration=1)
        #listens for the user's input
        audio = r.listen(source)
        print('analyzing...')

    try:
        command = r.recognize_google(audio).lower()
        print('You said: ' + command + '\n')
        time.sleep(2)

    #loop back to continue to listen for commands if unrecognizable speech is received
    except sr.UnknownValueError:
        print('Your last command couldn\'t be heard')
        command = myCommand();

    return command

def tars(command):
    errors=[
        "I don't know what you mean",
        "Excuse me?",
        "Can you repeat it please?",
    ]
    "if statements for executing commands"

    # Search on Google
    if 'open google and search' in command:
        reg_ex = re.search('open google and search (.*)', command)
        search_for = command.split("search",1)[1] 
        print(search_for)
        url = 'https://www.google.com/'
        if reg_ex:
            subgoogle = reg_ex.group(1)
            url = url + 'r/' + subgoogle
        talk('Okay!')
        driver = webdriver.Firefox(executable_path='/home/coderasha/Desktop/geckodriver')
        driver.get('http://www.google.com')
        search = driver.find_element_by_name('q')
        search.send_keys(str(search_for))
        search.send_keys(Keys.RETURN) # hit return after you enter search text 
    #Send Email
    elif 'email' in command:
        talk('What is the subject?')
        time.sleep(3)
        subject = myCommand()
        talk('What should I say?')
        message = myCommand()
        content = 'Subject: {}\n\n{}'.format(subject, message)

        #init gmail SMTP
        mail = smtplib.SMTP('smtp.gmail.com', 587)

        #identify to server
        mail.ehlo()

        #encrypt session
        mail.starttls()

        #login
        mail.login('your_mail', 'your_mail_password')

        #send message
        mail.sendmail('FROM', 'TO', content)

        #end mail connection
        mail.close()

        talk('Email sent.')

    # search in wikipedia (e.g. Can you search in wikipedia apples)
    elif 'wikipedia' in command:
        reg_ex = re.search('wikipedia (.+)', command)
        if reg_ex: 
            query = command.split("wikipedia",1)[1] 
            response = requests.get("https://en.wikipedia.org/wiki/" + query)
            if response is not None:
                html = bs4.BeautifulSoup(response.text, 'html.parser')
                title = html.select("#firstHeading")[0].text
                paragraphs = html.select("p")
                for para in paragraphs:
                    print (para.text)
                intro = '\n'.join([ para.text for para in paragraphs[0:3]])
                print (intro)
                mp3name = 'speech.mp3'
                language = 'en'
                myobj = gTTS(text=intro, lang=language, slow=False)   
                myobj.save(mp3name)
                mixer.init()
                mixer.music.load("speech.mp3")
               while mixer.music.play()
    elif 'stop' in command:
        mixer.music.stop()

    # Search videos on Youtube and play (e.g. Search in youtube believer)
    elif 'youtube' in command:
        talk('Ok!')
        reg_ex = re.search('youtube (.+)', command)
        if reg_ex:
            domain = command.split("youtube",1)[1] 
            query_string = urllib.parse.urlencode({"search_query" : domain})
            html_content = urllib.request.urlopen("http://www.youtube.com/results?" + query_string)
            search_results = re.findall(r'href=\"\/watch\?v=(.{11})', html_content.read().decode())
            #print("http://www.youtube.com/watch?v=" + search_results[0])
            webbrowser.open("http://www.youtube.com/watch?v={}".format(search_results[0]))
            pass

    elif 'hello' in command:
        talk('Hello! I am TARS. How can I help you?')
        time.sleep(3)
    elif 'who are you' in command:
        talk('I am one of four former U.S. Marine Corps tactical robots')
        time.sleep(3)
    else:
        error = random.choice(errors)
        talk(error)
        time.sleep(3)

talk('TARS activated!')

#loop to continue executing multiple commands while True:
    time.sleep(4)
    tars(myCommand()) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é…·ï¼æˆ‘ä»¬åˆšåˆšåˆ›å»ºäº†æ¼”ç¤º TARSï¼Œæˆ‘å¸Œæœ›æ‚¨èƒ½ä»è¿™ä¸ªå®éªŒä¸­å­¦åˆ°å¾ˆå¤šä¸œè¥¿ã€‚è¯·éšæ„åœ¨ [GitHub](https://github.com/raszidzie/TARS) ä¸Šè´¡çŒ®è¿™ä¸ªé¡¹ç›®ï¼ŒTARS å°†ç­‰å¾…æ”¹è¿›ã€‚

ä¸‹ä¸€ç¯‡å¸–å­å†è§ï¼Œå¼€å‘è€…ä»¬ï¼ä¿æŒè”ç³»ï¼ğŸš€

[insta gram](https://www.instagram.com/coderasha/?hl=en)
[Twitter](https://twitter.com/coderasha?lang=en)
ç»™æˆ‘ä¹°æ¯å’–å•¡[æ”¯æŒæˆ‘](https://www.buymeacoffee.com/xT2K0N1PY)