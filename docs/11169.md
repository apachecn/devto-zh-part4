# æˆ‘å¦‚ä½•ä½¿ç”¨ ml5.js å’Œ React åœ¨æµè§ˆå™¨ä¸­å°è¯•å›¾åƒåˆ†ç±»

> åŸæ–‡:[https://dev . to/ATA pas/how-I-attempted-image-class ification-in-the-browser-using-ml5-js-and-react-1lj 3](https://dev.to/atapas/how-i-attempted-image-classification-in-the-browser-using-ml5-js-and-react-1lj3)

# [](#motivation)åŠ¨æœº

è‡ªä»æˆ‘çš„[æœºå™¨å­¦ä¹ ä¹‹æ—…](https://blog.greenroots.info/my-machine-learning-journey-so-far-cjv13atsb0015fhs1sd9xuc52)å¼€å§‹ï¼Œæˆ‘å°±æ·±æ·±åœ°è¿·å¤±åœ¨ *Python* ã€ *TensorFlow* ã€ç†è§£*æ·±åº¦å­¦ä¹ *å’Œ*ç¥ç»ç½‘ç»œ*çš„äººç¾¤ä¸­ã€‚

è™½ç„¶æ‰€æœ‰è¿™äº›éƒ½æ˜¯çº¯ç²¹çš„ä¹è¶£å’Œç´§å¼ çš„å­¦ä¹ ï¼Œæˆ‘é”™è¿‡äº†ä¸€äº›ç±»ä¼¼çš„æµè§ˆå™¨ä¸­è¿è¡Œã€‚æ­¤å¤–ï¼Œæœºå™¨å­¦ä¹ (ML)ç”¨ä¾‹æœ‰ä¸€ä¸ªå·¨å¤§çš„æ–¹é¢ï¼Œå³ä¸ªäººä¸å¿…å­¦ä¹  ML çš„æ‰€æœ‰åº•å±‚äº‹å®ï¼Œè€Œæ˜¯å¯ä»¥åˆ©ç”¨å…¶ä»–äººæ‰€åšçš„æ‰€æœ‰è‰°è‹¦å·¥ä½œæ¥åšä¸€äº›å¾ˆé…·çš„äº‹æƒ…ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„ 3-4 åˆ†é’Ÿå†…çœ‹åˆ°çš„ä¸€ä¸ªä¾‹å­ã€‚

æ”¾æ¾ï¼Œä½œä¸ºè¿™ä¸ªæ•…äº‹çš„è¯»è€…ï¼Œä½ ä¸éœ€è¦ä»»ä½•æœºå™¨å­¦ä¹ æˆ–ä»»ä½•ç›¸å…³çš„ç»éªŒã€‚ç»§ç»­è¯»ä¸‹å»ï¼Œä½ ä¼šå–œæ¬¢çš„ã€‚

# [](#understanding-image-classification-from-the-top-of-mount-everest29029-ft)ä»ç ç©†æœ—ç›å³°(29029 è‹±å°º)ä¹‹å·…ç†è§£å½±åƒåˆ†ç±»

`Image Classification`æ˜¯ä¸€ä¸ªæœºå™¨å­¦ä¹ é—®é¢˜ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ç»„**ç›®æ ‡**(åƒæ±½è½¦ã€çŒ«ã€ç‹—ã€èˆ¹ç­‰ç‰©ä½“ã€‚ä¸ºäº†åœ¨å›¾åƒä¸­è¯†åˆ«)ï¼Œ**è®­ç»ƒ**ä¸€ä¸ª**å‹å·**ä½¿ç”¨**æ ‡æ³¨çš„**ç¤ºä¾‹(æ ·æœ¬)ç…§ç‰‡æ¥è¯†åˆ«å®ƒä»¬ã€‚

è¦ç†è§£è¿™ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œ

*   æˆ‘ä»¬é¦–å…ˆéœ€è¦æ•™ä¼šè®¡ç®—æœº(åŸºæœ¬ä¸Šå°±æ˜¯æœºå™¨)æ±½è½¦ã€çŒ«ã€ç‹—æˆ–èˆ¹æ˜¯ä»€ä¹ˆæ ·å­ã€‚è¿™ä¸ªé˜¶æ®µå«åšï¼Œ`Training`ã€‚
*   è½¦ã€çŒ«ã€èˆ¹ã€ç‹—ç­‰è¢«ç§°ä¸º`Labels`ã€‚
*   æ±½è½¦ã€çŒ«ã€èˆ¹ã€ç‹—ç­‰å„ç§ç±»å‹çš„æ ·å“ç§°ä¸º`Labeled Examples`ã€‚
*   è®¡ç®—æœºçœ‹åˆ°çš„è¿™ç§ç‰©ä½“è¶Šå¤šï¼Œå®ƒå°±è¶Šæœ‰å¯èƒ½è¯†åˆ«å‡ºæ›´å¤šç±»ä¼¼çš„ç‰©ä½“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬è®­ç»ƒè®¡ç®—æœºæ›´å¤šåœ°æ˜¾ç¤º*èˆ¹*çš„å›¾åƒï¼Œå®ƒå¯èƒ½ä¼šåœ¨ä»¥åæ›´å¥½åœ°è¯†åˆ«*èˆ¹*çš„å›¾åƒã€‚è¿™å°±æ˜¯æ‰€è°“çš„[ç›‘ç£å­¦ä¹ ](https://en.wikipedia.org/wiki/Supervised_learning)ã€‚
*   æ‰€æœ‰è¿™äº›æœºå™¨çš„æ•™å­¦-å­¦ä¹ -é¢„æµ‹éƒ½æ˜¯é€šè¿‡å„ç§ç®—æ³•æ¥å®ç°çš„ï¼Œè¿™äº›ç®—æ³•è¢«ç§°ä¸º`Machine Learning Algorithm`ã€‚
*   æˆ‘ä»¬å°†è®­ç»ƒæ•°æ®(å›¾åƒ)æä¾›ç»™æœºå™¨å­¦ä¹ ç®—æ³•è¿›è¡Œå­¦ä¹ ï¼Œå¹¶ç”Ÿæˆæœºå™¨å­¦ä¹ `Model`ã€‚

[![CarCatBoatDog.png](../Images/bfad0278da56f27b296f263236edd810.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--c9M1epyg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1563338545799/6SMLJnPKl.png)

# [](#our-image-classification-problem)æˆ‘ä»¬çš„å›¾åƒåˆ†ç±»é—®é¢˜

æœ‰äº†ç›®å‰æ‰€è·å¾—çš„çŸ¥è¯†ï¼Œè®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶æ‰‹å¤´çš„é—®é¢˜ã€‚æˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªç½‘ç»œåº”ç”¨ç¨‹åºï¼Œ

*   ä½¿ç”¨å›¾åƒé€‰æ‹©å™¨é€‰æ‹©æˆ‘ä»¬é€‰æ‹©çš„å›¾åƒã€‚- BYOI:å¸¦ä¸Šä½ è‡ªå·±çš„å½¢è±¡ï¼
*   ä»ä¸€äº›ç°æˆçš„å›¾åƒåˆ—è¡¨ä¸­é€‰æ‹©å›¾åƒã€‚
*   å¯¹è¿™äº›å›¾åƒæ‰§è¡Œå‰ 3 ä¸ªé¢„æµ‹ã€‚
*   å‘å¸ƒé¢„æµ‹ç»“æœï¼Œå…¶ä¸­åŒ…å«ä¸çœŸå®å¯¹è±¡åŒ¹é…çš„æ¦‚ç‡ç™¾åˆ†æ¯”ã€‚

[![screen_BYOI.png](../Images/ce2d32c428a25d0ca5c4d4e5f12888df.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--wcXg5_TF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1563356090151/qcT-PqypE.png)
[![screen.png](../Images/7011b527b553dc90e3f12e2e01655428.png)T6ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YbBevl_r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1563354666862/9HJ7JLfl8.png)

æ­¤å¤–ï¼Œæˆ‘ä»¬å°†æœ€ä¸æ‹…å¿ƒæ¨¡å‹æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œåœ¨åé¢è¿è¡Œä»€ä¹ˆç®—æ³•æ¥å®ç°å®ƒç­‰ç­‰ã€‚è¿™äº›éƒ½å¾ˆé‡è¦ï¼Œä½†å¯¹æˆ‘ä»¬åœ¨è¿™é‡Œå…³æ³¨çš„ç”¨ä¾‹æ¥è¯´æ²¡é‚£ä¹ˆé‡è¦ã€‚

# [](#demo)æ¼”ç¤º

éƒ½å¾ˆå…´å¥‹å—ï¼Ÿ

è®©æˆ‘ä»¬åœ¨è¿™é‡Œçœ‹çœ‹å®ƒçš„ä½œç”¨=> [ml-greenroots-info](https://ml-greenroots-info.netlify.com/ML5ImageClassification/)

# [](#lets-talk-about-the-technologies)æˆ‘ä»¬æ¥è°ˆè°ˆæŠ€æœ¯

æœ‰å¾ˆå¤šé€‰æ‹©å¯ä»¥å°è¯•åŸºäº JavaScript çš„ ML åº“æˆ–å·¥å…·åŒ…ï¼Œåœ¨æµè§ˆå™¨ä¸­è¿›è¡Œæœºå™¨å­¦ä¹ ã€‚æœ‰äº›æ˜¯ä¸ºäº†è§£å†³åŸºæœ¬é—®é¢˜ï¼Œå¾ˆå°‘æ˜¯åƒ, [TensorFlow è¿™æ ·çš„é«˜çº§ã€‚JS](https://www.tensorflow.org/js) ã€‚

*   å¯¹äºæˆ‘çš„ç”¨ä¾‹ï¼Œæˆ‘é€‰æ‹©äº†ä¸€ä¸ªå‹å¥½çš„æœºå™¨å­¦ä¹ åº“ï¼Œåä¸º [ml5.js](https://ml5js.org/) ã€‚è¯¥åº“åœ¨æµè§ˆå™¨ä¸­æä¾›å¯¹æœºå™¨å­¦ä¹ ç®—æ³•å’Œæ¨¡å‹çš„è®¿é—®ï¼Œæ„å»ºåœ¨ TensorFlow.js ä¹‹ä¸Šï¼Œæ²¡æœ‰å…¶ä»–å¤–éƒ¨ä¾èµ–æ€§ğŸ‘ã€‚
*   ä»…ä»…å› ä¸ºæˆ‘å–œæ¬¢å®ƒğŸ˜„ï¼æ‚¨å¯ä»¥ä½¿ç”¨è‡ªå·±é€‰æ‹©çš„ä»»ä½•å…¶ä»– UI åº“æˆ–æ¡†æ¶ã€‚

# [](#dive-deeper)æ½œå¾—æ›´æ·±

ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®æ­¥éª¤ï¼Œå°†æœ‰åŠ©äºç”¨`react`è®¾ç½®`ml5.js`å¹¶å¼€å§‹ä½¿ç”¨å®ƒ:

*   ä½ å¯ä»¥ä½¿ç”¨ *[create-react-app](https://facebook.github.io/create-react-app/docs/getting-started)* æˆ–è€…ä½¿ç”¨ *[Gatsby.js](https://www.gatsbyjs.org/)* æˆ–è€…é€šè¿‡ä»»ä½•å…¶ä»–æ–¹å¼å¼€å§‹ä¸€ä¸ª react é¡¹ç›®ã€‚
*   ä½¿ç”¨ npm å®‰è£…`ml5.js`ï¼Œå¼€å§‹ä½¿ç”¨å®ƒ

```
 npm i ml5 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   å°†`ml5.js`å¯¼å…¥åˆ° React ç»„ä»¶ä¸­

```
 import * as ml5 from "ml5"; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   æœ‰äº†`ml5.js`ï¼Œä½ å¯ä»¥åˆ©ç”¨å„ç§å¼€æºçš„`Model`æä¾›å•†ï¼Œæ¯”å¦‚ï¼Œ**ã€**ç­‰ã€‚ä¸ç”¨å¤ªæ‹…å¿ƒæ½œåœ¨çš„äº‹å®ã€‚å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ *MobileNet* ã€‚
*   æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªåˆ†ç±»å™¨æ¥æ‰§è¡Œå›¾åƒåˆ†ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
 // Initialize the Image Classifier method with MobileNet
    const classifier = ml5.imageClassifier('MobileNet', modelLoaded);
    // When the model is loaded
    function modelLoaded() {
      console.log('Model Loaded!');
    } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ­£å¦‚æ‚¨åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œå½“æ¨¡å‹ä»`MobileNet`æˆåŠŸåŠ è½½æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªåˆ†ç±»å™¨å¹¶å¤„ç†ä¸€ä¸ªå›è°ƒã€‚

*   ä¸€æ—¦æˆ‘ä»¬æœ‰äº†åˆ†ç±»å™¨ï¼Œä¸‹ä¸€ä¸ªåŠ¨ä½œå°±æ˜¯*å¯¹å›¾åƒ*è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æ‰§è¡Œ*é¢„æµ‹*ã€‚è¿™å°†ä¼šå˜å¾—è¶…çº§ç®€å•ï¼çœ‹çœ‹è¿™æ®µä»£ç :

```
 // Make a prediction with a selected image
    classifier.predict(image, 3, function(err, results) {
      if(err) {
        console.log(err);
      }
      return results;
    }).then((results) => {
      // set the prediction in state and off the loader
      this.setLoader(false);
      this.setPredictions(results);
    }); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ•´æ´ï¼Œå¯¹ä¸å¯¹ï¼Ÿæˆ‘ä»¬é€šè¿‡ä¼ é€’å›¾åƒã€æ‰€éœ€çš„é¢„æµ‹æ•°(åœ¨æœ¬ä¾‹ä¸­ä¸º 3)å’Œé¢„æµ‹å®Œæˆåè¦å¤„ç†çš„å›è°ƒæ¥è°ƒç”¨`predict`æ–¹æ³•ã€‚

ä¸€æ—¦é¢„æµ‹å®Œæˆï¼Œæˆ‘ä»¬åªéœ€åœ¨ React ç»„ä»¶ä¸­è®¾ç½®ä¸€äº›çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨å®ƒè¿›è¡Œæ¸²æŸ“ã€‚ä»¥ä¸Šå°±æ˜¯å…³äºä»£ç çš„æœºå™¨å­¦ä¹ éƒ¨åˆ†ã€‚å‰©ä¸‹çš„ï¼Œåªæ˜¯ä¸ react ç»„ä»¶ç›¸å…³çš„æ–¹æ³•å’Œæ ·å¼ã€‚

# [](#follow-the-code-and-contribute)å…³æ³¨ç å’Œï¼ŒæŠ•ç¨¿

æ‚¨å¯ä»¥åœ¨æˆ‘çš„ GitHub èµ„æºåº“ä¸­æŸ¥çœ‹ä»£ç :

*   [https://github.com/atapas/ml-greenroots](https://github.com/atapas/ml-greenroots)

è¯¥é¡¹ç›®åŸºäº* [GatsbyJS](https://www.gatsbyjs.org/) *å¹¶å¾—åˆ°äº†ä¸* [Netlify](https://www.netlify.com/) *å»ºç«‹çš„æ„å»º-éƒ¨ç½²-å·¥ä½œæµæŒ‚é’©ã€‚å¦‚æœæ‚¨å¯¹ä»£ç æœ‰ä»»ä½•é‡è¦çš„ä¿®æ”¹æˆ–å»ºè®®ï¼Œè¯·éšæ—¶å‘é€è¯·æ±‚ã€‚

æ‚¨è¿˜å¯ä»¥æ·»åŠ è‡ªå·±çš„ç»„ä»¶æ¥åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œ ML ç”¨ä¾‹ã€‚è°¢è°¢å¤§å®¶ï¼

# [](#caveats)å‘Šè¯«

å¦‚æœä¸æåˆ°ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œè¿™ç¯‡åšæ–‡å°†æ˜¯ä¸å®Œæ•´çš„:

*   æµè§ˆå™¨ä¸­çš„æœºå™¨å­¦ä¹ æ­£åœ¨å…´èµ·ã€‚ç„¶è€Œï¼ŒML ç®—æ³•åœ¨æµè§ˆå™¨ä¸­çš„æ€§èƒ½ä¸ä¼šå¾ˆå¥½ã€‚äººä»¬åº”è¯¥æ ¹æ®æ‰‹å¤´çš„ç”¨ä¾‹ä»¥åŠå¤´è„‘ä¸­çš„ç›®æ ‡è§’è‰²æ¥å†³å®šä½¿ç”¨å®ƒã€‚

æœ‰äº†æ”¯æŒå®ƒçš„å·¥å…·å’Œåº“ï¼Œæˆ‘ä»¬éƒ½è¢«é¼“åŠ±å»å°è¯•å®ƒã€‚å¯¹æˆ‘æ¥è¯´ï¼Œåƒè¿™æ ·çš„é¡¹ç›®æ˜¯ä¸€ä¸ªåˆ‡å…¥ç‚¹ï¼Œå¯ä»¥ä¸€å±‚ä¸€å±‚åœ°æ·±å…¥å­¦ä¹ æœºå™¨å­¦ä¹ ã€‚

*   å¦‚æœä½ è®¿é—®ä¸Šé¢æåˆ°çš„ github repoï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªåä¸º`ML5ImageClassification.js`çš„æ–‡ä»¶ï¼Œå®ƒæ˜¯ React ç»„ä»¶å®Œæˆæ‰€æœ‰è¿™äº›ç¥å¥‡çš„äº‹æƒ…ã€‚

ç„¶è€Œï¼Œè¿™å¯èƒ½ä¸æ˜¯ä½ çœ‹åˆ°çš„æœ€å¥½çš„ä»£ç ï¼Œè¿™æ˜¯æ•…æ„çš„ã€‚å› ä¸ºæˆ‘æ‰“ç®—ä½¿ç”¨ [react é’©å­](https://reactjs.org/docs/hooks-intro.html)é‡å†™ä»£ç ï¼Œä»¥å±•ç¤ºå¦‚ä½•ä½¿ç”¨*é’©å­*å’Œ effectivelyâœ¨âœ¨âœ¨.è½»æ¾ä¿®æ”¹ç°æœ‰çš„ react é¡¹ç›®æ•¬è¯·æœŸå¾…ï¼

# [](#credits-and-resources)ä¿¡ç”¨å’Œèµ„æº

*   ç”± Soragrit Wongsa åœ¨ Unsplash ä¸Šæ‹æ‘„çš„å°é¢ç…§ç‰‡
*   ä½¿ç”¨ TensorFlow.js å¯¹[å›¾åƒåˆ†ç±»çš„ç²¾å½©é˜…è¯»](https://medium.com/@tifa2up/image-classification-using-deep-neural-networks-a-beginner-friendly-approach-using-tensorflow-94b0a090ccd4)
*   ml5.js çš„ [GitHub é¡µé¢](https://github.com/ml5js/ml5-library)

å¦‚æœä½ å·²ç»é€šè¯»å¹¶è¾¾åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå¤ªå¥½äº†ï¼

è°¢è°¢æ‚¨ä»¬ã€‚å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ã€‚è¯·è¯„è®ºåˆ†äº«ã€‚

ä½ ä¹Ÿå¯ä»¥åœ¨ [GreenRoots](https://blog.greenroots.info/) ä¸Šå…³æ³¨æˆ‘çš„åšå®¢