# åœ¨å‡ åˆ†é’Ÿå†…å°†å›½é™…åŒ–æ·»åŠ åˆ° Nuxt.js åº”ç”¨ç¨‹åºä¸­

> åŸæ–‡ï¼š<https://dev.to/christopherkade/adding-internationalization-to-your-nuxt-js-applications-39jd>

è®¸å¤šå‰ç«¯å¼€å‘äººå‘˜ç»å¸¸å®³æ€•å®ç°å›½é™…åŒ–(é€šå¸¸ç§°ä¸º`i18n`)ã€‚åœ¨ it æ–¹é¢ï¼Œè®¾ç½®ã€å³æ—¶æ·»åŠ æ–°è¯­è¨€& UX é€šå¸¸æ˜¯ä¸»è¦å…³æ³¨ç‚¹ã€‚

è°¢å¤©è°¢åœ°ï¼Œ [Nuxt.js](https://nuxtjs.org) è®©æ•´ä¸ªè¿‡ç¨‹å˜å¾—æå…¶ç®€å•ã€‚åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæˆ‘å°†ä¸€æ­¥ä¸€æ­¥åœ°ä»‹ç»å¦‚ä½•ä¸º Nuxt åº”ç”¨ç¨‹åºè®¾ç½® i18nã€‚

æˆå“å¯ä»¥åœ¨ Codesandbox [è¿™é‡Œ](https://codesandbox.io/s/nuxt-i18n-example-sppzc)æ‰¾åˆ°ã€‚

### ç¬¬ä¸€æ­¥:å®‰è£…`vue-i18n`å¹¶è®¾ç½®å¥½

æˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ [vue-i18n](https://github.com/kazupon/vue-i18n) åŒ…æ¥å¤„ç†å›½é™…åŒ–ã€‚

ä»å®‰è£…å¼€å§‹:

```
# Using npm
npm install vue-i18n

# Using yarn
yarn add vue-i18n 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œåœ¨æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¸­å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ªæ’ä»¶:

```
// nuxt.config.js

export default {
  // ...

  plugins: ["~/plugins/i18n.js"],

  // ...
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç°åœ¨éœ€è¦åˆ›å»ºå‰é¢æåˆ°çš„`i18n.js`æ–‡ä»¶æ¥é…ç½®æˆ‘ä»¬çš„æ’ä»¶:

```
// plugins/i18n.js

import Vue from "vue";
import VueI18n from "vue-i18n";

// Tell Vue to use our plugin
Vue.use(VueI18n);

export default ({ app }) => {
  // Set the i18n instance on app
  // This way we can use it globally in our components through this.$i18n
  app.i18n = new VueI18n({
    // Set the initial locale
    locale: "en",

    // Set the fallback locale in case the current locale can't be found
    fallbackLocale: "en",

    // Associate each locale to a content file 
    messages: {
      en: require("~/static/content-en.json"),
      fr: require("~/static/content-fr.json")
    }
  });
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸è¦å¿˜è®°åˆ›å»ºåŒ…å«æ¯ç§è¯­è¨€çš„æ–‡æœ¬å€¼çš„`json`æ–‡ä»¶ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰:

```
//  static/content-en.json  {  "title":  "Hello, how are you?"  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å’Œ

```
//  static/content-fr.json  {  "title":  "Bonjour, comment allez-vous?"  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å°†èƒ½å¤Ÿè®¿é—®æˆ‘ä»¬ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ªå€¼ï¼Œå°±åƒè¿™æ ·:

```
// Will return the correct string based on the current locale
this.$t("title") 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ç¬¬äºŒæ­¥:åŠ¨æ€æ”¹å˜æˆ‘ä»¬çš„è¯­è¨€ç¯å¢ƒ

å½“æˆ‘ä»¬éœ€è¦æ”¹å˜è¯­è¨€æ—¶ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯æ›´æ–°`i18n`ä¸Šä¸‹æ–‡å¯¹è±¡çš„`locale`å±æ€§ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜:

```
changeLanguage(lang) {  
  // Change the i18n context object's locale
  // This makes it so the correct locale file is used
  this.$i18n.locale = lang;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸‹é¢æ˜¯è¿™ä¸ªæ–¹æ³•åœ¨ç»„ä»¶ä¸Šä¸‹æ–‡ä¸­çš„åº”ç”¨:

```
<template>
  <section>
    <h1>{{ title }}</h1>

    <div>
      <button @click="changeLanguage('en')">EN</button>       
      <button @click="changeLanguage('fr')">FR</button>
    </div>
  </section>
</template>

<script>
export default {
  computed: {
    title() {
      // this.$t("title") returns the value of our title attribute in our JSON file
      // The correct file is selected based on the locale value
      // If it was an object, we could access its attributes like so: this.$t("myObject").myAttribute
      return this.$t("title");
    }
  },
  methods: {
    /**
     * Called when a language button is clicked
     * Changes the i18n context variable's locale to the one selected
     */
    changeLanguage(lang) {  
      this.$i18n.locale = lang;
    }
  }
};
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ç¬¬ä¸‰æ­¥:ç­‰ç­‰ï¼Œæ²¡æœ‰ç¬¬ä¸‰æ­¥ï¼Ÿ

æ˜¯çš„ï¼Œè¿™å°±æ˜¯åœ¨ Nuxt åº”ç”¨ç¨‹åºä¸­å¤„ç† i18n æ‰€éœ€è¦çŸ¥é“çš„å…¨éƒ¨å†…å®¹ã€‚å½“ç„¶ï¼Œåœ¨å®˜æ–¹çš„[æ–‡æ¡£ä¸­å¯ä»¥çœ‹åˆ°å¾ˆå¤šå®šåˆ¶ç”¨æˆ·ä½“éªŒçš„æ–¹æ³•](https://kazupon.github.io/vue-i18n/introduction.html)ã€‚

æˆ‘å¸Œæœ›è¿™æœ‰åŠ©äºä½ ä»¬ä¸­çš„ä¸€äº›äººåœ¨ Nuxt é¡¹ç›®çš„èƒŒæ™¯ä¸‹ç†è§£æˆ‘ä»¬çš„ i18nã€‚è¯·éšæ—¶å…³æ³¨æˆ‘ï¼Œäº†è§£æˆ‘å°†æ¥ä¼šå†™çš„å…³äº Javascriptã€Reactã€Vue & CSS çš„æ–‡ç« ã€‚

Twitter ç»å¯¹æ˜¯æŸ¥çœ‹æˆ‘æ¯æ—¥åˆ†äº«å†…å®¹çš„æœ€ä½³åœ°æ–¹ï¼Œæ‰€ä»¥è¯·éšæ„ğŸ‘‹çœ‹ç€æˆ‘ã€‚