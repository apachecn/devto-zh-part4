# åœ¨ React for Web ä¸­é…ç½®ç»å¯¹è·¯å¾„è€Œä¸å¼¹å‡º[en-US]

> åŸæ–‡ï¼š<https://dev.to/bybruno/configuring-absolute-paths-in-react-for-web-without-ejecting-en-us-52h6>

åœ¨ä½ å®Œæˆäº†ä¸€ç¯‡å±•ç¤ºå¦‚ä½•åœ¨ React Native ä¸­è®¾ç½®[ç»å¯¹è·¯å¾„çš„æ–‡ç« ä¹‹åï¼Œç°åœ¨æˆ‘å·²ç»å‘ä½ å±•ç¤ºäº†å¦‚ä½•åœ¨ React for Web ä¸­è¿™æ ·åšã€‚](https://dev.to/bybruno/configuring-absolute-paths-in-react-native-en-us-2m5k)

è™½ç„¶ React å›¢é˜Ÿæ²¡æœ‰åœ¨ CRA å®ç°è¿™ä¸€ç‚¹ï¼Œä½†æˆ‘ä»¬å°†è‡ªå·±åŠ¨æ‰‹è®¾ç½®ï¼Œä¸éœ€è¦å¼¹å‡ºã€‚ç»§ç»­é˜…è¯»ï¼Œä½ ä¼šçœ‹åˆ°å¥‡è¿¹å‘ç”Ÿã€‚

## â˜•å°ä»‹ç»

### ä¸ºä»€ä¹ˆä¸å¼¹å‡ºé¡¹ç›®ï¼Ÿ

å—¯ï¼ŒåŸå› æ˜¯ä½ æ‰“ç ´äº† CRA çš„â€œä¿è¯â€ã€‚ä½†æ˜¯å†·é™ï¼Œæˆ‘å·²ç»çœ‹åˆ°å‡ ä¸ªé¡¹ç›®è¢«é©±é€ï¼Œä»–ä»¬ä»ç„¶åœ¨ç”Ÿäº§ä¸­å®Œç¾åœ°å·¥ä½œï¼Œå”¯ä¸€çš„é—®é¢˜æ˜¯é©±é€ï¼Œè®¾ç½®å°†æ˜¯æˆ‘çš„ï¼Œæˆ‘å¿…é¡»æ”¯æŒä»–ä»¬ã€‚

â€œä¸œè¥¿ä¼šç¢â€â€”â€”[ä¸¹Â·é˜¿å¸ƒæ‹‰è«å¤«](https://twitter.com/dan_abramov/status/1045809734069170176)

ä½†å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨åƒ craco è¿™æ ·çš„å·¥å…·ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å›åˆ° CRA çš„é»˜è®¤è®¾ç½®ã€‚è¿™çœŸæ˜¯ä¸å¯æ€è®®ï¼

ç”±äºæˆ‘ä»¬å°†åªè§¦åŠ*åˆ«å*ï¼Œæ‰€ä»¥æ‚¨ä¸å¿…å¤ªæ‹…å¿ƒï¼Œcraco å°†æŠŠæˆ‘ä»¬åœ¨ *craco.config.js* æ–‡ä»¶ä¸­æ‰€åšçš„æ–°è®¾ç½®æ³¨å…¥åˆ° CRA é»˜è®¤è®¾ç½®ä¸­ã€‚

å¦‚æœæ‚¨ä¸çŸ¥é“ï¼Œåœ¨ä½¿ç”¨ Reactjs åˆ›å»ºçš„é¡¹ç›®ä¸­é…ç½®ç»å¯¹è·¯å¾„çš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡ä»¶çš„å¯¼å…¥ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç¬¦å·æ¥è¡¨ç¤ºä»£ç çš„æ ¹ç›®å½•ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­:

```
 Use this ğŸ˜
import Form from '@/components/Form'

E Avoid this ğŸ˜¤
import Form from '../../../../../components/Form' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ä»–ä»¬è¯´å­¦ä¹ æ˜¯ä¸€ç§å®è·µğŸŠ

â˜æ‰€ä»¥æ¥å§ï¼Œæ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œå®‰è£…å¿…è¦çš„ä¾èµ–:

```
# yarn
yarn add @craco/craco

# npm
npm i @craco/craco 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

âœŒåœ¨æ‰§è¡Œäº† *craco* å®‰è£…ä¹‹åï¼Œæˆ‘ä»¬å°†éœ€è¦é‡å‘½åä¸€äº› *package.json* å‘½ä»¤è¡Œã€‚

å°†â€œååº”è„šæœ¬â€æ›¿æ¢ä¸º*â€œcracoâ€*ã€‚

```
{  "scripts":  {  "start":  "craco start",  "build":  "craco build",  "test":  "craco test",  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°†å¯¼è‡´ CRA è„šæœ¬ç”± *craco* æ‰§è¡Œï¼Œå®ƒå°†æ³¨å…¥ *craco.config.js* æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚

ğŸ› åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºåä¸º *craco.config.js* çš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹è®¾ç½®:

```
const path = require('path');

module.exports = {
  webpack: {
    alias: {
      '@': path.resolve(__dirname, 'src/')
    }
  },
  jest: {
    configure: {
      moduleNameMapper: {
        '^@(.*)$': '<rootDir>/src$1'
      }
    }
  }
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ä¸€æ’® VueJSï¼Œè¯·ï¼ğŸ²

æˆ‘ä½¿ç”¨çš„æ˜¯ Vuejs ä½¿ç”¨çš„*åˆ«å*â€œ@â€å¤åˆ¶ã€‚ä½ å¯ä»¥ç”¨ä½ è§‰å¾—æœ‰è¶£çš„*åˆ«å*ï¼Œæ¯”å¦‚â€œ~â€æˆ–è€…â€œ#â€ã€‚

## æˆ‘çš„è™šæ‹Ÿä»£ç ä»€ä¹ˆéƒ½ä¸æ‡‚ğŸ˜¢

åœ¨è¿™æ ·åšçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œè‡ªåŠ¨å®Œæˆã€‚å½“æˆ‘ä»¬ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯¼å…¥æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å·²ç»ä¹ æƒ¯äº†è‡ªåŠ¨å®Œæˆã€‚

å‘ç”Ÿæ­¤é”™è¯¯æ˜¯å› ä¸º VSCode ä¸ç†è§£â€œ@â€æ˜¯æˆ‘ä»¬é¡¹ç›®çš„â€œsrcâ€æ–‡ä»¶å¤¹ã€‚è¦å¯ç”¨è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦é…ç½® VSCodeï¼Œä»¥ä¾¿å®ƒèƒ½å¤Ÿç†è§£ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º *jsconfig.json* çš„æ–‡ä»¶ã€‚

äº†è§£æ›´å¤šå…³äº [jsconfig.json](https://code.visualstudio.com/docs/languages/jsconfig) çš„ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶ä¸­åŒ…å«ä»¥ä¸‹å±æ€§:

```
{  "compilerOptions":  {  "baseUrl":  "src",  "paths":  {  "@/*":  ["./*"]  }  },  "exclude":  ["node_modules",  "**/node_modules/*"]  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¤ªç¥å¥‡äº†ï¼

[![](img/ee00943ab1ba036652244152faed86c4.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--0kRe_1US--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/d8dnvamm9u4v3xhp0hl3.png)

ç°åœ¨å®ƒå¯ä»¥å®Œç¾åœ°å·¥ä½œäº†ï¼Œä½¿ç”¨å‘½ä»¤:npm start æ¥è¿è¡Œæ‚¨çš„é¡¹ç›®ã€‚

## ä¸€ä¸ªå–œæ¬¢ä¸€ç›´æŠ±æ€¨çš„å·¥å…·ï¼ğŸ˜¡

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ *eslint* ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°å®ƒä¼šæŠ±æ€¨æ‚¨ä½¿ç”¨â€œ@â€æ‰§è¡Œçš„æ‰€æœ‰å¯¼å…¥ã€‚

æ„Ÿè°¢ä¸Šå¸ï¼Œæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ä½¿ç”¨ [eslint-import-alias](https://www.npmjs.com/package/eslint-import-resolver-alias) æ¥å¹³æ¯ *eslint* ã€‚

çœ‹åœ¨ä¸Šå¸çš„ä»½ä¸Šï¼Œâ˜é¦–å…ˆå°†ä¸‹é¢çš„åº“æ·»åŠ ä¸ºå¼€å‘ä¾èµ–é¡¹ï¼ğŸ˜°

```
# yarn
yarn add eslint-plugin-import eslint-import-resolver-alias -D

# npm
npm i eslint-plugin-import eslint-import-resolver-alias -D 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ çš„. eslintrc.json æ–‡ä»¶ä¸­çš„âœŒåŒ…æ‹¬ä»¥ä¸‹å±æ€§:

```
 "settings": {
    "import/resolver": {
      "alias": {
        "map": [["@", "./src"]]
      }
    }
  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## çœ‹ä¼¼æ„šè ¢å®åˆ™ä¸ç„¶çš„é—®é¢˜ğŸ˜³ğŸ’¬

#### æˆ‘å¯ä»¥åœ¨æŠ•å…¥ç”Ÿäº§çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿™ç§æŠ€æœ¯å—ï¼Ÿ

å›ç­”:å¯ä»¥ï¼Œç”¨èµ·æ¥æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼

#### å¯ä»¥åœ¨ React Native ä¸­ä½¿ç”¨å—ï¼Ÿ

å›ç­”:ä¸ä¼šï¼ŒReact Native ä¸­çš„è®¾ç½®ä¸ä¸€æ ·ï¼Œæˆ‘ç»™ä½ æ¼”ç¤ºä¸€ä¸‹è¿™ç¯‡æ–‡ç« æ€ä¹ˆåš:
[åœ¨ React Native ä¸­é…ç½®ç»å¯¹è·¯å¾„](https://dev.to/bybruno/configuring-absolute-paths-in-react-native-en-us-2m5k)ã€‚

#### æˆ‘çš„æµ‹è¯•æ–‡ä»¶ä¼šå¤±è´¥å—ï¼Ÿ

å›ç­”:å¦‚æœä½ ä¸€æ­¥ä¸€æ­¥åœ°æ­£ç¡®éµå¾ªï¼Œå®ƒå¯èƒ½ä¸ä¼šç»™ä½ ä¸€ä¸ªé”™è¯¯ã€‚å¦‚æœæ‚¨å·²ç»æ›´æ”¹äº†å°†è¦ç”¨ä½œ*åˆ«å*çš„ç¬¦å·ï¼Œè¯·ç¡®ä¿æ‚¨ä¹Ÿå°†å®ƒæ”¾åœ¨äº† craco.config.js æ–‡ä»¶çš„ jest é…ç½®ä¸­çš„ *moduleNameMapper* å±æ€§ä¸­ã€‚

#### ä½ ä¸ºä»€ä¹ˆä¸ç”¨å·´åˆ«å¡”æ’ä»¶ root å¯¼å…¥ï¼Ÿ

å›ç­”:ä¸ Babel æ’ä»¶æ ¹å¯¼å…¥ä¸åŒï¼Œæˆ‘ä»¬åªå¯¼å…¥ä¸€ä¸ªè§£å†³é—®é¢˜çš„åº“ï¼Œå¹¶ä¸”ç®€å•æ˜“ç”¨ã€‚å¦ä¸€ä¸ªä¸€ç›´å›°æ‰°æˆ‘çš„æ˜¯ï¼Œå®ƒä¸æ”¯æŒ CRA 3.0ï¼Œæ‰€ä»¥ä½¿ç”¨ Cracoã€‚

## æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœç”Ÿæ´»ä¸­çš„ä¸€åˆ‡éƒ½å®Œç¾è¿è½¬ğŸ¦„

åƒä»»ä½•åº“ä¸€æ ·ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨@craco ä¸­å‘ç°é”™è¯¯ï¼Œå¦‚æœå‘ç°ï¼Œè¯·åœ¨å®˜æ–¹é¡¹ç›®ä¸­ä¸ºç¤¾åŒºæ‰“å¼€ä¸€ä¸ª[é—®é¢˜ï¼Œä»¥æ”¹è¿›åº“å¹¶ä½¿å…¶å¯¹æ¯ä¸ªäººéƒ½å¯ç”¨ã€‚](https://github.com/sharegate/craco/issues)

ä½†æ˜¯å¾ˆé…·ï¼Œä¸ºäº†è¿™ä¸ªæ•™ç¨‹æ— æ‰€ç•æƒ§åœ°ä½¿ç”¨å®ƒã€‚

## è¯¥è¯´å†è§äº†ğŸ˜©

æˆ‘çœŸçš„å¾ˆäº«å—å’Œä½ åœ¨ä¸€èµ·çš„æ—¶å…‰ã€‚å¦‚æœä½ æƒ³çŸ¥é“æˆ‘åœ¨åšä»€ä¹ˆï¼Œè¯·åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘ã€‚

é€šè¿‡åˆ†äº«è¿™ç¯‡æ–‡ç« ï¼Œå¸®åŠ©æ‚¨çš„å¼€å‘äººå‘˜æœ‹å‹åœæ­¢é­å—ç›¸å¯¹è¿›å£çš„ç—›è‹¦ï¼

ä¸€ä¸ªå¤§å¤§çš„æ‹¥æŠ±ï¼Œä¸‹æ¬¡å†è§ï¼