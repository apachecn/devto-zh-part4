# åˆ›å»ºä¸€ä¸ª Twitter NASA åº”ç”¨ç¨‹åºğŸš€

> åŸæ–‡:[https://dev.to/twitterdev/build-a-twitter-nasa-app-57kb](https://dev.to/twitterdev/build-a-twitter-nasa-app-57kb)

###### [](#this-project-is-hosted-on-glitch-httpsglitchcomdailynasa)è¯¥é¡¹ç›®æ‰˜ç®¡äºæ ¼æ—å¥‡:ã€https://glitch.com/~dailynasa T2ã€‘

NASA æ¯å¤©éƒ½ä¼šé€šè¿‡ä»–ä»¬çš„å…¬å…± API å‘å¸ƒä¸€å¼ å¤©æ–‡å­¦æˆ–ç©ºé—´ç§‘å­¦ç›¸å…³çš„å›¾ç‰‡ã€‚è¿™äº›å›¾åƒéå¸¸é…·ï¼Œå¹¶ä¸”å‘Šè¯‰ä½ æˆ‘ä»¬å±…ä½çš„ä¸å¯æ€è®®çš„å¤ªé˜³ç³»ï¼

ä½œä¸ºä¸€åå¤©æ–‡çˆ±å¥½è€…ï¼Œæˆ‘æƒ³çŸ¥é“å¦‚ä½•è½»æ¾æŸ¥çœ‹è¿™äº›å›¾åƒï¼Œç”šè‡³è®©å®ƒä»¬å‡ºç°åœ¨æˆ‘çš„ Twitter æ—¶é—´è½´ä¸Šã€‚æˆ‘å¼€å§‹ç€æ‰‹è¿™é¡¹å·¥ä½œï¼Œå¹¶æœ€ç»ˆå®Œæˆäº†è¿™ä¸ªå…¨è‡ªåŠ¨çš„ NASA æ¯æ—¥åº”ç”¨ç¨‹åºï¼Œå®ƒå¯ä»¥åœ¨æ¨ç‰¹ä¸Šå‘å¸ƒ NASA æ¯å¤©å‘å¸ƒçš„å›¾ç‰‡ã€‚

æˆ‘ä»¬çš„ node.js åº”ç”¨ç¨‹åºå°†è¿æ¥åˆ° NASA APIï¼Œä¸´æ—¶å­˜å‚¨æä¾›çš„åª’ä½“ï¼Œå¹¶é€šè¿‡ Twitter API å‘å¸ƒæ ‡é¢˜ä¸º+å›¾åƒ/è§†é¢‘çš„æ¨æ–‡ã€‚è¿™é‡Œæœ‰ä¸€ä¸ª[çš„ä¾‹å­](https://twitter.com/DailyNASA/status/1161986403653292035)ã€‚ç›¸å½“ç®€å•ï¼

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘è¿˜å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Twitter å’Œ NASA APIs æ¥æ„å»ºè¿™ä¸ªåº”ç”¨ç¨‹åºã€‚è¦æŸ¥çœ‹åº”ç”¨ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œè¯·æŸ¥çœ‹ Twitter é¡µé¢ [@DailyNASA](https://twitter.com/dailynasa) ã€‚

## æˆ‘ä»¬ä»Šå¤©è¦åšä»€ä¹ˆï¼Ÿ

æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†è¢«æ‰˜ç®¡åœ¨ [Glitch](https://glitch.com/~dailynasa) ä¸Šï¼Œæ‰€ä»¥é™¤äº†ç¡®ä¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¢«æ­£ç¡®é…ç½®ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¸ä¼šåšå¤ªå¤šäº‹æƒ…ã€‚

ä¸€æ—¦æˆ‘ä»¬çš„é¡¹ç›®è¢«é‡æ–°æ··åˆå¹¶ä¸”`.env`æ–‡ä»¶çš„å¯†é’¥å’Œä»¤ç‰Œè¢«æ­£ç¡®é…ç½®ï¼Œæˆ‘ä»¬å°†å®‰æ’ä¸€ä¸ª cron-job æ¥ä½¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‘å‡º Tweetã€‚cron-job æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè‡ªåŠ¨å”¤é†’å‘¼å«ã€‚

## [](#how-does-the-code-work-exactly)ä»£ç åˆ°åº•æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ

1.  è¯¥åº”ç”¨ç¨‹åºå°†é€šè¿‡ç½‘ç»œæŒ‚é’©æ¿€æ´»ã€‚æˆ‘ä»¬çš„ cron-job å°†åœ¨ä¸€å¤©ä¸­çš„ç‰¹å®šæ—¶é—´ pinged è¿™ä¸ª webhookâ°
2.  æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†è¿æ¥åˆ°ç¾å›½å®‡èˆªå±€çš„ APIğŸš€
3.  è¯¥åº”ç”¨ç¨‹åºå°†æ£€æŸ¥ NASA API æä¾›çš„åª’ä½“æ˜¯å›¾åƒ URL è¿˜æ˜¯è§†é¢‘ URLã€‚å¦‚æœæ˜¯ä¸€å¼ ç…§ç‰‡ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¼šä¸‹è½½å›¾ç‰‡å¹¶å‘å¸ƒã€‚å¦‚æœæ˜¯è§†é¢‘ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†åªå‘å¸ƒè§†é¢‘ç½‘å€:
    *   **è§†é¢‘**ğŸ“¹-åº”ç”¨ç¨‹åºå°†ä¿å­˜è§†é¢‘ URL +æ ‡é¢˜ï¼Œå¹¶é€šè¿‡ Twitter [çŠ¶æ€/æ›´æ–°](https://developer.twitter.com/en/docs/tweets/post-and-engage/api-reference/post-statuses-update)ç«¯ç‚¹å‘å¸ƒã€‚è¿™é‡Œæœ‰ä¸€ä¸ª[çš„ä¾‹å­](https://twitter.com/DailyNASA/status/1151477103306649604)ã€‚
    *   **å›¾åƒ**ğŸ“·-åº”ç”¨ç¨‹åºä¼šå°†å›¾åƒä¿å­˜åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œå¹¶é€šè¿‡ Twitter [çŠ¶æ€/æ›´æ–°](https://developer.twitter.com/en/docs/tweets/post-and-engage/api-reference/post-statuses-update)ç«¯ç‚¹å‘å¸ƒã€‚è¿™é‡Œæœ‰ä¸€ä¸ª[çš„ä¾‹å­](https://twitter.com/DailyNASA/status/1161986403653292035)ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒå¡«æ»¡ç©ºé—´(ä¸€è¯­åŒå…³)ğŸ¥

## [](#prerequisites)å…ˆå†³æ¡ä»¶

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦ä»¥ä¸‹å†…å®¹:

*   Twitter å¼€å‘è€…è´¦æˆ·- [ç‚¹å‡»æ­¤å¤„](https://t.co/developeraccount)ç”³è¯·

*   ä¸€ä¸ªæ³¨å†Œäº†çš„æ¨ç‰¹åº”ç”¨ç¨‹åº - [ç‚¹å‡»è¿™é‡Œ](https://cdn.glitch.com/40a2e399-2bcb-4c11-b356-fdb1d9baa5e9%2FScreen%20Shot%202019-08-08%20at%205.20.15%20PM%20copy.png?v=1565299668056)çœ‹çœ‹æ€ä¹ˆåš

*   ä½ çš„ [Twitter API](https://developer.twitter.com/en/apps) å¯†é’¥å’Œä»¤ç‰Œçš„å‰¯æœ¬- [ç‚¹å‡»è¿™é‡Œ](https://cdn.glitch.com/40a2e399-2bcb-4c11-b356-fdb1d9baa5e9%2FScreen%20Shot%202019-08-08%20at%205.20.35%20PM%20copy.png?v=1565300041251)æŸ¥çœ‹å¦‚ä½•æ“ä½œ

*   ç¾å›½å®‡èˆªå±€ API å¯†åŒ™ğŸ”‘- [ç‚¹å‡»æ­¤å¤„](https://api.nasa.gov/#apply-for-an-api-key)è·å–ä¸€ä¸ª

*   cron-job å¸æˆ·- [ç‚¹å‡»æ­¤å¤„](https://cron-job.org/en/signup/)è¿›è¡Œæ³¨å†Œ

ä¸€æ—¦ä½ æœ‰äº†æ‰€æœ‰è¿™äº›ï¼Œä½ å°±å¯ä»¥å¼€å§‹äº†ğŸš€ï¼

## [](#recipe)èœè°±

ç¬¬ä¸€æ­¥ğŸ’¿

a)åœ¨æˆ‘ä»¬çš„ [Glitch é¡¹ç›®é¡µé¢](https://glitch.com/~dailynasa)ä¸Šï¼Œé‡æ–°æ··åˆè¿™ä¸ªé¡¹ç›®ï¼ç‚¹å‡»æœ¬é¡µå·¦ä¸Šè§’çš„â€œé‡æ–°æ··åˆé¡¹ç›®â€æŒ‰é’®ã€‚

[![Remix](../Images/e495f079895c206a4699cb0ea6141e13.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--rKLuwUSa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.glitch.com/40a2e399-2bcb-4c11-b356-fdb1d9baa5e9%252FScreen%2520Shot%25202019-08-08%2520at%25203.54.26%2520PM.png%3Fv%3D1565294080315)

b)å‘½åæ‚¨çš„åº”ç”¨ç¨‹åºã€‚

æˆ‘å«æˆ‘çš„`dailynasa`

[![Name](../Images/02cf2b1f5a49bb8ca4af96b2a3672779.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--k4Ln--tM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.glitch.com/40a2e399-2bcb-4c11-b356-fdb1d9baa5e9%252FScreen%2520Shot%25202019-08-08%2520at%25203.57.37%2520PM.png%3Fv%3D1565294269445)

ç¬¬äºŒæ­¥ğŸ”‘

a)åœ¨é¡¹ç›®`.env`æ–‡ä»¶ä¸­è¾“å…¥æ‚¨çš„ Twitter åº”ç”¨å¯†é’¥å’Œä»¤ç‰Œ

[![Keys](../Images/0327ba5a420e67cc31be4b3dd3ddc582.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--M1K3xKx0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.glitch.com/40a2e399-2bcb-4c11-b356-fdb1d9baa5e9%252FScreen1%2520Shot%25202019-08-08%2520at%25205.20.35%2520PM%2520copy.png%3Fv%3D1565300721909)

b)åœ¨é¡¹ç›®`.env`æ–‡ä»¶ä¸­è¾“å…¥æ‚¨çš„ NASA API å¯†é’¥

c)ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºç«¯ç‚¹å‘½å

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘å°†æˆ‘çš„æ–‡ä»¶æ ‡è®°ä¸º`wakeup`ï¼Œé‚£ä¹ˆä½ çš„`.env`æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„:`BOT_ENDPOINT='awaken'`ã€‚æˆ‘çš„æœ€ç»ˆç«¯ç‚¹å°†å¦‚ä¸‹æ‰€ç¤º:`https://dailynasa.glitch.me/wakeup`

ğŸš¨é‡è¦-ä¿æŒæ‰€æœ‰è®¿é—®å¯†é’¥ã€ä»¤ç‰Œå’Œç«¯ç‚¹åç§°çš„ç§å¯†æ€§ğŸš¨

æ­¥éª¤ 3 -æµ‹è¯•æµ‹è¯•ï¼ï¼

ç°åœ¨æ‚¨å·²ç»é…ç½®äº†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œè®©æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ã€‚

æˆ‘é€šå¸¸å»ºè®®åœ¨å·¥å…·â†’æ—¥å¿—ä¸­æŸ¥çœ‹æ—¥å¿—ï¼Œä»¥éªŒè¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨å”¤é†’æ—¶æ˜¯å¦è¿è¡Œã€‚

åœ¨æ–°çš„æµè§ˆå™¨çª—å£ä¸­ï¼Œè¾“å…¥æ‚¨å”¯ä¸€çš„ç«¯ç‚¹ URL å¹¶æŒ‰ enter é”®ã€‚(æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯• URL:`curl https://dailynasa.glitch.me/wakeup`

ç¨ç­‰ä¸€ä¼šå„¿ï¼Œä½ çš„æ¨ç‰¹è´¦æˆ·ä¸Šå°±ä¼šå‡ºç°ç¾å›½å®‡èˆªå±€å‘å¸ƒçš„æ¯æ—¥æ¨æ–‡ã€‚

ç°åœ¨æ‚¨å·²ç»éªŒè¯äº†å®ƒçš„å·¥ä½œï¼Œè®©æˆ‘ä»¬ç¡®ä¿å®ƒæ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œè¿™æ ·æ‚¨å°±ä¸å¿…æ¯å¤©éƒ½è¿™æ ·åšäº†ã€‚

ç¬¬å››æ­¥-â°

æˆ‘ä»¬å°†ä½¿ç”¨[cron-job.org](https://cron-job.org/en/)æ¥ ping æˆ‘ä»¬çš„ç«¯ç‚¹ï¼Œå¹¶è®©æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå‘å¸ƒæ¯æ—¥æ¨æ–‡ã€‚

åˆ›å»ºä¸€ä¸ª[æ–°çš„ cron-job](https://cron-job.org/en/members/jobs/add/) å¹¶å¡«å†™é¡µé¢:

[![cron-job](../Images/9a97f5264319706b73b3063255b29245.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s---KpoW5UZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.glitch.com/40a2e399-2bcb-4c11-b356-fdb1d9baa5e9%252FScreen%2520Shot%25202019-08-08%2520at%25206.13.22%2520PM.png%3Fv%3D1565302473410)

ğŸš¨é‡è¦çš„æ˜¯â€”â€”å®‰æ’ä½ çš„åº”ç”¨è¿‡äºé¢‘ç¹åœ°è¿è¡Œä¼šæ˜¾å¾—å¾ˆåƒåœ¾ï¼Œå¹¶å¯¼è‡´è¿å Twitters çš„è‡ªåŠ¨åŒ–æ”¿ç­–ã€‚ğŸš¨

ä¸€æ—¦ä½œä¸šè¿è¡Œï¼Œæ‚¨å¯ä»¥åœ¨[é¡µé¢](https://cron-job.org/en/members/jobs/)ä¸ŠæŸ¥çœ‹å“åº”ã€‚

å°±è¿™æ ·ï¼Œæˆ‘ä»¬ç»“æŸäº†ï¼

## [](#congratulations)æ­å–œæ­å–œï¼

ä½ åšåˆ°äº†ï¼ğŸ˜

å¦‚æœä½ å–œæ¬¢ä»æ•™ç¨‹ä¸­å­¦ä¹ æˆ–æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ Twitter çš„ç¤¾åŒºè®ºå›ã€‚