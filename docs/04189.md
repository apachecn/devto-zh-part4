# é€šè¿‡å§”æ‰˜å®ç°å¤šä¸ªæ¥å£

> åŸæ–‡ï¼š<https://dev.to/lankydandev/implementing-multiple-interfaces-through-delegation-h3a>

åœ¨ Kotlin ä¸­ï¼Œä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚è¿™æ˜¯å¸¸è¯†ã€‚ä¸€ä¸ªç±»è¿˜å¯ä»¥ä½¿ç”¨å§”æ‰˜æ¥å®ç°è®¸å¤šæ¥å£ï¼Œè¿™äº›æ¥å£çš„å®ç°æ¥è‡ªä¼ é€’ç»™æ„é€ å‡½æ•°çš„ä»»ä½•å§”æ‰˜å¯¹è±¡ã€‚ä¾‹å¦‚:

```
class GeneticExperiment(human: Human, animal: Animal) : Human by human, Animal by animal

interface Human {
  fun eat()
  fun sleep()
  fun poop()
}

interface Animal {
  fun bite()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªå¥‡æ€ªçš„ç±»ç»§æ‰¿äº†ä¼ é€’ç»™æ„é€ å‡½æ•°çš„`Human`å’Œ`Animal`å¯¹è±¡çš„åŠŸèƒ½ã€‚å¦‚æœæ²¡æœ‰å§”æ‰˜ï¼Œä»»ä½•ä¸€ä¸ªæ¥å£ä¸Šçš„å‡½æ•°éƒ½éœ€è¦åœ¨ç±»ä¸­æ‰‹å·¥å†™å‡ºã€‚

éœ€è¦æ³¨æ„çš„é‡è¦ä¸€ç‚¹æ˜¯ï¼Œ`Human`å’Œ`Animal`ä¸å…±äº«ä¸€ä¸ªå…¬å…±çš„çˆ¶æ¥å£ã€‚

å¦‚æœæ‚¨ç¡®å®æœ‰ä»ä¸€ä¸ªå…¬å…±æ¥å£æ‰©å±•çš„æ¥å£ï¼Œé‚£ä¹ˆç”±äºæ¥è‡ªå§”æ‰˜å¯¹è±¡çš„å†²çªå®ç°ï¼Œå°†ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œä»£ç :

```
class ShapeShifter(human: Human, weightLifter: WeightLifter) : Human by human, WeightLifter by weightLifter

interface Human {
  fun eat()
  fun sleep()
  fun poop()
}

interface WeightLifter : Human {
  fun liftHeavyStuff()
  fun pose()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¼è‡´é”™è¯¯çš„åŸå› :

```
Delegation.kt:80:1: error: class 'ShapeShifter' must override public open fun eat(): 
Unit defined in dev.lankydan.ShapeShifter because it inherits many implementations of it
class ShapeShifter(human: Human, weightLifter: WeightLifter) : Human by human, WeightLifter by weightLifter
^
Delegation.kt:80:1: error: class 'ShapeShifter' must override public open fun sleep(): 
Unit defined in dev.lankydan.ShapeShifter because it inherits many implementations of it
class ShapeShifter(human: Human, weightLifter: WeightLifter) : Human by human, WeightLifter by weightLifter
^
Delegation.kt:80:1: error: class 'ShapeShifter' must override public open fun poop(): 
Unit defined in dev.lankydan.ShapeShifter because it inherits many implementations of it
class ShapeShifter(human: Human, weightLifter: WeightLifter) : Human by human, WeightLifter by weightLifter
^ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ­£å¦‚æ‚¨åœ¨é”™è¯¯ä¸­çœ‹åˆ°çš„ï¼Œ`ShapeShifter`ç±»ä¸çŸ¥é“é‡‡ç”¨å“ªä¸ªå§”æ‰˜å®ç°ã€‚ç¼–è¯‘é”™è¯¯å¿…é¡»é€šè¿‡æ˜¾å¼é‡å†™å†²çªçš„å‡½æ•°æ¥è§£å†³ã€‚é€šè¿‡è¦†ç›–è¿™äº›å‡½æ•°ï¼Œæ‚¨å¯ä»¥å†³å®šå¸Œæœ›ä½¿ç”¨å“ªä¸ªå§”æ‰˜å®ç°ï¼Œæˆ–è€…æ‚¨å¯ä»¥æä¾›ä¸€ä¸ªæ–°çš„å§”æ‰˜å®ç°ã€‚è¿™ä¸ªç±»çš„ä¸€ä¸ªå›ºå®šç‰ˆæœ¬å¯èƒ½æ˜¯è¿™æ ·çš„:

```
class ShapeShifter(
  private val human: Human,
  private val weightLifter: WeightLifter
) : Human by human, WeightLifter by weightLifter {

  override fun eat() {
    human.eat()
  }

  override fun sleep() {
    weightLifter.sleep()
  }

  override fun poop() {
    println("ğŸ’©")
  }
}

interface Human {
  fun eat()
  fun sleep()
  fun poop()
}

interface WeightLifter : Human {
  fun liftHeavyStuff()
  fun pose()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> åªæœ‰åœ¨`Human`ç•Œé¢ä¸­å£°æ˜çš„åŠŸèƒ½éœ€è¦æ‰‹åŠ¨è¦†ç›–

ä»è¿™é‡Œç¨å¾®åé€€ä¸€æ­¥ã€‚åªè¦å®ç°äº†å­æ¥å£çš„æ‰€æœ‰å‡½æ•°ï¼Œå®ç°å­æ¥å£å¹¶å°†å…¶åŠŸèƒ½å§”æ‰˜ç»™å­æ¥å£çš„çˆ¶æ¥å£çš„ç±»å°±å¯ä»¥ç¼–è¯‘ã€‚éš¾ä»¥ç†è§£çš„æªè¾ã€‚ä¸¾ä¸ªä¾‹å­åº”è¯¥æœ‰åŠ©äºæ¾„æ¸…æˆ‘æƒ³è¯´çš„è¯

```
class ShapeShifter(copied: Human) : WeightLifter, Human by copied {

  override fun liftHeavyStuff() {
    println("ğŸ‹ï¸â€â™‚ï¸")
  }

  override fun pose() {
    println("ğŸ’ª")
  }
}

interface Human {
  fun eat()
  fun sleep()
  fun poop()
}

interface WeightLifter : Human {
  fun liftHeavyStuff()
  fun pose()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> åªæœ‰åœ¨`WeightLifter`ç•Œé¢ä¸­å£°æ˜çš„åŠŸèƒ½éœ€è¦æ‰‹åŠ¨æ·»åŠ 

æ€»ç»“ä¸€ä¸‹:

*   ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œå¹¶å°†å…¶åŠŸèƒ½å§”æ‰˜ç»™ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡
*   å…·æœ‰å¤šä¸ªæ¥å£çš„ç±»æ‰©å±•äº†ä¸€ä¸ªå…¬å…±çš„çˆ¶ç±»ï¼Œå¯ä»¥å§”æ‰˜æ¯ä¸ªæ¥å£çš„å®ç°ï¼Œä½†å¿…é¡»é‡å†™çˆ¶ç±»ä¸­å®šä¹‰çš„å‡½æ•°
*   å®ç°å­æ¥å£çš„ç±»å¯ä»¥å§”æ‰˜ç»™å®ƒçš„çˆ¶æ¥å£ï¼Œå¹¶ä¸”åªéœ€è¦æ·»åŠ åœ¨å­æ¥å£ä¸­å®šä¹‰çš„å‡½æ•°ã€‚

å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« æˆ–è€…è§‰å¾—å®ƒæœ‰å¸®åŠ©(æˆ–è€…ä¸¤è€…å…¼è€Œæœ‰ä¹‹),é‚£ä¹ˆè¯·éšæ—¶åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘ï¼Œåœ°å€æ˜¯ [@LankyDanDev](https://twitter.com/LankyDanDev) ,å¹¶ä¸”è®°å¾—ä¸å…¶ä»–ä»»ä½•å¯èƒ½å‘ç°è¿™ç¯‡æ–‡ç« æœ‰ç”¨çš„äººåˆ†äº«ï¼