# ä»€ä¹ˆæ˜¯ Python ç¤ºä¾‹ä¸­çš„åŠ¨æ€ç¼–ç¨‹

> åŸæ–‡:[https://dev . to/brandonskeritt/what-is-dynamic-programming-with-python-examples-420n](https://dev.to/brandonskerritt/what-is-dynamic-programming-with-python-examples-420n)

è¿™æ˜¯åŠ¨æ€ç¼–ç¨‹çš„ç»ˆææŒ‡å—ã€‚ç»è¿‡æ•°æœˆçš„æç‚¼ï¼Œåœ¨æœ€çŸ­çš„æ—¶é—´å†…ä¸ºæ‚¨æä¾›æœ€å¥½çš„çŸ¥è¯†ã€‚
æ—¨åœ¨è®©å¯¹ç®—æ³•è®¾è®¡æ¯«æ— **çŸ¥è¯†çš„äººé˜…è¯»ã€‚æˆ–è€…è°åœ¨ç®—æ³•è¯¾ä¸Šç¡ç€äº†(æ‹œæ‰˜ï¼Œæˆ‘ä»¬éƒ½ç¡ç€äº†ğŸ˜‰)**

åŠ¨æ€è§„åˆ’(DP)æ˜¯å°†ä¼˜åŒ–é—®é¢˜åˆ†è§£æˆæ›´å°çš„å­é—®é¢˜ï¼Œå¹¶å­˜å‚¨æ¯ä¸ªå­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥ä¾¿æ¯ä¸ªå­é—®é¢˜åªè§£å†³ä¸€æ¬¡ã€‚

å®ƒæ—¢æ˜¯ä¸€ç§[æ•°å­¦ä¼˜åŒ–](https://en.wikipedia.org/wiki/Mathematical_optimization)æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¸€ç§è®¡ç®—æœºç¼–ç¨‹æ–¹æ³•ã€‚

*ä¼˜åŒ–é—®é¢˜*æ±‚æœ€å¤§æˆ–æœ€å°è§£ã€‚åŠ¨æ€è§„åˆ’ç»å¸¸ç”¨äºä¼˜åŒ–é—®é¢˜ã€‚ä¸€èˆ¬è§„åˆ™æ˜¯ï¼Œå¦‚æœä½ é‡åˆ°ä¸€ä¸ªåˆå§‹ç®—æ³•åœ¨ 2 <sup>n</sup> æ—¶é—´å†…è§£å†³çš„é—®é¢˜ï¼Œä½¿ç”¨ DP å¯èƒ½ä¼šæ›´å¥½ã€‚
[![](../Images/7eb98057e92572389168fa3b8b8e603c.png)](https://b.ck.page)

* * *

### [](#why-is-dynamic-programming-called-dynamic-programming)åŠ¨æ€ç¼–ç¨‹ä¸ºä»€ä¹ˆå«åŠ¨æ€ç¼–ç¨‹ï¼Ÿ

ç†æŸ¥å¾·Â·è´å°”æ›¼åœ¨ 20 ä¸–çºª 50 å¹´ä»£å‘æ˜äº† DPã€‚[è´å°”æ›¼å°†å…¶å‘½åä¸ºåŠ¨æ€ç¼–ç¨‹](https://en.wikipedia.org/wiki/Dynamic_programming#History)ï¼Œå› ä¸ºå½“æ—¶å…°å¾·(ä»–çš„é›‡ä¸»)ä¸å–œæ¬¢æ•°å­¦ç ”ç©¶ï¼Œä¹Ÿä¸æƒ³èµ„åŠ©å®ƒã€‚ä»–å°†å…¶å‘½åä¸ºåŠ¨æ€ç¼–ç¨‹ï¼Œä»¥éšè—ä»–å®é™…ä¸Šæ˜¯åœ¨åšæ•°å­¦ç ”ç©¶çš„äº‹å®ã€‚

è´å°”æ›¼åœ¨ä»–çš„è‡ªä¼ ã€Šé£“é£ä¹‹çœ¼:è‡ªä¼ ã€‹(1984 å¹´ï¼Œç¬¬ 159 é¡µ)ä¸­è§£é‡Šäº†æœ¯è¯­åŠ¨æ€ç¼–ç¨‹èƒŒåçš„æ¨ç†ã€‚ä»–è§£é‡Šé“:

> â€œæˆ‘åœ¨å…°å¾·åº¦è¿‡äº†(1950 å¹´çš„)ç§‹å­£ã€‚æˆ‘çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯ä¸ºå¤šé˜¶æ®µå†³ç­–è¿‡ç¨‹æ‰¾ä¸€ä¸ªåå­—ã€‚ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜æ˜¯ï¼ŒåŠ¨æ€ç¼–ç¨‹è¿™ä¸ªåå­—æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ20 ä¸–çºª 50 å¹´ä»£ä¸æ˜¯æ•°å­¦ç ”ç©¶çš„å¥½å¹´å¤´ã€‚åœ¨åç››é¡¿ï¼Œæˆ‘ä»¬æœ‰ä¸€ä½éå¸¸æœ‰è¶£çš„ç»…å£«ï¼Œåå«å¨å°”é€Šã€‚ä»–æ˜¯å›½é˜²éƒ¨é•¿ï¼Œä»–å®é™…ä¸Šå¯¹ç ”ç©¶è¿™ä¸ªè¯æœ‰ä¸€ç§ç—…æ€çš„ææƒ§å’Œæ†æ¨ã€‚æˆ‘ä¸ä¼šè½»æ˜“ä½¿ç”¨è¿™ä¸ªæœ¯è¯­ï¼›æˆ‘æ­£åœ¨ç²¾ç¡®åœ°ä½¿ç”¨å®ƒã€‚å¦‚æœäººä»¬å½“ç€ä»–çš„é¢ç”¨â€œç ”ç©¶â€è¿™ä¸ªè¯ï¼Œä»–ä¼šè„¸çº¢ï¼Œå˜çº¢ï¼Œå˜å¾—æš´èºã€‚ä½ å¯ä»¥æƒ³è±¡ä»–å¯¹æ•°å­¦è¿™ä¸ªæœ¯è¯­çš„æ„Ÿå—ã€‚å…°å¾·å…¬å¸å—é›‡äºç©ºå†›ï¼Œè€Œç©ºå†›å®é™…ä¸Šæ˜¯ä»¥å¨å°”é€Šä¸ºè€æ¿çš„ã€‚å› æ­¤ï¼Œæˆ‘è§‰å¾—æˆ‘å¿…é¡»åšç‚¹ä»€ä¹ˆæ¥ä¿æŠ¤å¨å°”é€Šå’Œç©ºå†›ï¼Œä¸è®©ä»–ä»¬çŸ¥é“æˆ‘ç¡®å®åœ¨å…°å¾·å…¬å¸å†…éƒ¨åšæ•°å­¦ç ”ç©¶ã€‚æˆ‘èƒ½é€‰æ‹©ä»€ä¹ˆå¤´è¡”ï¼Œä»€ä¹ˆåå­—ï¼Ÿé¦–å…ˆï¼Œæˆ‘å¯¹è®¡åˆ’ã€å†³ç­–å’Œæ€è€ƒæ„Ÿå…´è¶£ã€‚ä½†æ˜¯è§„åˆ’ï¼Œç”±äºç§ç§åŸå› ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½è¯ã€‚å› æ­¤ï¼Œæˆ‘å†³å®šä½¿ç”¨â€œç¼–ç¨‹â€ä¸€è¯ã€‚æˆ‘æƒ³è®©å¤§å®¶æ˜ç™½è¿™æ˜¯åŠ¨æ€çš„ï¼Œæ˜¯å¤šé˜¶æ®µçš„ï¼Œæ˜¯æ—¶å˜çš„ã€‚æˆ‘æƒ³ï¼Œä¸€çŸ³äºŒé¸Ÿå§ã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªåœ¨ç»å…¸ç‰©ç†æ„ä¹‰ä¸Šæœ‰ç»å¯¹ç²¾ç¡®å«ä¹‰çš„è¯ï¼Œå³åŠ¨æ€ã€‚ä½œä¸ºä¸€ä¸ªå½¢å®¹è¯ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ç‰¹æ€§ï¼Œé‚£å°±æ˜¯ä¸èƒ½ç”¨è´¬ä¹‰æ¥å½¢å®¹åŠ¨æ€è¿™ä¸ªè¯ã€‚è¯•ç€æƒ³å‡ºä¸€äº›å¯èƒ½èµ‹äºˆå®ƒè´¬ä¹‰çš„ç»„åˆã€‚ä¸å¯èƒ½çš„ã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºåŠ¨æ€ç¼–ç¨‹æ˜¯ä¸€ä¸ªå¥½åå­—ã€‚è¿™æ˜¯è¿å›½ä¼šè®®å‘˜éƒ½ä¸ä¼šåå¯¹çš„äº‹æƒ…ã€‚æ‰€ä»¥æˆ‘æŠŠå®ƒå½“æˆäº†æˆ‘æ´»åŠ¨çš„ä¿æŠ¤ä¼ã€‚â€

* * *

## [](#what-are-subproblems)ä»€ä¹ˆæ˜¯å­é—®é¢˜ï¼Ÿ

[![cover photo image](../Images/86c23d413b687a9d8f574bb9f27ceec5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--70trSsdB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/undraw_process_e90d.svg)

å­é—®é¢˜æ˜¯åŸå§‹é—®é¢˜çš„è¾ƒå°ç‰ˆæœ¬ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚ç”¨ä¸‹é¢çš„ç­‰å¼:

1 + 2 + 3 + 4

æˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†è§£ä¸º:

1 + 2

3 + 4

ä¸€æ—¦æˆ‘ä»¬è§£å†³äº†è¿™ä¸¤ä¸ªè¾ƒå°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›é—®é¢˜çš„è§£å†³æ–¹æ¡ˆç›¸åŠ ï¼Œä»¥æ‰¾åˆ°æ•´ä½“é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

è¯·æ³¨æ„è¿™ä¸ªå­é—®é¢˜æ˜¯å¦‚ä½•å°†åŸå§‹é—®é¢˜åˆ†è§£æˆæ„å»ºè§£å†³æ–¹æ¡ˆçš„ç»„ä»¶çš„ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªå°ä¾‹å­ï¼Œä½†å®ƒå¾ˆå¥½åœ°è¯´æ˜äº† DP çš„å¦™å¤„ã€‚å¦‚æœæˆ‘ä»¬æŠŠé—®é¢˜æ‰©å±•åˆ°æŠŠ 100 ä¸ªæ•°å­—ç›¸åŠ ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ DP å°±å˜å¾—æ›´æ¸…æ¥šäº†ã€‚ä¸¾ä¸ªä¾‹å­:

6 + 5 + 3 + 3 + 2 + 4 + 6 + 5

æˆ‘ä»¬æœ‰ä¸¤æ¬¡ 6 + 5ã€‚æˆ‘ä»¬ç¬¬ä¸€æ¬¡ç®—å‡º 6 + 5 æ˜¯å¤šå°‘ã€‚å½“æˆ‘ä»¬ç¬¬äºŒæ¬¡çœ‹åˆ°å®ƒæ—¶ï¼Œæˆ‘ä»¬å¯¹è‡ªå·±è¯´:

> â€œå•Šï¼Œ6 + 5ã€‚æˆ‘ä»¥å‰è§è¿‡è¿™ä¸ªã€‚éƒ½ 11 äº†ï¼â€

åœ¨ DP ä¸­ï¼Œæˆ‘ä»¬å°†é—®é¢˜çš„è§£å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤ä¸éœ€è¦é‡æ–°è®¡ç®—ã€‚é€šè¿‡æ‰¾åˆ°æ¯ä¸€ä¸ªå­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³åŸå§‹é—®é¢˜æœ¬èº«ã€‚

å‚¨å­˜æº¶æ¶²çš„è¡Œä¸ºå«åš*è®°å¿†*ã€‚

* * *

## [](#what-is-memoisation-in-dynamic-programming)ä»€ä¹ˆæ˜¯åŠ¨æ€ç¼–ç¨‹ä¸­çš„è®°å¿†åŒ–ï¼Ÿ

[![cover photo](../Images/8bf0c597408bc2ec788608e6e1f36b30.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Ev_I23nt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/undraw_task_31wc.svg)

é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸ºä»€ä¹ˆå­˜å‚¨è§£å†³æ–¹æ¡ˆçš„ç­”æ¡ˆæ˜¯æœ‰æ„ä¹‰çš„ã€‚æˆ‘ä»¬è¦çœ‹ä¸€ä¸ªè‘—åçš„åˆ†è€Œæ²»ä¹‹é—®é¢˜ï¼Œ *[æ–æ³¢é‚£å¥‘æ•°åˆ—](https://www.mathsisfun.com/numbers/fibonacci-sequence.html)* ã€‚[åˆ†è€Œæ²»ä¹‹](https://dev.to/brandonskerritt/a-gentle-introduction-to-divide-and-conquer-algorithms-1ga)æ˜¯åŠ¨æ€ç¼–ç¨‹ï¼Œä½†æ˜¯æ²¡æœ‰å­˜å‚¨è§£ã€‚

[åˆ†è€Œæ²»ä¹‹](https://dev.to/brandonskerritt/a-gentle-introduction-to-divide-and-conquer-algorithms-1ga)æœ‰ 3 ä¸ªä¸»è¦éƒ¨åˆ†:

1.  **æŠŠ**é—®é¢˜åˆ†æˆåŒç±»å‹çš„æ›´å°çš„å­é—®é¢˜ã€‚
2.  **å¾æœ**â€”â€”é€’å½’æ±‚è§£å­é—®é¢˜ã€‚
3.  **åˆå¹¶**â€”â€”åˆå¹¶æ‰€æœ‰å­é—®é¢˜ï¼Œåˆ›å»ºåŸé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚

åŠ¨æ€ç¼–ç¨‹åœ¨ç¬¬äºŒæ­¥ä¸­å¢åŠ äº†ä¸€ä¸ªé¢å¤–çš„æ­¥éª¤ã€‚è¿™æ˜¯è®°å¿†ã€‚

æ–æ³¢é‚£å¥‘æ•°åˆ—æ˜¯ä¸€ä¸ªæ•°åˆ—ã€‚æ˜¯æœ€åä¸€ä¸ªå·ç +å½“å‰å·ç ã€‚æˆ‘ä»¬ä» 1 ç‚¹å¼€å§‹ã€‚

1 + 0 = 1

1 + 1 = 2

2 + 1 = 3

3 + 2 = 5

5 + 3 = 8

åœ¨ Python ä¸­ï¼Œè¿™é€šå¸¸è¢«ç¼–ç¨‹ä¸º:

```
def F(n):
  if n == 0 or n == 1:
    return n
  else:
return F(n-1)+F(n-2) 
```

å¦‚æœä½ ä¸ç†Ÿæ‚‰é€’å½’ï¼Œæˆ‘ä¸ºä½ å†™äº†ä¸€ç¯‡åšæ–‡ï¼Œä½ åº”è¯¥å…ˆçœ‹çœ‹ã€‚

æˆ‘ä»¬æ¥è®¡ç®— F(4)ã€‚åœ¨æ‰§è¡Œæ ‘ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:

[![What Is Dynamic Programming With Python Examples](../Images/75ebf45c43b5df0c471141595a7ea6af.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--nVwcEfZi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-8.png)

æˆ‘ä»¬è®¡ç®— F(2)ä¸¤æ¬¡ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå°ä¾‹å­ï¼Œä½†æ˜¯åœ¨æ›´å¤§çš„è¾“å…¥(ä¾‹å¦‚ F(10))ä¸Šï¼Œé‡å¤å»ºç«‹ã€‚åŠ¨æ€ç¼–ç¨‹çš„ç›®çš„æ˜¯ä¸è¦ä¸¤æ¬¡è®¡ç®—åŒä¸€ä¸ªä¸œè¥¿ã€‚

æˆ‘ä»¬ä¸æ˜¯è®¡ç®— F(2)ä¸¤æ¬¡ï¼Œè€Œæ˜¯æŠŠè§£å­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ï¼Œåªè®¡ç®—ä¸€æ¬¡ã€‚

æˆ‘ä»¬å°†æŠŠè§£å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ã€‚F(2) = 1ã€‚æˆ‘ä»¬çš„æ•°ç»„å°†çœ‹èµ·æ¥åƒ memo[2] = 1ã€‚ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨ DP è®¡ç®— Fibbonacci åºåˆ—çš„ Python ä»£ç ã€‚

```
def fibonacciVal(n):
    memo[0], memo[1] = 0, 1
    for i in range(2, n+1):
        memo[i] = memo[i-1] + memo[i-2]
    return memo[n] 
```

è¿™é‡Œåˆ—å‡ºçš„ä¾‹å­æ˜¯ç”¨ Python ç¼–å†™çš„ã€‚æˆ‘ä¼šå°½æœ€å¤§åŠªåŠ›ä¿æŒä»£ç çš„ä¸å¯çŸ¥è®ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æƒ³ç”¨ Java æ¥ç¼–ç¨‹ï¼Œè½¬æ¢å®ƒåº”è¯¥ä¸ä¼šå¤ªéš¾ã€‚

* * *

## [](#how-to-identify-dynamic-programming-problems)å¦‚ä½•è¯†åˆ«åŠ¨æ€è§„åˆ’é—®é¢˜

[![cover photo image](../Images/f752951c93b28c2dd85317dc0fd9aa88.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--7HLijuGs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/undraw_file_searching_duff.svg) 
ç†è®ºä¸Šï¼Œæ¯ä¸€ä¸ªé—®é¢˜éƒ½å¯ä»¥åŠ¨æ€è§£å†³ã€‚æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯:

> "æˆ‘åº”è¯¥ä»€ä¹ˆæ—¶å€™ç”¨åŠ¨æ€ç¼–ç¨‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ"

æˆ‘ä»¬åº”è¯¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³å¤„äºå¯å¤„ç†é—®é¢˜å’Œ T2 é—®é¢˜ä¹‹é—´çš„é—®é¢˜ã€‚

*[æ˜“å¤„ç†çš„é—®é¢˜](https://www.britannica.com/technology/tractable-problem)* æ˜¯é‚£äº›å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³çš„é—®é¢˜ã€‚è¿™åªæ˜¯æˆ‘ä»¬å¯ä»¥å¿«é€Ÿè§£å†³é—®é¢˜çš„ä¸€ç§èŠ±å“¨è¯´æ³•ã€‚äºŒåˆ†æœç´¢æ³•å’Œæ’åºï¼Œéƒ½å¾ˆå¿«ã€‚ *[æ£˜æ‰‹çš„é—®é¢˜](https://www.umsl.edu/~siegelj/information_theory/classassignments/Lombardo/04_intractableproblems.html)* æ˜¯é‚£äº›ä»¥æŒ‡æ•°æ—¶é—´è¿è¡Œçš„é—®é¢˜ã€‚ä»–ä»¬å¾ˆæ…¢ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ£˜æ‰‹çš„é—®é¢˜æ˜¯é‚£äº›åªèƒ½é€šè¿‡å¼ºè¡Œé€šè¿‡æ¯ä¸€ä¸ªç»„åˆæ¥è§£å†³çš„é—®é¢˜ã€‚

å½“æˆ‘ä»¬çœ‹åˆ°è¿™æ ·çš„æœ¯è¯­æ—¶:

> æœ€çŸ­/æœ€é•¿ã€æœ€å°åŒ–/æœ€å¤§åŒ–ã€æœ€å°/æœ€å¤§ã€æœ€å°‘/æœ€å¤§ã€æœ€å¤§/æœ€å°

æˆ‘ä»¬çŸ¥é“è¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–é—®é¢˜ã€‚

DP ç®—æ³•çš„å¦ä¸€ä¸ªå¾ˆé…·çš„åœ°æ–¹æ˜¯å®ƒä»¬çš„æ­£ç¡®æ€§è¯æ˜é€šå¸¸æ˜¯ä¸è¨€è€Œå–»çš„ã€‚å…¶ä»–ç®—æ³•ç­–ç•¥é€šå¸¸å¾ˆéš¾è¯æ˜æ˜¯æ­£ç¡®çš„ï¼Œå› æ­¤æ›´å®¹æ˜“å‡ºé”™ã€‚

ä¾‹å¦‚ï¼Œè´ªå©ªç®—æ³•å¯èƒ½åœ¨æ¦‚å¿µä¸Šçœ‹èµ·æ¥æ›´ç®€å•ï¼Œå¹¶ä¸”é€šå¸¸è¿è¡Œå¾—æ›´å¿«ï¼Œä½†æ˜¯å®ƒä»¬å¾ˆéš¾è¢«è¯æ˜æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å¯¹è¾“å…¥çš„ç»“æ„åšå‡ºè®¸å¤šéšå«çš„å‡è®¾ã€‚

å½“æˆ‘ä»¬çœ‹åˆ°è¿™äº›æœ¯è¯­æ—¶ï¼Œé—®é¢˜å¯èƒ½ä¼šè¦æ±‚ä¸€ä¸ªç‰¹å®šçš„æ•°å­—(â€œæ‰¾åˆ°ç¼–è¾‘æ“ä½œçš„æœ€å°æ•°é‡â€)æˆ–è€…å®ƒå¯èƒ½ä¼šè¦æ±‚ä¸€ä¸ªç»“æœ(â€œæ‰¾åˆ°æœ€é•¿çš„å…¬å…±å­åºåˆ—â€)ã€‚åä¸€ç§ç±»å‹çš„é—®é¢˜å¾ˆéš¾è¢«è®¤ä¸ºæ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚å¦‚æœäº‹æƒ…å¬èµ·æ¥åƒä¼˜åŒ–ï¼Œå®ƒå¯ä»¥é€šè¿‡ DP è§£å†³ã€‚

ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»å‘ç°äº†ä¸€ä¸ªä¼˜åŒ–é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ç¡®å®šå®ƒæ˜¯å¦å¯ä»¥ç”¨ DP è§£å†³ã€‚é¦–å…ˆï¼Œç¡®å®šæˆ‘ä»¬åœ¨ä¼˜åŒ–ä»€ä¹ˆã€‚ä¸€æ—¦æˆ‘ä»¬æ„è¯†åˆ°æˆ‘ä»¬åœ¨ä¼˜åŒ–ä»€ä¹ˆï¼Œæˆ‘ä»¬å¿…é¡»å†³å®šæ‰§è¡Œä¼˜åŒ–æœ‰å¤šå®¹æ˜“ã€‚æœ‰æ—¶ï¼Œ[è´ªå©ªæ–¹æ³•](https://brilliant.org/wiki/greedy-algorithm/)å¯¹äºæœ€ä¼˜è§£æ¥è¯´æ˜¯è¶³å¤Ÿçš„ã€‚

åŠ¨æ€ç¼–ç¨‹é‡‡ç”¨å¼ºåŠ›æ–¹æ³•ã€‚å®ƒè¯†åˆ«é‡å¤çš„å·¥ä½œï¼Œå¹¶æ¶ˆé™¤é‡å¤ã€‚

åœ¨æˆ‘ä»¬å¼€å§‹å°†é—®é¢˜å…¬å¼åŒ–ä¸ºåŠ¨æ€ç¼–ç¨‹é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬æƒ³ä¸€æƒ³å¼ºåŠ›è§£å†³æ–¹æ¡ˆå¯èƒ½æ˜¯ä»€ä¹ˆæ ·å­ã€‚åœ¨æš´åŠ›è§£å†³æ–¹æ¡ˆä¸­å¯èƒ½æœ‰é‡å¤çš„å­æ­¥éª¤å—ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°è¯•æŠŠè¿™ä¸ªé—®é¢˜å…¬å¼åŒ–ä¸ºä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚

æŒæ¡åŠ¨æ€ç¼–ç¨‹å°±æ˜¯è¦ç†è§£é—®é¢˜ã€‚åˆ—å‡ºæ‰€æœ‰å¯èƒ½å½±å“ç­”æ¡ˆçš„è¾“å…¥ã€‚ä¸€æ—¦æˆ‘ä»¬ç¡®å®šäº†æ‰€æœ‰çš„è¾“å…¥å’Œè¾“å‡ºï¼Œè¯•ç€ç¡®å®šè¿™ä¸ªé—®é¢˜æ˜¯å¦å¯ä»¥åˆ†è§£æˆå­é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬èƒ½è¯†åˆ«å­é—®é¢˜ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨ DPã€‚

åˆ—å‡ºæ‰€æœ‰å½±å“ç­”æ¡ˆçš„è¾“å…¥ï¼Œç„¶åå†è€ƒè™‘å¦‚ä½•ç¼©å°è¿™ä¸ªé›†åˆã€‚ä¸€æ—¦æˆ‘ä»¬ç¡®å®šäº†è¾“å…¥å’Œè¾“å‡ºï¼Œæˆ‘ä»¬å°±è¯•å›¾ç¡®å®šè¿™ä¸ªé—®é¢˜æ˜¯å¦å¯ä»¥åˆ†è§£æˆæ›´å°çš„å­é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬èƒ½æ‰¾å‡ºæ›´å°çš„å­é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯èƒ½åº”ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³é—®é¢˜ã€‚ç„¶åï¼Œææ¸…æ¥šä»€ä¹ˆæ˜¯å¤å‘ï¼Œè§£å†³å®ƒã€‚å½“æˆ‘ä»¬è¯•å›¾æ‰¾å‡ºå¾ªç¯æ—¶ï¼Œè®°ä½æ— è®ºæˆ‘ä»¬å†™ä»€ä¹ˆå¾ªç¯ï¼Œéƒ½æœ‰åŠ©äºæˆ‘ä»¬æ‰¾åˆ°ç­”æ¡ˆã€‚æœ‰æ—¶ç­”æ¡ˆæ˜¯é€’å½’çš„ç»“æœï¼Œæœ‰æ—¶æˆ‘ä»¬å¿…é¡»é€šè¿‡æŸ¥çœ‹é€’å½’çš„å‡ ä¸ªç»“æœæ¥è·å¾—ç»“æœ

ä»…ä»…å› ä¸ºä¸€ä¸ªé—®é¢˜å¯ä»¥ç”¨åŠ¨æ€ç¼–ç¨‹æ¥è§£å†³ï¼Œå¹¶ä¸æ„å‘³ç€æ²¡æœ‰æ›´æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚ç”¨åŠ¨æ€ç¼–ç¨‹è§£å†³é—®é¢˜å°±åƒå˜é­”æœ¯ä¸€æ ·ï¼Œä½†æ˜¯è¯·è®°ä½ï¼ŒåŠ¨æ€ç¼–ç¨‹ä»…ä»…æ˜¯ä¸€ç§å·§å¦™çš„è›®åŠ›ã€‚æœ‰æ—¶å›æŠ¥å¾ˆå¥½ï¼Œæœ‰æ—¶å¸®åŠ©å¾ˆå°ã€‚
[![flowchart](../Images/f8cf2ba1938961940aaa7c7503b1888e.png)T3ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--By_e2Htv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/dynamic-Programming-Process.png)

* * *

## [](#how-to-solve-problems-using-dynamic-programming)å¦‚ä½•åˆ©ç”¨åŠ¨æ€è§„åˆ’è§£å†³é—®é¢˜

[![img](../Images/8f61e41adac2fe026c2eaf5392b86340.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--jviuFpg7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/undraw_problem_solving_ft81.svg)

ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†ä»€ä¹ˆæ˜¯åŠ¨æ€ç¼–ç¨‹ä»¥åŠå®ƒé€šå¸¸æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å°†å¦‚ä½•åˆ›å»ºä¸€ä¸ªé—®é¢˜çš„åŠ¨æ€ç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å°†åˆ©ç”¨ *[åŠ æƒåŒºé—´è°ƒåº¦é—®é¢˜](https://courses.cs.washington.edu/courses/cse521/13wi/slides/06dp-sched.pdf)* æ¥æ¢è®¨åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹ã€‚

å‡è®¾ä½ æ˜¯ä¸€å®¶å¹²æ´—åº—çš„è€æ¿ã€‚ä½ æœ‰ n ä¸ªé¡¾å®¢è¿›æ¥ç»™ä½ è¡£æœè®©ä½ æ´—ã€‚æ‚¨ä¸€æ¬¡åªèƒ½æ¸…æ´—ä¸€ä»¶é¡¾å®¢è¡£ç‰©(PoC)ã€‚æ¯å †è¡£æœ *i* å¿…é¡»åœ¨æŸä¸ªé¢„å®šçš„å¼€å§‹æ—¶é—´ s_i å’ŒæŸä¸ªé¢„å®šçš„ç»“æŸæ—¶é—´ f_i è¢«æ¸…æ´

æ¯ä¸€å †è¡£æœéƒ½æœ‰ä¸€ä¸ªåˆ†é…å€¼ï¼Œv_iï¼ŒåŸºäºå®ƒå¯¹ä½ çš„ç”Ÿæ„æœ‰å¤šé‡è¦ã€‚ä¾‹å¦‚ï¼Œä¸€äº›é¡¾å®¢å¯èƒ½ä¼šèŠ±æ›´å¤šçš„é’±è®©ä»–ä»¬çš„è¡£æœæ´—å¾—æ›´å¿«ã€‚æˆ–è€…æœ‰äº›äººå¯èƒ½æ˜¯å›å¤´å®¢ï¼Œä½ å¸Œæœ›ä»–ä»¬å¼€å¿ƒã€‚

ä½œä¸ºè¿™å®¶å¹²æ´—åº—çš„è€æ¿ï¼Œä½ å¿…é¡»ç¡®å®šè¡£æœçš„æœ€ä½³æ—¶é—´è¡¨ï¼Œä½¿è¿™ä¸€å¤©çš„æ€»ä»·å€¼æœ€å¤§åŒ–ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å¯¹*åŠ æƒåŒºé—´è°ƒåº¦é—®é¢˜*çš„æ”¹å†™ã€‚

ç°åœ¨ï¼Œæ‚¨å°†çœ‹åˆ°è§£å†³ DP é—®é¢˜çš„ 4 ä¸ªæ­¥éª¤ã€‚æœ‰æ—¶å€™ï¼Œä½ å¯ä»¥è·³è¿‡ä¸€æ­¥ã€‚æœ‰æ—¶å€™ï¼Œä½ çš„é—®é¢˜å·²ç»è¢«å¾ˆå¥½åœ°å®šä¹‰äº†ï¼Œä½ ä¸éœ€è¦æ‹…å¿ƒæœ€åˆçš„å‡ ä¸ªæ­¥éª¤ã€‚

## [](#step-1-write-the-problem-out)ç¬¬ä¸€æ­¥ã€‚æŠŠé—®é¢˜å†™å‡ºæ¥

[![img](../Images/98ba701166daa40008999e3aa72f8878.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dAe_71e6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/undraw_typewriter_i8xd.svg)

æ‹¿ä¸€å¼ çº¸ã€‚æŠŠé—®é¢˜å†™å‡ºæ¥ã€‚å…·ä½“æ¥è¯´:

*   æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ
*   æœ‰å“ªäº›å­é—®é¢˜ï¼Ÿ
*   è§£å†³æ–¹æ¡ˆå¤§æ¦‚æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ

åœ¨å¹²æ´—åº—çš„é—®é¢˜ä¸­ï¼Œè®©æˆ‘ä»¬ç”¨æ–‡å­—æ¥è¡¨è¾¾è¿™äº›å­é—®é¢˜ã€‚æˆ‘ä»¬è¦ç¡®å®šçš„æ˜¯æ¯å †è¡£æœçš„æœ€å¤§å€¼æ—¶é—´è¡¨ï¼Œä»¥ä¾¿è¡£æœæŒ‰å¼€å§‹æ—¶é—´æ’åºã€‚

ä¸ºä»€ä¹ˆæŒ‰å¼€å§‹æ—¶é—´æ’åºï¼Ÿå¥½é—®é¢˜ï¼æˆ‘ä»¬å¸Œæœ›è·Ÿè¸ªå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚å¦‚æœæŒ‰å®Œæˆæ—¶é—´æ’åºï¼Œåœ¨æˆ‘ä»¬è„‘å­é‡Œæ²¡å¤šå¤§æ„ä¹‰ã€‚æˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ä¸ªç›¸ä¼¼çš„ç»“æŸæ—¶é—´ï¼Œä½†å®Œå…¨ä¸åŒçš„å¼€å§‹æ—¶é—´ã€‚æ—¶é—´ä»¥çº¿æ€§æ–¹å¼ç§»åŠ¨ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€å †ä¸‹åˆ 1 ç‚¹å¼€å§‹çš„è¡£æœï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€å †ä¸‹åˆ 3 ç‚¹å°±å®Œæˆçš„è¡£æœï¼Œé‚£å°±æœ‰ç‚¹çœ‹åäº†ã€‚æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚

æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ¡© n-1 åˆ° n çš„æœ€å¤§å€¼è¡¨ï¼Œç„¶åæ‰¾åˆ°æ¡© n - 2 åˆ° n çš„æœ€å¤§å€¼è¡¨ï¼Œä¾æ­¤ç±»æ¨ã€‚é€šè¿‡æ‰¾åˆ°æ¯ä¸€ä¸ªå­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³åŸå§‹é—®é¢˜æœ¬èº«ã€‚æ¡© 1 è‡³ *n* çš„æœ€å¤§å€¼ä¸€è§ˆè¡¨ã€‚ç”±äºå­é—®é¢˜æ˜¯åŸå§‹é—®é¢˜çš„è¾ƒå°ç‰ˆæœ¬ï¼Œæ‰€ä»¥å­é—®é¢˜å¯ä»¥ç”¨æ¥è§£å†³åŸå§‹é—®é¢˜ã€‚

å¯¹äºåŒºé—´è°ƒåº¦é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³å®ƒçš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡å¼ºåˆ¶é—®é¢˜çš„æ‰€æœ‰å­é›†ï¼Œç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜å­é›†ã€‚æˆ‘ä»¬è¦è¯´çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªåœ°å¼ºåˆ¶ï¼Œè€Œæ˜¯æŠŠå®ƒåˆ†å¼€ã€‚æˆ‘ä»¬ä» n-1 åˆ° n è¿›è¡Œå¼ºåŠ›è¿ç®—ã€‚ç„¶åæˆ‘ä»¬å¯¹ n-2 åˆ° n è¿›è¡ŒåŒæ ·çš„è¿ç®—ã€‚æœ€åï¼Œæˆ‘ä»¬æœ‰è®¸å¤šå°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€åœ°è§£å†³å®ƒä»¬ã€‚æˆ‘ä»¬å¸Œæœ›å»ºç«‹å­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·æ¯ä¸ªå­é—®é¢˜éƒ½å»ºç«‹åœ¨å‰é¢çš„é—®é¢˜ä¹‹ä¸Šã€‚

## [](#2-mathematical-recurrences)2ã€‚æ•°å­¦é€’å½’

[![cover photo](../Images/1335aed91b9aa4d4a36f09d4b29628da.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--HkcQJcXA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/undraw_mathematics_4otb.svg) 
æˆ‘çŸ¥é“ï¼Œæ•°å­¦çƒ‚é€äº†ã€‚å¦‚æœä½ æ„¿æ„å’Œæˆ‘å¦è¯šç›¸å¾…ï¼Œä½ ä¼šå‘ç°è¿™å¹¶ä¸éš¾ã€‚[æ•°å­¦é€’å½’](https://en.wikipedia.org/wiki/Recurrence_relation)ç”¨äº:

> å®šä¹‰åˆ†æ²»(åŠ¨æ€ç¼–ç¨‹)æŠ€æœ¯çš„è¿è¡Œæ—¶é—´

ä½†æ˜¯ï¼Œåœ¨ä½ æˆ‘ä¹‹é—´ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœå¾ˆéš¾æŠŠä½ çš„å­é—®é¢˜è½¬åŒ–æˆæ•°å­¦ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½æ˜¯é”™è¯¯çš„å­é—®é¢˜ã€‚

åˆ›å»º mathematicla é€’å½’æœ‰ä¸¤ä¸ªæ­¥éª¤:

### [](#1-define-the-base-case)1:å®šä¹‰åŸºç¡€æ¡ˆä¾‹

åŸºæœ¬æ¡ˆä¾‹æ˜¯é—®é¢˜çš„æœ€å°å¯èƒ½å‘½åã€‚

åˆ›å»ºé‡å¤æ—¶ï¼Œé—®è‡ªå·±ä»¥ä¸‹é—®é¢˜:

> "æˆ‘åœ¨ç¬¬ 0 æ­¥åšä»€ä¹ˆå†³å®šï¼Ÿ"

ä¸ä¸€å®šæ˜¯ 0ã€‚åŸºæœ¬æƒ…å†µæ˜¯é—®é¢˜çš„æœ€å°å¯èƒ½å‘½åã€‚æˆ‘ä»¬åœ¨æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­çœ‹åˆ°äº†è¿™ä¸€ç‚¹ã€‚ç¢±è¢«æ´—æ¶¤:

*   å¦‚æœ n == 0 æˆ– n == 1ï¼Œåˆ™è¿”å› 1

çŸ¥é“åŸºç¡€æ¡ˆä¾‹åœ¨å“ªé‡Œå¾ˆé‡è¦ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºé€’å½’ã€‚åœ¨æˆ‘ä»¬çš„é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå†³å®šè¦åš:

*   æŠŠé‚£å †è¡£æœæ”¾ä¸Šå»æ´—

æˆ–è€…

*   ä»Šå¤©ä¸è¦æ´—é‚£å †è¡£æœ

å¦‚æœ n æ˜¯ 0ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ 0 ä¸ª PoCï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸åšã€‚æˆ‘ä»¬çš„åŸºæœ¬æƒ…å†µæ˜¯:

> å¦‚æœ n == 0ï¼Œåˆ™è¿”å› 0

### [](#2-what-decision-do-i-make-at-step-n)2:æˆ‘åœ¨ç¬¬ n æ­¥åšä»€ä¹ˆå†³å®šï¼Ÿ

ç°åœ¨æˆ‘ä»¬çŸ¥é“åŸºæœ¬æƒ…å†µæ˜¯ä»€ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬åœ¨ç¬¬ n æ­¥ï¼Œæˆ‘ä»¬åšä»€ä¹ˆï¼Ÿå¯¹äºåˆ°ç›®å‰ä¸ºæ­¢ä¸æ—¶é—´è¡¨å…¼å®¹çš„æ¯å †è¡£æœ(å…¼å®¹æ˜¯æŒ‡å¼€å§‹æ—¶é—´åœ¨å½“å‰æ­£åœ¨æ´—çš„é‚£å †è¡£æœçš„ç»“æŸæ—¶é—´ä¹‹å)ï¼Œç®—æ³•é€‰æ‹©ä¸¤ä¸ªé€‰é¡¹ã€‚

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†åŸºæœ¬æƒ…å†µä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä»¥åŠå…¶ä»–æƒ…å†µä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚æˆ‘ä»¬ç°åœ¨éœ€è¦æ‰¾å‡ºç®—æ³•å‘å(æˆ–å‘å‰)éœ€è¦ä»€ä¹ˆä¿¡æ¯ã€‚

> â€œå¦‚æœæˆ‘çš„ç®—æ³•åœ¨ç¬¬ä¸€æ­¥ï¼Œå®ƒéœ€è¦ä»€ä¹ˆä¿¡æ¯æ¥å†³å®šåœ¨ç¬¬ä¸€æ­¥+1 åšä»€ä¹ˆï¼Ÿâ€

ä¸ºäº†åœ¨ä¸¤ä¸ªé€‰é¡¹ä¹‹é—´åšå‡ºå†³å®šï¼Œç®—æ³•éœ€è¦çŸ¥é“ä¸‹ä¸€ä¸ªå…¼å®¹çš„ PoC(ä¸€å †è¡£æœ)ã€‚ç»™å®šå † p çš„ä¸‹ä¸€ä¸ªå…¼å®¹ PoC æ˜¯ PoC nï¼Œä½¿å¾— s _ n(PoC n çš„å¼€å§‹æ—¶é—´)å‘ç”Ÿåœ¨ for PoC p çš„ç»“æŸæ—¶é—´)ä¹‹åã€‚s_n å’Œ f_p ä¹‹é—´çš„å·®å¼‚åº”è¯¥æœ€å°åŒ–ã€‚

åœ¨è‹±è¯­ä¸­ï¼Œæƒ³è±¡æˆ‘ä»¬æœ‰ä¸€å°æ´—è¡£æœºã€‚æˆ‘ä»¬åœ¨ 13:00 æ”¾è¿›ä¸€å †è¡£æœã€‚æˆ‘ä»¬ä¸‹ä¸€å †è¡£æœä» 13:01 å¼€å§‹ã€‚æˆ‘ä»¬ä¸èƒ½æ‰“å¼€æ´—è¡£æœºæŠŠå®ƒä»¬æ”¾è¿›å»ã€‚æˆ‘ä»¬ä¸‹ä¸€ä¸ªå…¼å®¹çš„è¡£ç‰©å †æ˜¯åœ¨å½“å‰æ­£åœ¨æ´—æ¶¤çš„è¡£ç‰©çš„ç»“æŸæ—¶é—´ä¹‹åå¼€å§‹çš„è¡£ç‰©å †ã€‚

> â€œå¦‚æœæˆ‘çš„ç®—æ³•å¤„äºæ­¥éª¤ Iï¼Œå®ƒéœ€è¦ä»€ä¹ˆä¿¡æ¯æ¥å†³å®šåœ¨æ­¥éª¤ i-1 ä¸­åšä»€ä¹ˆï¼Ÿâ€

ç®—æ³•éœ€è¦çŸ¥é“æœªæ¥çš„å†³ç­–ã€‚ä¸º PoC *i* åˆ° *n* åˆ¶ä½œçš„ï¼Œä»¥å†³å®šè¿è¡Œæˆ–ä¸è¿è¡Œ PoC *i-1* ã€‚

æ—¢ç„¶æˆ‘ä»¬å·²ç»å›ç­”äº†è¿™äº›é—®é¢˜ï¼Œä¹Ÿè®¸æˆ‘ä»¬å·²ç»å¼€å§‹åœ¨è„‘æµ·ä¸­å½¢æˆä¸€ä¸ªå¾ªç¯çš„æ•°å­¦å†³ç­–ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹Ÿæ²¡å…³ç³»ï¼Œå½“æˆ‘ä»¬æ¥è§¦åˆ°æ›´å¤šçš„é—®é¢˜æ—¶ï¼Œå†™é€’å½’å°±å˜å¾—æ›´å®¹æ˜“äº†ã€‚

è¿™æ˜¯æˆ‘ä»¬çš„é‡ç°:

[![If you're reading this on Dev using a screenreader, it's much better for you to visit my blog https://skerritt.blog/dynamic-programming/ . There's a large amount of maths in this document that are images. On my blog, I'm using MathJax which is accessibility friendly.](../Images/7da00a3f9ab9cb99b58d2cd36d8b5112.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--fMcJO2DY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/Screenshot_2019-06-23-What-Is-Dynamic-Programming-With-Python-Examples.png)

è®©æˆ‘ä»¬æ¥è¯¦ç»†æ¢è®¨æ˜¯ä»€ä¹ˆä½¿å¾—è¿™ç§æ•°å­¦é€’å½’ã€‚OPT(i)è¡¨ç¤º PoC *i* åˆ° *n* çš„æœ€å¤§å€¼è°ƒåº¦ï¼Œä½¿å¾— PoC æŒ‰å¼€å§‹æ—¶é—´æ’åºã€‚OPT(i)æ˜¯æˆ‘ä»¬å‰é¢çš„å­é—®é¢˜ã€‚

æˆ‘ä»¬ä»åŸºç¡€æ¡ˆä¾‹å¼€å§‹ã€‚æ‰€æœ‰çš„å¤å‘éƒ½éœ€è¦ä¸€ä¸ªåœæ­¢çš„åœ°æ–¹ã€‚å¦‚æœæˆ‘ä»¬è°ƒç”¨ OPT(0 ),æˆ‘ä»¬å°†è¿”å› 0ã€‚

ä¸ºäº†ç¡®å®š OPT(i)çš„å€¼ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸¤ä¸ªé€‰é¡¹ã€‚æˆ‘ä»¬å¸Œæœ›æœ€å¤§é™åº¦åœ°åˆ©ç”¨è¿™äº›é€‰é¡¹æ¥å®ç°æˆ‘ä»¬çš„ç›®æ ‡ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰€æœ‰è¡£æœå †çš„*æœ€å¤§å€¼è®¡åˆ’è¡¨*ã€‚ä¸€æ—¦æˆ‘ä»¬åœ¨æ­¥éª¤*I*é€‰æ‹©äº†ç»™å‡ºæœ€å¤§ç»“æœçš„é€‰é¡¹ï¼Œæˆ‘ä»¬å°†å…¶å€¼è®°ä¸º OPT(i)ã€‚

è¿è¡Œæˆ–ä¸è¿è¡Œ PoC i è¿™ä¸¤ä¸ªé€‰é¡¹åœ¨æ•°å­¦ä¸Šè¡¨ç¤ºå¦‚ä¸‹:

v_i + OPT(ä¸‹ä¸€ä¸ª[n])

è¿™è¡¨ç¤ºå†³å®šè¿è¡Œ PoC iã€‚å®ƒå°†ä» PoC i è·å¾—çš„å€¼æ·»åŠ åˆ° OPT(next[n])ï¼Œå…¶ä¸­ next[n]è¡¨ç¤º PoC i ä¹‹åçš„ä¸‹ä¸€ä¸ªå…¼å®¹è¡£ç‰©å †ã€‚å½“æˆ‘ä»¬å°†è¿™ä¸¤ä¸ªå€¼ç›¸åŠ æ—¶ï¼Œæˆ‘ä»¬å°†è·å¾—ä» I åˆ° n çš„æœ€å¤§å€¼è®¡åˆ’ï¼Œè¿™æ ·ï¼Œå¦‚æœè¿è¡Œ Iï¼Œå®ƒä»¬å°†æŒ‰å¼€å§‹æ—¶é—´æ’åºã€‚

è¿™é‡ŒæŒ‰å¼€å§‹æ—¶é—´æ’åºå› ä¸º next[n]æ˜¯ç´§æ¥åœ¨ v_i ä¹‹åçš„ä¸€ä¸ªï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¯æŒ‰å¼€å§‹æ—¶é—´æ’åºçš„ã€‚

OPT(i + 1)

å¦‚æœæˆ‘ä»¬å†³å®šä¸è¿è¡Œ *i* ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å€¼å°±æ˜¯ OPT(i + 1)ã€‚æ²¡æœ‰è·å¾—ä»·å€¼ã€‚OPT(i + 1)ç»™å‡ºäº†ä» i + 1 åˆ° n çš„æœ€å¤§å€¼æ—¶é—´è¡¨ï¼Œå› æ­¤å®ƒä»¬æŒ‰å¼€å§‹æ—¶é—´æ’åºã€‚

## [](#3-determine-the-dimensions-of-the-memoization-array-and-the-direction-in-which-it-should-be-filled)3ã€‚ç¡®å®šè®°å¿†æ•°ç»„çš„å°ºå¯¸å’Œå¡«å……æ–¹å‘

æˆ‘ä»¬çš„ DP é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ˜¯ OPT(1)ã€‚æˆ‘ä»¬å¯ä»¥å°†è§£å†³æ–¹æ¡ˆå†™æˆ PoC 1 åˆ° n çš„æœ€å¤§å€¼æ—¶é—´è¡¨ï¼Œä»¥ä¾¿ PoC æŒ‰å¼€å§‹æ—¶é—´æ’åºã€‚è¿™ä¸â€œPoC i åˆ° n çš„æœ€å¤§ä»·å€¼è®¡åˆ’â€å¯†åˆ‡ç›¸å…³ã€‚æˆ‘ä»¬çš„è§£å¯ä»¥å†™æˆ OPT(1)ã€‚

ä»æ­¥éª¤ 2 å¼€å§‹:

[![img](../Images/9fa72641a5f7fecaf7dd3e15aaa55a35.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--jRx9zQwN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-13.png)

å›åˆ°å‰é¢çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæˆ‘ä»¬çš„ DP è§£å†³æ–¹æ¡ˆä¾èµ–äºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³ä» 0 åˆ° n - 1 çš„æ–æ³¢é‚£å¥‘æ•°åˆ—å·²ç»è¢«å­˜å‚¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºäº†æ‰¾åˆ° F(5)ï¼Œæˆ‘ä»¬å·²ç»è®°ä½äº† F(0)ï¼ŒF(1)ï¼ŒF(2)ï¼ŒF(3)ï¼ŒF(4)ã€‚æˆ‘ä»¬æƒ³åœ¨è¿™é‡ŒåšåŒæ ·çš„äº‹æƒ…ã€‚

æˆ‘ä»¬çš„é—®é¢˜æ˜¯å¼„æ¸…æ¥šå¦‚ä½•å¡«å†™è®°å¿†è¡¨ã€‚åœ¨è°ƒåº¦é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ OPT(1)ä¾èµ–äº OPT(2)å’Œ OPT(next[1])çš„è§£ã€‚ç”±äºæ’åºçš„åŸå› ï¼ŒPoC 2 å’Œ next[1]çš„å¼€å§‹æ—¶é—´åœ¨ PoC 1 ä¹‹åã€‚æˆ‘ä»¬éœ€è¦ä» OPT(n)åˆ° OPT(1)å¡«å……æˆ‘ä»¬çš„è®°å¿†è¡¨ã€‚

æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æˆ‘ä»¬çš„æ•°ç»„æ˜¯ä¸€ç»´çš„ï¼Œä» 1 åˆ° nã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸èƒ½æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦ä¸€ç§æ–¹æ³•æ¥è§£å†³å®ƒã€‚æ•°ç»„çš„ç»´æ•°ç­‰äº OPT(x)æ‰€ä¾èµ–çš„å˜é‡çš„æ•°é‡å’Œå¤§å°ã€‚åœ¨æˆ‘ä»¬çš„ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬æœ‰ OPT(i) -ä¸€ä¸ªå˜é‡ï¼ŒIã€‚è¿™æ„å‘³ç€æˆ‘ä»¬çš„æ•°ç»„å°†æ˜¯ä¸€ç»´çš„ï¼Œå®ƒçš„å¤§å°å°†æ˜¯ nï¼Œå› ä¸ºæœ‰ n å †è¡£æœã€‚

å¦‚æœæˆ‘ä»¬çŸ¥é“ *n* = 5ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è®°å¿†æ•°ç»„å¯èƒ½æ˜¯è¿™æ ·çš„:

memo = [0ï¼ŒOPT(1)ï¼ŒOPT(2)ï¼ŒOPT(3)ï¼ŒOPT(4)ï¼ŒOPT(5)]

0 ä¹Ÿæ˜¯åŸºæœ¬æƒ…å†µã€‚memo[0] = 0ï¼Œæ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„é‡å¤ã€‚

## [](#4-coding-our-solution)4ã€‚ç¼–å†™æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆ

å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œå½“æˆ‘ç¼–å†™åŠ¨æ€ç¼–ç¨‹è§£å†³æ–¹æ¡ˆæ—¶ï¼Œæˆ‘å–œæ¬¢é˜…è¯»é€’å½’å¹¶å°è¯•é‡æ–°åˆ›å»ºå®ƒã€‚æˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ˜¯å°†æ•°ç»„åˆå§‹åŒ–ä¸ºå¤§å°(n + 1)ã€‚åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™æ ·åšã€‚ä½†æ˜¯å¦‚æœä½ ä½¿ç”¨ä¸åŒçš„è¯­è¨€ï¼Œä½ å¯èƒ½éœ€è¦è¿™æ ·åšã€‚

æˆ‘ä»¬çš„ç¬¬äºŒæ­¥æ˜¯è®¾ç½®åŸºæœ¬æƒ…å†µã€‚

æ±‚åŒ…å«å·¥ä½œ[i]çš„åˆ©æ¶¦ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸ job[i]ä¸å†²çªçš„æœ€æ–°å·¥ä½œã€‚è¿™ä¸ªæƒ³æ³•æ˜¯åˆ©ç”¨äºŒåˆ†æœç´¢æ³•æ‰¾åˆ°æœ€æ–°çš„ä¸å†²çªçš„å·¥ä½œã€‚æˆ‘ä»è¿™é‡Œå¤åˆ¶äº†[çš„ä»£ç ï¼Œä½†ç¨åŠ ç¼–è¾‘ã€‚](https://www.geeksforgeeks.org/weighted-job-scheduling-log-n-time/)

é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸‹ä»€ä¹ˆæ˜¯â€œå·¥ä½œâ€ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œå·¥ä½œç”±ä¸‰éƒ¨åˆ†ç»„æˆ:

```
# Class to represent a job class Job: 
    def __init__ (self, start, finish, profit): 
        self.start = start 
        self.finish = finish 
        self.profit = profit 
```

å¼€å§‹æ—¶é—´ã€å®Œæˆæ—¶é—´å’Œè¿è¡Œè¯¥ä½œä¸šçš„æ€»åˆ©æ¶¦(æ”¶ç›Š)ã€‚

æˆ‘ä»¬è¦ç¼–ç¨‹çš„ä¸‹ä¸€æ­¥æ˜¯æ—¶é—´è¡¨ã€‚

```
# The main function that returns the maximum possible 
# profit from given array of jobs def schedule(job): 
    # Sort jobs according to start time 
    job = sorted(job, key = lambda j: j.start) 

    # Create an array to store solutions of subproblems. table[i] 
    # stores the profit for jobs till arr[i] (including arr[i]) 
    n = len(job) 
    table = [0 for _ in range(n)] 

    table[0] = job[0].profit; 
```

å‰é¢ï¼Œæˆ‘ä»¬å­¦ä¹ äº†è¡¨æ ¼æ˜¯ä¸€ç»´çš„ã€‚æˆ‘ä»¬æŒ‰å¼€å§‹æ—¶é—´å¯¹ä½œä¸šè¿›è¡Œæ’åºï¼Œåˆ›å»ºè¿™ä¸ªç©ºè¡¨ï¼Œå¹¶å°†è¡¨[0]è®¾ç½®ä¸ºä½œä¸š[0]çš„åˆ©æ¶¦ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»æŒ‰å¼€å§‹æ—¶é—´æ’åºï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå…¼å®¹çš„ä½œä¸šæ€»æ˜¯ä½œä¸š[0]ã€‚

æˆ‘ä»¬çš„ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„é€’å½’æ¥å¡«å……æ¡ç›®ã€‚ä¸ºäº†æ‰¾åˆ°ä¸‹ä¸€ä¸ªåˆé€‚çš„å·¥ä½œï¼Œæˆ‘ä»¬ä½¿ç”¨äºŒåˆ†æœç´¢æ³•ã€‚åœ¨éšåå‘å¸ƒçš„å®Œæ•´ä»£ç ä¸­ï¼Œå®ƒå°†åŒ…æ‹¬è¿™ä¸€ç‚¹ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ‹…å¿ƒç†è§£ç®—æ³•ã€‚

å¦‚æœä¸‹ä¸€ä¸ªå…¼å®¹ä½œä¸šè¿”å›-1ï¼Œè¿™æ„å‘³ç€ç´¢å¼• I ä¹‹å‰çš„æ‰€æœ‰ä½œä¸šéƒ½ä¸å®ƒå†²çª(å› æ­¤ä¸èƒ½ä½¿ç”¨)ã€‚Inclprof è¡¨ç¤ºæˆ‘ä»¬å°†è¯¥é¡¹ç›®åŒ…å«åœ¨æœ€å¤§å€¼é›†ä¸­ã€‚ç„¶åæˆ‘ä»¬å°†å®ƒå­˜å‚¨åœ¨è¡¨[i]ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬ä»¥åå¯ä»¥å†æ¬¡ä½¿ç”¨è¿™ä¸ªè®¡ç®—ã€‚

```
 # Fill entries in table[] using recursive property 
    for i in range(1, n): 

        # Find profit including the current job 
        inclProf = job[i].profit 
        l = binarySearch(job, i) 
        if (l != -1): 
            inclProf += table[l]; 

        # Store maximum of including and excluding 
        table[i] = max(inclProf, table[i - 1]) 
```

æˆ‘ä»¬çš„æœ€åä¸€æ­¥æ˜¯è¿”å›æ‰€æœ‰é¡¹ç›®çš„åˆ©æ¶¦ï¼Œç›´åˆ° n-1ã€‚

```
 return table[n-1] 
```

å®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤º:

```
# Python program for weighted job scheduling using Dynamic 
# Programming and Binary Search 
# Class to represent a job class Job: 
    def __init__ (self, start, finish, profit): 
        self.start = start 
        self.finish = finish 
        self.profit = profit 

# A Binary Search based function to find the latest job 
# (before current job) that doesn't conflict with current 
# job. "index" is index of the current job. This function 
# returns -1 if all jobs before index conflict with it. def binarySearch(job, start_index): 
    # https://en.wikipedia.org/wiki/Binary_search_algorithm 
    # Initialize 'lo' and 'hi' for Binary Search 
    lo = 0
    hi = start_index - 1

    # Perform binary Search iteratively 
    while lo <= hi: 
        mid = (lo + hi) // 2
        if job[mid].finish <= job[start_index].start: 
            if job[mid + 1].finish <= job[start_index].start: 
                lo = mid + 1
            else: 
                return mid 
        else: 
            hi = mid - 1
    return -1

# The main function that returns the maximum possible 
# profit from given array of jobs def schedule(job): 
    # Sort jobs according to start time 
    job = sorted(job, key = lambda j: j.start) 

    # Create an array to store solutions of subproblems. table[i] 
    # stores the profit for jobs till arr[i] (including arr[i]) 
    n = len(job) 
    table = [0 for _ in range(n)] 

    table[0] = job[0].profit; 

    # Fill entries in table[] using recursive property 
    for i in range(1, n): 

        # Find profit including the current job 
        inclProf = job[i].profit 
        l = binarySearch(job, i) 
        if (l != -1): 
            inclProf += table[l]; 

        # Store maximum of including and excluding 
        table[i] = max(inclProf, table[i - 1]) 

    return table[n-1] 

# Driver code to test above function job = [Job(1, 2, 50), Job(3, 5, 20), 
    Job(6, 19, 100), Job(2, 100, 200)] 
print("Optimal profit is"), 
print(schedule(job)) 
```

æ­å–œä½ ã€‚ğŸ¥³:æˆ‘ä»¬åˆšåˆšç¼–å†™äº†ç¬¬ä¸€ä¸ªåŠ¨æ€ç¨‹åºï¼æ—¢ç„¶æˆ‘ä»¬å·²ç»æ¹¿äº†è„šï¼Œè®©æˆ‘ä»¬èµ°è¿‡ä¸€ä¸ªä¸åŒç±»å‹çš„åŠ¨æ€ç¼–ç¨‹é—®é¢˜ã€‚

* * *

# [](#knapsack-problem)èƒŒåŒ…é—®é¢˜

æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªç½ªçŠ¯ã€‚å‘é„™çš„èªæ˜ã€‚ä½ é—¯å…¥æ¯”å°”ç›–èŒ¨çš„è±ªå®…ã€‚å“‡ï¼Œå¥½å§ï¼ï¼Ÿï¼ï¼Ÿè¿™æ˜¯å‡ ä¸ªæˆ¿é—´ï¼Ÿä»–çš„æ´—è¡£æœºæˆ¿æ¯”æˆ‘æ•´ä¸ªæˆ¿å­éƒ½å¤§ï¼Ÿï¼Ÿï¼Ÿå¥½äº†ï¼Œæ˜¯æ—¶å€™åœæ­¢åˆ†å¿ƒäº†ã€‚ä½ å¸¦äº†ä¸€ä¸ªå°åŒ…ã€‚ä¸€ä¸ªèƒŒåŒ…-å¦‚æœä½ æ„¿æ„çš„è¯ã€‚

ä½ åªèƒ½è£…è¿™ä¹ˆå¤šã€‚è®©æˆ‘ä»¬ç»™å®ƒä¸€ä¸ªä»»æ„çš„æ•°å­—ã€‚è¿™ä¸ªåŒ…åªèƒ½æ‰¿é‡ 15 ç£…ï¼Œä¸èƒ½å†é‡äº†ã€‚æˆ‘ä»¬æƒ³åšçš„æ˜¯æœ€å¤§åŒ–æˆ‘ä»¬èƒ½èµšå¤šå°‘é’±ã€‚

è´ªå©ªçš„æ–¹æ³•æ˜¯æŒ‘é€‰èƒ½è£…è¿›åŒ…é‡Œçš„ä»·å€¼æœ€é«˜çš„ç‰©å“ã€‚è®©æˆ‘ä»¬è¯•è¯•é‚£ä¸ªã€‚æˆ‘ä»¬è¦å·æ¯”å°”Â·ç›–èŒ¨çš„ç”µè§†ã€‚4000?å¾ˆå¥½ã€‚ä½†æ˜¯ä»–çš„ç”µè§†é‡ 15 ç£…ã€‚å› æ­¤...æˆ‘ä»¬å¸¦ç€ 4000 ç¾å…ƒç¦»å¼€ã€‚

æ¯”å°”ç›–èŒ¨æœ‰å¾ˆå¤šæ‰‹è¡¨ã€‚å‡è®¾ä»–æœ‰ä¸¤å—æ‰‹è¡¨ã€‚æ¯åªæ‰‹è¡¨é‡ 5 è‹±é•‘ï¼Œæ¯åªä»·å€¼ 2250 è‹±é•‘ã€‚å½“æˆ‘ä»¬ä¸¤ä¸ªéƒ½å·çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾—åˆ° 4500ï¼Œæƒé‡ä¸º 10ã€‚

åœ¨è´ªå©ªçš„æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šé¦–å…ˆé€‰æ‹©è¿™äº›æ‰‹è¡¨ã€‚ä½†æ˜¯å¯¹æˆ‘ä»¬äººç±»æ¥è¯´ï¼Œé€‰æ‹©ä»·å€¼æ›´é«˜çš„å°å•†å“æ˜¯æœ‰æ„ä¹‰çš„ã€‚è´ªå©ªæ–¹æ³•ä¸èƒ½æœ€ä¼˜åœ°è§£å†³{0ï¼Œ1}èƒŒåŒ…é—®é¢˜ã€‚{0ï¼Œ1}è¡¨ç¤ºæˆ‘ä»¬è¦ä¹ˆæ¥å—æ•´ä¸ªé¡¹ç›®{1}ï¼Œè¦ä¹ˆä¸æ¥å—{0}ã€‚ç„¶è€Œï¼ŒåŠ¨æ€è§„åˆ’å¯ä»¥æœ€ä¼˜åœ°è§£å†³{0ï¼Œ1}èƒŒåŒ…é—®é¢˜ã€‚

è¿™ä¸ªé—®é¢˜çš„ç®€å•è§£å†³æ–¹æ¡ˆæ˜¯è€ƒè™‘æ‰€æœ‰é¡¹ç›®çš„æ‰€æœ‰å­é›†ã€‚å¯¹äºæ¯”å°”ç›–èŒ¨ç‰©å“çš„æ¯ä¸€ä¸ªç»„åˆï¼Œæˆ‘ä»¬éƒ½è¦è®¡ç®—è¿™ä¸ªç»„åˆçš„æ€»é‡é‡å’Œä»·å€¼ã€‚

æˆ‘ä»¬åªè€ƒè™‘é‡é‡å°äº W_max çš„é‚£äº›ã€‚ç„¶åï¼Œæˆ‘ä»¬é€‰æ‹©å…·æœ‰æœ€é«˜ä»·å€¼çš„ç»„åˆã€‚è¿™æ˜¯ä¸€åœºç¾éš¾ï¼è¿™éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿæ¯”å°”Â·ç›–èŒ¨ä¼šåœ¨ä½ è¿˜æ²¡èµ°å®Œä¸‰åˆ†ä¹‹ä¸€çš„è·¯ç¨‹æ—¶å°±å›æ¥äº†ï¼åœ¨å¤§ O ä¸­ï¼Œè¿™ä¸ªç®—æ³•è€—æ—¶ O(n <sup>2)</sup> æ—¶é—´ã€‚

ä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªç²—ç•¥çš„è§£å†³æ–¹æ¡ˆå’Œé—®é¢˜æ˜¯ä»€ä¹ˆï¼Œè€Œä¸å¿…ç”¨æ•°å­¦å†™ä¸‹æ¥ï¼

* * *

## [](#maths)æ•°å­¦

æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä»½æ¯”å°”Â·ç›–èŒ¨å®¶é‡Œæ‰€æœ‰ä¸œè¥¿çš„æ¸…å•ã€‚ä¹Ÿè®¸æˆ‘ä»¬ä»ä¸€äº›ä¿é™©æ–‡ä»¶é‡Œå·çš„ã€‚ç°åœ¨ï¼Œæƒ³æƒ³æœªæ¥ã€‚è¿™ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘ä»¬æœ‰ä¸€ä¸ªå­é›†ï¼ŒLï¼Œå®ƒæ˜¯æœ€ä¼˜è§£ã€‚l æ˜¯ S çš„å­é›†ï¼ŒS åŒ…å«äº†æ¯”å°”Â·ç›–èŒ¨æ‰€æœ‰çš„ä¸œè¥¿ã€‚

è®©æˆ‘ä»¬éšæœºé€‰æ‹©ä¸€ä¸ªé¡¹ç›®ï¼ŒN. L è¦ä¹ˆåŒ…å« Nï¼Œè¦ä¹ˆä¸åŒ…å«ã€‚å¦‚æœä¸ä½¿ç”¨ Nï¼Œé—®é¢˜çš„æœ€ä¼˜è§£ä¸{1ï¼Œ2ï¼Œ...ï¼ŒN-1}ã€‚è¿™æ˜¯å‡è®¾æ¯”å°”ç›–èŒ¨çš„ä¸œè¥¿æ˜¯æŒ‰ä»·å€¼/é‡é‡æ’åºçš„ã€‚

å‡è®¾åŸé—®é¢˜çš„æœ€ä¼˜ä¸æ˜¯å­é—®é¢˜çš„æœ€ä¼˜ã€‚å¦‚æœæˆ‘ä»¬æœ‰è¾ƒå°é—®é¢˜çš„æ¬¡ä¼˜è§£ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰äº†çŸ›ç›¾â€”â€”æˆ‘ä»¬åº”è¯¥æœ‰æ•´ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£ã€‚

å¦‚æœ L åŒ…å« Nï¼Œé‚£ä¹ˆé—®é¢˜çš„æœ€ä¼˜è§£ä¸{1ï¼Œ2ï¼Œ3ï¼Œ...ï¼ŒN-1}ã€‚æˆ‘ä»¬çŸ¥é“è¿™ä¸ªé¡¹ç›®åœ¨é‡Œé¢ï¼Œæ‰€ä»¥ L å·²ç»åŒ…å«äº† nã€‚ä¸ºäº†å®Œæˆè®¡ç®—ï¼Œæˆ‘ä»¬æŠŠæ³¨æ„åŠ›æ”¾åœ¨å‰©ä¸‹çš„é¡¹ç›®ä¸Šã€‚æˆ‘ä»¬æ‰¾åˆ°å‰©ä½™é¡¹ç›®çš„æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚

ä½†æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ä¸ªæ–°çš„æœ€å¤§å…è®¸é‡é‡ W_max - W_nã€‚å¦‚æœ N é¡¹åŒ…å«åœ¨è§£å†³æ–¹æ¡ˆä¸­ï¼Œåˆ™æ€»é‡é‡ç°åœ¨æ˜¯æœ€å¤§é‡é‡å‡å» N é¡¹(å®ƒå·²ç»åœ¨èƒŒåŒ…ä¸­)ã€‚

è¿™æ˜¯ä¸¤ä¸ªæ¡ˆä¾‹ã€‚N é¡¹è¦ä¹ˆæ˜¯æœ€ä¼˜è§£ï¼Œè¦ä¹ˆä¸æ˜¯ã€‚

å¦‚æœç‰©å“ N çš„é‡é‡å¤§äº W_maxï¼Œåˆ™å®ƒä¸èƒ½è¢«åŒ…æ‹¬åœ¨å†…ï¼Œå› æ­¤æƒ…å†µ 1 æ˜¯å”¯ä¸€çš„å¯èƒ½æ€§ã€‚

ä¸ºäº†æ›´ç²¾ç¡®åœ°å®šä¹‰è¿™ä¸ªé€’å½’è§£ï¼Œè®© S_k = {1ï¼Œ2ï¼Œ...ï¼Œk}å’Œ S_0 = âˆ…

è®¾ B[kï¼Œw]æ˜¯ä½¿ç”¨ S_k çš„å­é›†è·å¾—çš„æœ€å¤§æ€»æ”¶ç›Š

ç„¶åæˆ‘ä»¬ä¸ºæ¯ä¸ª w \le W_max å®šä¹‰ B[0ï¼Œw] = 0ï¼Œå¹¶ä¸”:

æˆ‘ä»¬æœŸæœ›çš„è§£æ˜¯ B[nï¼ŒW_max]ã€‚

[![img](../Images/131b6993615c78610d943b306aebd383.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--70Anj0nA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-14.png)

### [](#tabulation-of-knapsack-problem)èƒŒåŒ…é—®é¢˜çš„åˆ¶è¡¨

å¥½çš„ï¼Œæ‹¿å‡ºä¸€äº›çº¸å’Œç¬”ã€‚ä¸ï¼ŒçœŸçš„ã€‚äº‹æƒ…å¾ˆå¿«å°±ä¼šå˜å¾—æ··ä¹±ã€‚è¿™ä¸ªè®°å¿†è¡¨æ˜¯äºŒç»´çš„ã€‚æˆ‘ä»¬æœ‰è¿™äº›é¡¹ç›®:

```
(1, 1), (3, 4), (4, 5), (5, 7) 
```

å…¶ä¸­å…ƒç»„æ˜¯`(weight, value)`ã€‚

æˆ‘ä»¬æœ‰ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ•°ç»„æ˜¯äºŒç»´çš„ã€‚ç¬¬ä¸€ç»´æ˜¯ä» 0 åˆ° 7ã€‚æˆ‘ä»¬çš„ç¬¬äºŒä¸ªç»´åº¦æ˜¯ä»·å€¼è§‚ã€‚

æˆ‘ä»¬æƒ³è¦ä¸€ä¸ª 7 çš„é‡é‡æ¥è·å¾—æœ€å¤§çš„åˆ©ç›Šã€‚

[![img](../Images/106451ad9d88f89a7d9a75b0c0658ac0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--MtxHbQOT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-15.png)

é‡é‡æ˜¯ 7ã€‚æˆ‘ä»¬ä» 0 å¼€å§‹è®¡æ•°(ä¸æ˜¯ DP çš„äº‹æƒ…ï¼Œåªæ˜¯ç¼–ç¨‹çš„äº‹æƒ…)ã€‚æˆ‘ä»¬æŠŠæ¯ä¸ªå…ƒç»„æ”¾åœ¨å·¦è¾¹ã€‚å¥½çš„ã€‚ç°åœ¨æ¥å¡«è¡¨æ ¼ï¼

[![skerritt.blog](../Images/f37589cd87a4dc70bcce37136611b72f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--FdO_PVP3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-16.png)

è¿™äº›æŸ±å­å¾ˆé‡ã€‚æƒé‡ä¸º 0 æ—¶ï¼Œæ€»æƒé‡ä¸º 0ã€‚æƒé‡ä¸º 1 æ—¶ï¼Œæ€»æƒé‡ä¸º 1ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘çŸ¥é“ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„åŒºåˆ«ï¼Œä»¥åä¼šå¾ˆæœ‰ç”¨ã€‚

å½“æˆ‘ä»¬çš„ä½“é‡ä¸º 0 æ—¶ï¼Œæ— è®ºå¦‚ä½•éƒ½ä¸èƒ½æºå¸¦ä»»ä½•ä¸œè¥¿ã€‚0 å¤„æ‰€æœ‰ä¸œè¥¿çš„æ€»é‡é‡æ˜¯ 0ã€‚

[![skerritt.blog](../Images/d18526e8afd10a94e747df6495d458b6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--_bz0d7Cm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-17.png)

å¦‚æœæˆ‘ä»¬çš„æ€»é‡é‡æ˜¯ 1ï¼Œæˆ‘ä»¬èƒ½æ‹¿çš„æœ€å¥½çš„é¡¹ç›®æ˜¯(1ï¼Œ1)ã€‚å½“æˆ‘ä»¬æ²¿ç€è¿™ä¸ªæ•°ç»„å¾€ä¸‹èµ°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ›´å¤šçš„ä¸œè¥¿ã€‚åœ¨(4ï¼Œ3)è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©(1ï¼Œ1)æˆ–(4ï¼Œ3)ã€‚ä½†ç›®å‰åªèƒ½å–(1ï¼Œ1)ã€‚è¿™ä¸€è¡Œçš„æœ€å¤§æ”¶ç›Šæ˜¯ 1ã€‚

[![skerritt.blog](../Images/6f81c228b15aa9da70aa147fea9ef4b1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--A6j0i15L--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-18.png)

å¦‚æœæˆ‘ä»¬çš„æ€»é‡é‡æ˜¯ 2ï¼Œæˆ‘ä»¬æœ€å¤šåªèƒ½å¾—åˆ° 1ã€‚æ¯ç§äº§å“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªã€‚æˆ‘ä»¬ä¸èƒ½å¤åˆ¶é¡¹ç›®ã€‚æ‰€ä»¥ä¸ç®¡æˆ‘ä»¬åœ¨ç¬¬ 1 è¡Œçš„å“ªä¸ªä½ç½®ï¼Œæˆ‘ä»¬èƒ½åšçš„ç»å¯¹æœ€å¥½çš„æ˜¯(1ï¼Œ1)ã€‚

ç°åœ¨å¼€å§‹ç”¨(4ï¼Œ3)å§ã€‚å¦‚æœæ€»é‡é‡æ˜¯ 1ï¼Œä½†æ˜¯(4ï¼Œ3)çš„é‡é‡æ˜¯ 3ï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ‹¿è¿™ä¸ªç‰©å“ï¼Œç›´åˆ°æˆ‘ä»¬çš„é‡é‡è‡³å°‘æ˜¯ 3ã€‚

[![](../Images/369e538589b41e4ca0d4269470fb6d1c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--aG-rs8Yt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-19.png)

ç°åœ¨æˆ‘ä»¬çš„æƒé‡æ˜¯ 3ã€‚æˆ‘ä»¬æ¥å¯¹æ¯”ä¸€äº›ä¸œè¥¿ã€‚æˆ‘ä»¬æƒ³å……åˆ†åˆ©ç”¨:

æœ€å¤§å€¼(4 + T[0][0]ï¼Œ1)

å¦‚æœæˆ‘ä»¬åœ¨ 2ï¼Œ3ï¼Œæˆ‘ä»¬å¯ä»¥ä»æœ€åä¸€è¡Œå–å€¼æˆ–è€…ä½¿ç”¨é‚£ä¸€è¡Œçš„é¡¹ç›®ã€‚æˆ‘ä»¬å¾€ä¸Šèµ°ä¸€è¡Œï¼Œå¾€å›æ•° 3(å› ä¸ºè¿™ä¸ªç‰©å“çš„æƒé‡æ˜¯ 3)ã€‚

å®é™…ä¸Šï¼Œè¿™ä¸ªå…¬å¼å°±æ˜¯å½“æˆ‘ä»¬å‡å»é‚£ä¸€è¡Œä¸­ç‰©å“çš„é‡é‡åå‰©ä¸‹çš„é‡é‡ã€‚(4ï¼Œ3)çš„æƒé‡æ˜¯ 3ï¼Œæˆ‘ä»¬çš„æƒé‡æ˜¯ 3ã€‚3 - 3 = 0.å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ T[0][0]ã€‚t[å‰ä¸€è¡Œçš„ç¼–å·][å½“å‰æ€»é‡é‡-ç‰©å“é‡é‡]ã€‚

æœ€å¤§å€¼(4 + T[0][0]ï¼Œ1)

1 æ˜¯å› ä¸ºå‰ä¸€é¡¹ã€‚è¿™é‡Œçš„æœ€å¤§å€¼æ˜¯ 4ã€‚

[![](../Images/2ef00be8c91c19de8df15e311285d813.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--IdX8k3A7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-20.png)

æœ€å¤§å€¼(4 + t[0][1]ï¼Œ1)

æ€»é‡é‡ä¸º 4ï¼Œé¡¹ç›®é‡é‡ä¸º 3ã€‚4 - 3 = 1.å‰ä¸€è¡Œæ˜¯ 0ã€‚t[0][1]ã€‚

[![](../Images/ebd4f93a0d2c782afb6be986f73af55e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--EXSAqKnv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-21.png)

æˆ‘ä¸ä¼šç”¨è¿™ä¸€æ’çš„å…¶ä»–äººæ¥çƒ¦ä½ ï¼Œå› ä¸ºæ²¡æœ‰ä»€ä¹ˆä»¤äººå…´å¥‹çš„äº‹æƒ…å‘ç”Ÿã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªé¡¹ç›®ã€‚æˆ‘ä»¬ç”¨å®ƒä»¬åšäº† 5 ä¸ªã€‚å› ä¸ºæ²¡æœ‰æ–°é¡¹ç›®ï¼Œæ‰€ä»¥æœ€å¤§å€¼ä¸º 5ã€‚

[![](../Images/474c0211e54a99a69cc610f33af42690.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vfe19CPU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-22.png)

ä¸‹ä¸€æ’:

[![](../Images/e2f152f6f824921776337ba601e2c60b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--MNI0M21E--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-23.png)

è¿™é‡Œæœ‰ä¸ªå°ç§˜å¯†ã€‚æˆ‘ä»¬çš„å…ƒç»„æ˜¯æŒ‰é‡é‡æ’åºçš„ï¼è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å¡«å……å‰é¢çš„æ•°æ®è¡Œï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªé‡é‡ç‚¹ã€‚æˆ‘ä»¬çŸ¥é“ 4 å·²ç»æ˜¯æœ€å¤§å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå¡«ä¸Šã€‚è¿™å°±æ˜¯è®°å¿†å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼æˆ‘ä»¬å·²ç»æœ‰æ•°æ®äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦é‡æ–°è®¡ç®—å‘¢ï¼Ÿ

æˆ‘ä»¬å¾€å‰èµ°ä¸€æ’ï¼Œç„¶åå¾€å›èµ° 4 æ­¥ã€‚è¿™ç»™äº†æˆ‘ä»¬:

max(4 + T[2][0]ï¼Œ5)ã€‚

[![](../Images/cc8f9599f95e9e17221974002626cbb7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--je4hgFH3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-24.png)

ç°åœ¨æˆ‘ä»¬è®¡ç®—æ€»é‡é‡ 5ã€‚

max(5 + T[2][1]ï¼Œ5) = 6

[![](../Images/331701baaf4c75b3669c239ce56b4b55.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--naHphjTZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-25.png)

æˆ‘ä»¬åªæ˜¯å†æ¬¡åšåŒæ ·çš„äº‹æƒ…:

max(5 + T[2][2]ï¼Œ5) = 6

[![](../Images/a03cc8bea017c828647c9a9a66fb35ae.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--y5vkIwzq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-26.png)

ç°åœ¨æˆ‘ä»¬çš„æ€»é‡é‡æ˜¯ 7ã€‚æˆ‘ä»¬é€‰æ‹©æœ€å¤§å€¼:

max(5 + T[2][3]ï¼Œ5) = max(5 + 4ï¼Œ5) = 9

[![](../Images/ebdd00beb29c76a729613050239002c0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Oqc7p5g6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-27.png)

å¦‚æœæˆ‘ä»¬çš„æ€»é‡é‡æ˜¯ 7ï¼Œæˆ‘ä»¬æœ‰ 3 ä¸ªé¡¹ç›®(1ï¼Œ1)ï¼Œ(4ï¼Œ3)ï¼Œ(5ï¼Œ4)ï¼Œæˆ‘ä»¬èƒ½åšçš„æœ€å¥½çš„æ˜¯ 9ã€‚

ç”±äºæˆ‘ä»¬çš„æ–°é¡¹ç›®ä»æƒé‡ 5 å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸Šä¸€è¡Œå¤åˆ¶ï¼Œç›´åˆ°æƒé‡ 5ã€‚

[![](../Images/b8af13223c4e6e93ef2e7b7438f40bcb.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--7wgOh5m6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-28.png)

ç„¶åæˆ‘ä»¬åšå¦ä¸€ä¸ªæœ€å¤§å€¼ã€‚

æ€»é‡é‡-æ–°ç‰©å“çš„é‡é‡ã€‚è¿™æ˜¯ 5 - 5 = 0ã€‚æˆ‘ä»¬å¸Œæœ›å‰ä¸€è¡Œä½äºä½ç½® 0ã€‚

æœ€å¤§å€¼(7 + T[3][0]ï¼Œ6)

6 æ¥è‡ªå‰ä¸€è¡Œæ€»é‡é‡çš„æœ€ä½³å€¼ã€‚

æœ€å¤§å€¼(7 + 0ï¼Œ6) = 7

[![](../Images/682cf4dd98f65b09f0ef7cb87b5f34dc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ktIz2Szf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-29.png)

max(7 + T[3][1]ï¼Œ6) = 8

[![](../Images/e84093b16fdd6ceb2446f5eec252b18e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--M8smfvjF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-30.png)

max(7+T[3][2]ï¼Œ9) = 9

[![](../Images/7ad6b98ef67df62be42539de817af84f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--V_i0cHUK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-31.png)

9 æ˜¯æˆ‘ä»¬ä»ç‰©å“é›†ä¸­æŒ‘é€‰ç‰©å“æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œä½¿å¾—æ€»é‡é‡ä¸º 7ã€‚

### [](#finding-the-optimal-set-for-0-1-knapsack-problem-using-dynamic-programming)åˆ©ç”¨åŠ¨æ€è§„åˆ’å¯»æ‰¾{0ï¼Œ1}èƒŒåŒ…é—®é¢˜çš„æœ€ä¼˜é›†åˆ

ç°åœ¨ï¼Œæˆ‘ä»¬å®é™…ä¸Šä¸ºæœ€ä¼˜é›†åˆæŒ‘é€‰ä»€ä¹ˆé¡¹ç›®å‘¢ï¼Ÿæˆ‘ä»¬ä»è¿™ä¸€é¡¹å¼€å§‹:

[![](../Images/32dad14c21c97350a0b57a21539ed31d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--wdlLByFL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-32.png)

æˆ‘ä»¬æƒ³çŸ¥é“ 9 ä»ä½•è€Œæ¥ã€‚å®ƒæ˜¯ä»ä¸Šé¢æ¥çš„ï¼Œå› ä¸ºç¬¬å››è¡Œ 9 æ­£ä¸Šæ–¹çš„æ•°å­—æ˜¯ 9ã€‚å› ä¸ºå®ƒæ¥è‡ªé¡¶éƒ¨ï¼Œæ‰€ä»¥é¡¹ç›®(7ï¼Œ5)æ²¡æœ‰ç”¨åœ¨æœ€ä¼˜é›†åˆä¸­ã€‚

è¿™ä¸ª 9 æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ

[![](../Images/3cbcc32a3c5bebfdbf58039184aa7dcc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--7w-Ap0dd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-33.png)

è¿™ä¸ª 9 ä¸æ˜¯æ¥è‡ªä¸Šé¢é‚£ä¸€æ’ã€‚ç¬¬(5ï¼Œ4)é¡¹å¿…é¡»åœ¨æœ€ä¼˜é›†åˆä¸­ã€‚

æˆ‘ä»¬ç°åœ¨å‘ä¸Šèµ°ä¸€è¡Œï¼Œç„¶ååé€€ 4 æ­¥ã€‚4 ä¸ªæ­¥éª¤ï¼Œå› ä¸ºé¡¹ç›®(5ï¼Œ4)çš„æƒé‡ä¸º 4ã€‚

[![](../Images/b3ec3edf4f406528f78f1efbf19f1c5c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--CZ8MT0VQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-34.png)

4 ä¸æ¥è‡ªä¸Šä¸€è¡Œã€‚é¡¹ç›®(4ï¼Œ3)å¿…é¡»åœ¨æœ€ä½³é›†åˆä¸­ã€‚

é¡¹ç›®(4ï¼Œ3)çš„æƒé‡æ˜¯ 3ã€‚æˆ‘ä»¬å‘ä¸Šèµ°ï¼Œç„¶ååé€€ä¸‰æ­¥ï¼Œåˆ°è¾¾:

[![](../Images/45cddbfabc83a6af6b8d76e80040a63a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--yNHTJuSW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/06/image-35.png)

ä¸€æ—¦æˆ‘ä»¬åˆ°è¾¾æƒé‡ä¸º 0 çš„ç‚¹ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ã€‚æˆ‘ä»¬é€‰æ‹©çš„ä¸¤ä¸ªé¡¹ç›®æ˜¯(5ï¼Œ4)å’Œ(4ï¼Œ3)ã€‚æ€»æƒé‡æ˜¯ 7ï¼Œæˆ‘ä»¬æ€»æ”¶ç›Šæ˜¯ 9ã€‚æˆ‘ä»¬åªè¦æŠŠä¸¤ä¸ªå…ƒç»„åŠ åœ¨ä¸€èµ·å°±çŸ¥é“äº†ã€‚

è®©æˆ‘ä»¬å¼€å§‹ç¼–ç ã€‚

* * *

### [](#coding-it)ç¼–ç å§

ç°åœ¨æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶ä¸”æˆ‘ä»¬å·²ç»å¾—åˆ°äº†å®ƒçš„é€’å½’å¼â€”â€”ç¼–å†™ä»£ç åº”è¯¥ä¸ä¼šå¤ªéš¾ã€‚å¦‚æœæˆ‘ä»¬çš„äºŒç»´æ•°ç»„æ˜¯ I(è¡Œ)å’Œ j(åˆ—),é‚£ä¹ˆæˆ‘ä»¬æœ‰:

```
if j < wt[i]: 
```

å¦‚æœæˆ‘ä»¬çš„é‡é‡ j å°äºé¡¹ç›® I çš„é‡é‡(I å¯¹ j æ²¡æœ‰è´¡çŒ®),åˆ™:

```
if j < wt[i]:
    T[i][j] = T[i - 1][j]
else:
    // weight of i >= j
    T[i][j] = max(val[i] + t[i - 1][j-wt(i), t[i-1][j])
    // previous row, subtracting the weight of the item from the total weight or without including ths item 
```

è¿™æ˜¯ç¨‹åºçš„æ ¸å¿ƒéƒ¨åˆ†ã€‚æˆ‘ä»[è¿™é‡Œ](https://www.geeksforgeeks.org/0-1-knapsack-problem-dp-10/)å¤åˆ¶äº†ä¸€äº›ä»£ç æ¥å¸®åŠ©è§£é‡Šè¿™ä¸€ç‚¹ã€‚æˆ‘ä¸æ‰“ç®—è¿‡å¤šåœ°è§£é‡Šè¿™æ®µä»£ç ï¼Œå› ä¸ºé™¤äº†æˆ‘å·²ç»è§£é‡Šè¿‡çš„å†…å®¹ä¹‹å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆæ›´å¤šçš„äº†ã€‚å¦‚æœä½ å¯¹æ­¤æ„Ÿåˆ°å›°æƒ‘ï¼Œè¯·åœ¨ä¸‹é¢ç•™ä¸‹è¯„è®º(å¯ä»¥åŒ¿å)æˆ–ç»™æˆ‘å‘ç”µå­é‚®ä»¶ğŸ˜

```
# Returns the maximum value that can be put in a knapsack of 
# capacity W def knapSack(W , wt , val , n): 

    # Base Case 
    if n == 0 or W == 0: 
        return 0

    # If weight of the nth item is more than Knapsack of capacity 
    # W, then this item cannot be included in the optimal solution 
    if (wt[n-1] > W): 
        return knapSack(W , wt , val , n-1) 

    # return the maximum of two cases: 
    # (1) nth item included 
    # (2) not included 
    else: 
        return max(val[n-1] + knapSack(W-wt[n-1] , wt , val , n-1), 
                   knapSack(W , wt , val , n-1)) 

# To test above function val = [60, 100, 120] 
wt = [10, 20, 30] 
W = 50
n = len(val) 
print(knapSack(W , wt , val , n))
# output 220 
```

* * *

## [](#time-complexity-of-a-dynamic-programming-problem)åŠ¨æ€è§„åˆ’é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦

åœ¨ DP ä¸­ï¼Œ[æ—¶é—´å¤æ‚åº¦](https://skerritt.blog/you-need-to-understand-big-o-notation-now/)è®¡ç®—å¦‚ä¸‹:

å”¯ä¸€çŠ¶æ€çš„æ•°é‡*æ¯ä¸ªçŠ¶æ€èŠ±è´¹çš„æ—¶é—´

å¯¹äºæˆ‘ä»¬çš„åŸå§‹é—®é¢˜ï¼ŒåŠ æƒåŒºé—´è°ƒåº¦é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰ n å †è¡£æœã€‚æ¯ä¸€å †è¡£æœéƒ½æ˜¯åœ¨ä¸å˜çš„æ—¶é—´é‡Œè§£å†³çš„ã€‚æ—¶é—´å¤æ‚åº¦ä¸º:

O(n) + O(1) = O(n)

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºæ—¶é—´å¤æ‚æ€§çš„çŸ¥è¯†ï¼Œæˆ‘å·²ç»å†™äº†ä¸€ç¯‡å…³äºå¤§ O ç¬¦å·çš„æ–‡ç« ã€‚

åœ¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬æœ‰ n ä¸ªé¡¹ç›®ã€‚è¯¥è¡¨çš„å¢é•¿å–å†³äºèƒŒåŒ…çš„æ€»å®¹é‡ï¼Œæˆ‘ä»¬çš„æ—¶é—´å¤æ‚åº¦æ˜¯:

è¥¿åŒ—æ–¹å‘

å…¶ä¸­ n æ˜¯ç‰©å“çš„æ•°é‡ï¼Œw æ˜¯èƒŒåŒ…çš„å®¹é‡ã€‚

æˆ‘è¦å‘Šè¯‰ä½ ä¸€ä¸ªå°ç§˜å¯†ã€‚é€šè¿‡ç®—æ³•çš„é€’å½’ï¼Œå¯ä»¥è®¡ç®—å‡ºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªå«åšä¸»å®šç†çš„ä¸œè¥¿æ¥è§£å‡ºå®ƒã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å®šç†:

<figure>[![What Is Dynamic Programming With Python Examples](../Images/303646f12ef5bdf80eebdaeb591b724a.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--DtM0UokO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/05/image-16.png) 

<figcaption>å–è‡ª[æ­¤å¤„](https://medium.com/@randerson112358/master-theorem-909f52d4364)</figcaption>

</figure>

ç°åœ¨ï¼Œæˆ‘å®è¯å®è¯´ã€‚å¡éš†å¤§å¸ˆå€¼å¾—æ‹¥æœ‰è‡ªå·±çš„åšå®¢ã€‚ç›®å‰ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªè§†é¢‘éå¸¸æ£’:

[https://www.youtube.com/embed/OynWkEj0S-s](https://www.youtube.com/embed/OynWkEj0S-s)

* * *

### [](#dynamic-programming-vs-divide-amp-conquer-vs-greedy)åŠ¨æ€è§„åˆ’ vs é™¤æ³•&å¾æœ vs è´ªå©ª

åŠ¨æ€ç¼–ç¨‹& [åˆ†è€Œæ²»ä¹‹](https://dev.to/brandonskerritt/a-gentle-introduction-to-divide-and-conquer-algorithms-1ga)æƒŠäººçš„ç›¸ä¼¼ã€‚åŠ¨æ€è§„åˆ’æ˜¯å»ºç«‹åœ¨åˆ†è€Œæ²»ä¹‹çš„åŸºç¡€ä¸Šçš„ï¼Œåªä¸è¿‡æˆ‘ä»¬ä¼šå¯¹ç»“æœè¿›è¡Œè¯„ä¼°ã€‚

è´ªå©ªåˆ™ä¸åŒã€‚å®ƒæ—¨åœ¨é€šè¿‡åœ¨é‚£ä¸€åˆ»åšå‡ºæœ€ä½³é€‰æ‹©æ¥å®ç°ä¼˜åŒ–ã€‚æœ‰æ—¶å€™ï¼Œè¿™å¹¶ä¸èƒ½è§£å†³æ•´ä¸ªé—®é¢˜ã€‚ä»¥è¿™ä¸ªé—®é¢˜ä¸ºä¾‹ã€‚æˆ‘ä»¬æœ‰ä¸‰ä¸ªç¡¬å¸:

1pï¼Œ15pï¼Œ25p

æœ‰äººæƒ³è®©æˆ‘ä»¬æ‰¾ 30 ä¾¿å£«çš„é›¶é’±ã€‚å¯¹äºè´ªå©ªï¼Œå®ƒä¼šé€‰æ‹© 25ï¼Œç„¶å 5 * 1ï¼Œæ€»å…± 6 ä¸ªç¡¬å¸ã€‚æœ€ä¼˜è§£æ˜¯ 2 * 15ã€‚è´ªå©ªä»æœ€å¤§åˆ°æœ€å°ã€‚åœ¨ 25 å²çš„æ—¶å€™ï¼Œæœ€å¥½çš„é€‰æ‹©æ˜¯é€‰æ‹© 25 å²ã€‚

[![What Is Dynamic Programming With Python Examples](../Images/e38a118fcc46f6b2e5b2f5f8835e2337.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--rEdpBiFF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/05/image-15.png)

* * *

## [](#tabulation-bottomup-vs-memoisation-topdown)åˆ¶è¡¨(è‡ªä¸‹è€Œä¸Š)vs è®°å¿†(è‡ªä¸Šè€Œä¸‹)

æœ‰ä¸¤ç§ç±»å‹çš„åŠ¨æ€ç¼–ç¨‹ã€‚åˆ¶è¡¨å’Œè®°å¿†ã€‚

### [](#memoisation-topdown)è®°å¿†(è‡ªä¸Šè€Œä¸‹)

æˆ‘ä»¬å·²ç»è®¡ç®—äº†æ‰€æœ‰çš„å­é—®é¢˜ï¼Œä½†æ˜¯ä¸çŸ¥é“æœ€ä¼˜çš„æ±‚å€¼é¡ºåºæ˜¯ä»€ä¹ˆã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä»æ ¹æ‰§è¡Œé€’å½’è°ƒç”¨ï¼Œå¹¶å¸Œæœ›æˆ‘ä»¬æ¥è¿‘æœ€ä¼˜è§£æˆ–è·å¾—æˆ‘ä»¬å°†åˆ°è¾¾æœ€ä¼˜è§£çš„è¯æ˜ã€‚å†…å­˜åŒ–ç¡®ä¿æ‚¨æ°¸è¿œä¸ä¼šé‡æ–°è®¡ç®—å­é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬ç¼“å­˜äº†ç»“æœï¼Œå› æ­¤ä¸ä¼šé‡æ–°è®¡ç®—é‡å¤çš„å­æ ‘ã€‚

[![What Is Dynamic Programming With Python Examples](../Images/634d3f91120ed76959c692360c51ee3f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--uMAOSfEj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/05/image-8.png)

æ ¹æ®å‰é¢çš„æ–æ³¢çº³å¥‘æ•°åˆ—ï¼Œæˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚å­æ ‘ F(2)ä¸ä¼šè¢«è®¡ç®—ä¸¤æ¬¡ã€‚

è¿™ä»æ ‘çš„é¡¶éƒ¨å¼€å§‹ï¼Œä»å¶å­/å­æ ‘å‘ä¸Šåˆ°æ ¹è¯„ä¼°å­é—®é¢˜ã€‚è®°å¿†æ˜¯è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•ã€‚

### [](#tabulation-bottomup)åˆ¶è¡¨(è‡ªä¸‹è€Œä¸Š)

æˆ‘ä»¬è¿˜çœ‹åˆ°åŠ¨æ€ç¼–ç¨‹è¢«ç”¨ä½œâ€œè¡¨æ ¼å¡«å……â€ç®—æ³•ã€‚é€šå¸¸ï¼Œè¿™ä¸ªè¡¨æ˜¯å¤šç»´çš„ã€‚è¿™å°±åƒè®°å¿†ï¼Œä½†æœ‰ä¸€ä¸ªä¸»è¦çš„åŒºåˆ«ã€‚æˆ‘ä»¬å¿…é¡»é€‰æ‹©æˆ‘ä»¬è¿›è¡Œè®¡ç®—çš„ç¡®åˆ‡é¡ºåºã€‚æˆ‘ä»¬çœ‹åˆ°çš„èƒŒåŒ…é—®é¢˜ï¼Œæˆ‘ä»¬ä»å·¦åˆ°å³â€”â€”ä»ä¸Šåˆ°ä¸‹â€”â€”å¡«è¡¨æ ¼ã€‚æˆ‘ä»¬çŸ¥é“å¡«è¡¨æ ¼çš„ç¡®åˆ‡é¡ºåºã€‚

æœ‰æ—¶â€œæ¡Œå­â€ä¸åƒæˆ‘ä»¬è§è¿‡çš„æ¡Œå­ã€‚å®ƒå¯ä»¥æ˜¯æ›´å¤æ‚çš„ç»“æ„ï¼Œå¦‚æ ‘ã€‚æˆ–è€…ç‰¹å®šäºé—®é¢˜åŸŸï¼Œä¾‹å¦‚åœ°å›¾ä¸Šé£è¡Œè·ç¦»å†…çš„åŸå¸‚ã€‚

### [](#tabulation-amp-memosation-advantages-and-disadvantages)åˆ¶è¡¨&åˆ¶è¡¨â€”â€”ä¼˜ç¼ºç‚¹

ä¸€èˆ¬æ¥è¯´ï¼Œè®°å¿†æ¯”åˆ—è¡¨æ›´å®¹æ˜“ç¼–ç ã€‚æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªâ€œmemoriserâ€åŒ…è£…å‡½æ•°æ¥è‡ªåŠ¨ä¸ºæˆ‘ä»¬åšè¿™ä»¶äº‹ã€‚æœ‰äº†åˆ¶è¡¨ï¼Œæˆ‘ä»¬å¿…é¡»æƒ³å‡ºä¸€ä¸ªé¡ºåºã€‚

è®°å¿†æ˜¯æœ‰è®°å¿†é—®é¢˜çš„ã€‚å¦‚æœæˆ‘ä»¬æ­£åœ¨è®¡ç®—ä¸€äº›å¤§çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ F(10 <sup>8)ï¼Œ</sup>æ¯æ¬¡è®¡ç®—éƒ½ä¼šè¢«å»¶è¿Ÿï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»å°†å®ƒä»¬æ”¾å…¥æ•°ç»„ä¸­ã€‚å¹¶ä¸”é˜µåˆ—çš„å¤§å°å°†ä¼šéå¸¸å¿«åœ°å¢é•¿ã€‚

å¦‚æœæˆ‘ä»¬å‘ç”Ÿ(æˆ–è¯•å›¾)è®¿é—®å­é—®é¢˜çš„é¡ºåºä¸æ˜¯æœ€ä¼˜çš„ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæœ‰ä¸æ­¢ä¸€ç§æ–¹æ³•æ¥è®¡ç®—å­é—®é¢˜(é€šå¸¸ç¼“å­˜ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†ç†è®ºä¸Šå¯èƒ½åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ç¼“å­˜å¯èƒ½ä¸ä¼š)ï¼Œé‚£ä¹ˆè¿™ä¸¤ç§æ–¹æ³•éƒ½ä¸æ˜¯æ—¶é—´æœ€ä¼˜çš„ã€‚è®°å¿†åŒ–é€šå¸¸ä¼šå¢åŠ æˆ‘ä»¬çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦(ä¾‹å¦‚ï¼Œä½¿ç”¨åˆ¶è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥æ›´è‡ªç”±åœ°ä¸¢å¼ƒè®¡ç®—ï¼Œå°±åƒä½¿ç”¨ Fib åˆ¶è¡¨è®©æˆ‘ä»¬ä½¿ç”¨ O(1)ç©ºé—´ï¼Œä½†æ˜¯ä½¿ç”¨ Fib è®°å¿†åŒ–ä½¿ç”¨ O(N)å †æ ˆç©ºé—´)ã€‚

[![What Is Dynamic Programming With Python Examples](../Images/f288ba58fba6bf67645bf7cd65b581a6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ZiZoaxWq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://skerritt.blog/content/images/2019/05/image-17.png)

## [](#conclusion)ç»“è®º

ä½ åœ¨åŠ¨æ€ç¼–ç¨‹ä¸­é‡åˆ°çš„å¤§å¤šæ•°é—®é¢˜å·²ç»ä»¥æŸç§å½¢å¼å­˜åœ¨äº†ã€‚é€šå¸¸ï¼Œä½ çš„é—®é¢˜ä¼šå»ºç«‹åœ¨ä¹‹å‰é—®é¢˜çš„ç­”æ¡ˆä¹‹ä¸Šã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä½¿ç”¨åŠ¨æ€ç¼–ç¨‹çš„å¸¸è§é—®é¢˜åˆ—è¡¨ã€‚

æˆ‘å¸Œæœ›æ¯å½“ä½ é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œä½ éƒ½åœ¨å¿ƒé‡Œæƒ³ç€â€œè¿™ä¸ªé—®é¢˜èƒ½ç”¨ DP è§£å†³å—ï¼Ÿâ€è¯•è¯•çœ‹ã€‚
[![](../Images/7eb98057e92572389168fa3b8b8e603c.png)T3ã€‘](https://b.ck.page)