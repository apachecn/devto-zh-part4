# æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬ n ä¸ªæ•°åˆ—

> åŸæ–‡:[https://dev . to/erikwhiting 88/find-the-n-sequence-of-a-Fibonacci-sum-462d](https://dev.to/erikwhiting88/find-the-nth-sequence-of-a-fibonacci-sum-462d)

æ–æ³¢é‚£å¥‘æ•°åˆ—æ˜¯ä¸€ä¸ªå®šä¹‰ä¸º`Fibonacci(n) = Fibonacci(n-1) + Fibonacci(n-2)`çš„é€’å½’å‡½æ•°ã€‚æ¢å¥è¯è¯´:

```
n            | 0  | 1  | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9  | 10 |
Fibonacci(n) | 0  | 1  | 1  | 2  | 3  | 5  | 8  | 13 | 21 | 34 | 55 | 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ–æ³¢é‚£å¥‘æ•°åˆ—æ˜¯é€’å½’çš„â€œHello World â€,å› ä¸ºå®ƒç›¸å¯¹å®¹æ˜“æŒæ¡ã€‚ä½†æ˜¯ä»Šå¤©ï¼Œæˆ‘ä»¬è¦æ‰“ç ´å•è°ƒï¼Œå­¦ä¹ å¦‚ä½•ä»å’Œä¸­è®¡ç®— n å€¼ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ¥æ”¶æ•°å­— 55 å¹¶è¾“å‡º 10 çš„å‡½æ•°ã€‚æˆ‘ä»¬è¿˜å°†å­¦ä¹ å¦‚ä½•å¤„ç†éœ€è¦ä½¿ç”¨è¿‘ä¼¼å€¼çš„å¼‚å¸¸å¤§çš„é‡‘é¢ã€‚

# ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ç°å®ä¸–ç•Œä¸­è¿™æ ·åšï¼Ÿ

æ–æ³¢é‚£å¥‘æ•°åˆ—åœ¨æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦é¢†åŸŸæœ‰ä¸€äº›åº”ç”¨ï¼Œä½†æˆ‘æ—¢ä¸æ˜¯æ•°å­¦å®¶ä¹Ÿä¸æ˜¯ç§‘å­¦å®¶ï¼Œæ‰€ä»¥è€å®è¯´ï¼Œæˆ‘ä¸çŸ¥é“è¿™æ ·çš„ä¸œè¥¿åœ¨ç°å®ä¸–ç•Œä¸­æœ‰ä»€ä¹ˆç”¨ã€‚è¿™æ ·åšçš„çœŸæ­£æ„ä¹‰æ˜¯é€šè¿‡ç”¨æ–°çš„æ–¹å¼æ€è€ƒè€é—®é¢˜æ¥é”»ç‚¼æˆ‘ä»¬è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚

# [](#solution-1-the-easy-way)è§£å†³æ–¹æ¡ˆ 1 -æœ€ç®€å•çš„æ–¹æ³•

ä¹ä¸€çœ‹ï¼Œè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¼¼ä¹æ˜¯æ˜¾è€Œæ˜“è§çš„:åˆ›å»ºä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œç„¶åç¼–å†™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å¾ªç¯éå†æ–æ³¢é‚£å¥‘å‡½æ•°ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…ã€‚

æ–æ³¢é‚£å¥‘å‡½æ•°:

```
def fib(n):
  ar = [0, 1]
  if n < len(ar):
    return ar[n]
  else:
    while n > len(ar) - 1:
    ar.append(
      ar[len(ar)-1] + ar[len(ar) - 2]
    )
  return ar[n] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¾ˆç®€å•ï¼Œä½†æ˜¯è®©æˆ‘ä»¬ç¡®ä¿(æˆ‘å°†è¿™ä¸ªæ–‡ä»¶å‘½åä¸º fib.py):

```
>>> from fib import *
>>> fib(10)
55 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å®Œç¾ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°ï¼Œå½“æˆ‘ä»¬ä¼ é€’ç»™å®ƒ 55 æ—¶ï¼Œå®ƒä¼šç»™æˆ‘ä»¬ 10:

```
def find_fib(sum):
  n = 0
  while True:
    if fib(n) > sum:
      return -1 # This is our error code
    elif fib(n):
      n = n+1
    else:
      return n 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªæ€»å’Œï¼Œæ¯”å¦‚è¯´ 55ï¼Œç„¶åå¼€å§‹è®¡ç®—ä¸€ä¸ªä» 0 åˆ°æ— ç©·å¤§çš„æ–æ³¢é‚£å¥‘æ•°ã€‚`while`å¾ªç¯åçš„ç¬¬ä¸€è¡Œæ£€æŸ¥ Fibonacci(n)æ˜¯å¦å¤§äºä¼ é€’çš„æ€»å’Œ(ç¨åæˆ‘ä¼šå‘Šè¯‰ä½ ä¸ºä»€ä¹ˆ)ã€‚å¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬å°† n åŠ  1ï¼Œè¿™æ ·åœ¨ä¸‹ä¸€ä¸ªå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å°†è®¡ç®—ä¸‹ä¸€ä¸ªæ–æ³¢çº³å¥‘æ•°ã€‚æœ€åï¼Œå¦‚æœ`fib(n)`æ—¢ä¸å¤§äºä¹Ÿä¸å°äº`sum`ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†æˆ‘ä»¬çš„`n`ï¼Œå¹¶è¿”å›å®ƒã€‚

æˆ‘ä»¬æ£€æŸ¥`fib(n)`æ˜¯å¦å¤§äºæ€»å’Œï¼Œå› ä¸ºä¼ é€’çš„æ•°å­—å¯èƒ½æ ¹æœ¬ä¸æ˜¯æ–æ³¢çº³å¥‘æ•°ã€‚å‡è®¾æˆ‘ä»¬æŠŠæ•°å­— 25 ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ã€‚åœ¨ç¬¬ 8 æ¬¡è¿­ä»£ä¸­ï¼Œ`fib(n)`å°†æ˜¯ 21ï¼Œåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œå®ƒå°†æ˜¯ 34ï¼Œè·³è¿‡ 25ã€‚æˆ‘ä»¬è¿”å›-1 æ¥è¡¨æ˜ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°çš„å’Œä¸æ˜¯ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚

> æˆ‘å–œæ¬¢åœ¨è¿™ä¸ªå‡½æ•°ä¸­ä¼ é€’-1ï¼Œè€Œä¸æ˜¯åƒâ€œè¿™ä¸æ˜¯ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°â€è¿™æ ·çš„é”™è¯¯æ¶ˆæ¯ï¼Œå› ä¸ºæˆ‘è®¤ä¸º mathy å‡½æ•°ä¸åº”è¯¥è¿”å›å•è¯ã€‚è¿™åªæ˜¯ä¸ªäººçš„è®¾è®¡é€‰æ‹©ï¼Œå®é™…å®æ–½å–å†³äºæ‚¨:)

è®©æˆ‘ä»¬ç»§ç»­æµ‹è¯•è¿™ä¸ªå‡½æ•°:

```
>>> from fib import *
>>> fib(20)
6725
>>> find_fib(6725)
20
>>> find_fib(25)
-1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¤ªæ£’äº†ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªè§£å†³æ–¹æ¡ˆæœ‰ä¸€ç‚¹æˆ‘ä¸å–œæ¬¢:å®ƒå¤ªæ…¢äº†ã€‚å‡è®¾å‡ºäºæŸç§åŸå› ï¼Œæ‚¨è¦å¯»æ‰¾çš„æ€»å’Œæ˜¯ç¬¬ 2000 ä¸ªåºåˆ—ã€‚å»è¯•è¯•å§:

```
>>> x = fib(2000)
>>> find_fib(x)
2000 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å®ƒä»ç„¶å·¥ä½œï¼Œä½†æ˜¯ä½ çš„ç©ºé—²èŠ±äº†ä¸€ç§’é’Ÿå¼„æ˜ç™½äº†å—ï¼Ÿæˆ‘çš„ç¡®å®å¦‚æ­¤ï¼Œæˆ‘æƒ³çŸ¥é“æ˜¯å¦æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åŠ å¿«å®ƒ(å‰§é€è­¦æŠ¥ï¼Œæœ‰)ã€‚

# [](#solution-2-the-math-way)è§£ 2 -æ•°å­¦æ–¹æ³•

ä½ çŒœæ€ä¹ˆç€ï¼Ÿå…¶å®æœ‰ä¸€ä¸ªä¸ç”¨è®¡ç®—ä¹‹å‰æ‰€æœ‰æ•°å°±èƒ½æ±‚ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°çš„è¿‘ä¼¼å€¼çš„å…¬å¼:

```
Fibonacci(n) = (Phi^n)/5^0.5 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥å¦‚æœæˆ‘ä»¬çœŸçš„æƒ³æ‰¾åˆ° nï¼Œæˆ‘ä»¬å¯ä»¥ç”¨:

```
n = log base Phi of (5^0.5 * Fibonacci(n)) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯·æ³¨æ„ï¼Œä¸€ä¸ªæ•°çš„ 0.5 æ¬¡æ–¹æ˜¯å¹³æ–¹æ ¹ï¼Œæˆ‘ä¸çŸ¥é“ markdown ä¸­çš„æ ¹å·æ€ä¹ˆå†™ğŸ¤·ã€‚è¿˜è¦æ³¨æ„ï¼Œæ•°å­—â€œPhiâ€æ˜¯:

```
Phi = ((5^0.5) + 1)/2 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬æŠŠè¿™ä¸ªæ”¾å…¥ä¸€ä¸ªå‡½æ•°:

```
import math
def find_fib_formula(sum):
  Phi = (math.sqrt(5) + 1)/2
  formula_result = round(math.log((sum * math.sqrt(5)), Phi))
  return formula_result 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é…·ï¼Œæˆ‘ä»¬æ¥è¯•è¯•å§

```
>>> from fib import *
>>> x = fib(1000)
>>> find_fib_formula(x)
1000 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æœ‰ç”¨ï¼ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨`round`è¿”å›ç»“æœï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå³ä¼ é€’äº†ä¸€ä¸ªé Fibonacci æ•°ï¼Œä½†è¿”å›äº†ä¸€ä¸ªã€‚æ¯”å¦‚æˆ‘ä»¬çŸ¥é“æ–æ³¢é‚£å¥‘(1000) - 1 ä¸æ˜¯æ–æ³¢é‚£å¥‘æ•°ï¼Œä½†æ˜¯çœ‹:

```
>>> x = fib(1000)
>>> find_fib_formula(x - 1)
1000 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°†è¿”å›é”™è¯¯çš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ å…¥ä¸€äº›ä¸œè¥¿æ¥è¿›è¡ŒåŒé‡æ£€æŸ¥ã€‚é‡å†™æ‚¨çš„å‡½æ•°æ¥æ£€æŸ¥`fib(formula_result) == sum`æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ä»£ç (-1):

```
def find_fib_formula(sum):
  Phi = (math.sqrt(5) + 1)/2
  formula_result = round(math.log((sum * math.sqrt(5)), Phi))
  if fib(formula_result) == sum:
    return formula_result
  else:
    return -1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬å†æµ‹è¯•ä¸€æ¬¡:

```
>>> from fib import *
>>> x = fib(1000)
>>> find_fib_formula(x)
1000
>>> find_fib_formula(x - 1)
-1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å‰å®³ï¼ä½†æ˜¯å†ä¸€æ¬¡ï¼Œè¿™ä¸ªå‡½æ•°å¹¶ä¸å®Œç¾ï¼Œä½ èƒ½çŒœåˆ°ä¸ºä»€ä¹ˆå—ï¼Ÿè¯•ç€ç”¨`fib(2000)`çš„ç»“æœã€‚ä½ å¾—åˆ°ä¸€ä¸ªé”™è¯¯è¯´ int å¤ªå¤§ä¸èƒ½è½¬æ¢æˆ float å—ï¼Ÿè¿™æ˜¯å› ä¸ºéšç€æˆ‘ä»¬è¶Šæ¥è¶Šé«˜ï¼Œè¿™äº›æ•°å­—å˜å¾—è¶Šæ¥è¶Šå¤§**çœŸçš„è¶Šæ¥è¶Šå¤§**ï¼Œæˆ‘ä»¬ç­‰å¼çš„ä¸€éƒ¨åˆ†æ˜¯å°†é‚£ä¸ªå¤§çš„æ•´æ•°ä¹˜ä»¥ 5 çš„å¹³æ–¹æ ¹ï¼Œå¤§çº¦æ˜¯ 2.23ã€‚Python ä¸èƒ½æŠŠé‚£ä¹ˆå¤§çš„æ•´æ•°è½¬æ¢æˆåè¿›åˆ¶æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

# [](#solution-3-approximation)è§£ 3 -è¿‘ä¼¼å€¼

å› ä¸ºé—®é¢˜æ˜¯æˆ‘ä»¬ä¸èƒ½æŠŠè¿™äº›å¤§æ•´æ•°è½¬æ¢æˆæµ®ç‚¹æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ‰“ç®—è¿™ä¹ˆåšã€‚å½“æˆ‘ä»¬æƒ³è¦å°†æ€»å’Œä¹˜ä»¥Ï†æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šåªæ˜¯å°†å®ƒä¹˜ä»¥ 2ï¼Œç„¶åæ‰¾åˆ°è¯¥æ•°çš„å¯¹æ•°åº•Ï†ã€‚ç”±äºè¿™ç§æ–¹æ³•ä¸å¤ªç²¾ç¡®ï¼Œæˆ‘ä»¬è¿˜å°†å†æ¬¡æ£€æŸ¥ä»¥ç¡®ä¿æˆ‘ä»¬å…¬å¼çš„ç»“æœæ˜¯å‡†ç¡®çš„ï¼Œå¦‚æœä¸å‡†ç¡®ï¼Œæˆ‘ä»¬å°†å›´ç»•æˆ‘ä»¬çš„ç»“æœå°è¯•å…¶ä»–ä¸€äº›æ•°å­—ã€‚å®ƒçœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·çš„:

```
def find_big_fib(sum):
  Phi = (math.sqrt(5) + 1)/2
  possible_solution = round(math.log(sum*2, Phi))
  if fib(possible_solution) == sum:
    return possible_solution
  else:
    possible_solutions = [
      possible_solution - 1,
      possible_solution - 2,
      possible_solution - 3,
      possible_solution + 1,
      possible_solution + 2,
      possible_solution + 3,
    ]
    for i in possible_solutions:
      if fib(i) == sum:
        return i
    return -1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ èƒ½çœ‹å‡ºè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆå—ï¼Ÿå°±åƒä¸Šæ¬¡ä¸€æ ·ï¼Œæˆ‘ä»¬å…ˆè®¡ç®— Phi çš„å€¼ã€‚ç„¶åï¼Œæˆ‘ä»¬è¿è¡Œä¸å‰ä¸€ä¸ªå‡½æ•°ç›¸åŒçš„å…¬å¼ï¼Œä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨ 2 è€Œä¸æ˜¯ 5 çš„å¹³æ–¹æ ¹ï¼Œé¿å…äº†å°†ä¸€ä¸ªä¸å¯èƒ½çš„å·¨å‹æ•´æ•°è½¬æ¢æˆæµ®ç‚¹æ•°çš„éœ€è¦ã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬ä¸ä¼šå› ä¸ºè¿‘ä¼¼è€ŒæŸå¤±å¤ªå¤šçš„å‡†ç¡®æ€§ï¼Œæˆ‘ä»¬æ£€æŸ¥å¹¶æŸ¥çœ‹æˆ‘ä»¬å¾—åˆ°çš„æ•°å­—æ˜¯å¦ç­‰äºæˆ‘ä»¬é€šè¿‡ Fibonacci å‡½æ•°ä¼ é€’çš„æ•°å­—ã€‚å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å°è¯•å°†å¾—å‡ºçš„æ•°å­—åŠ æˆ–å‡ 1ã€2 å’Œ 3ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªæ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œä¼ é€’ç»™æˆ‘ä»¬çš„å’Œä¸æ˜¯æ–æ³¢çº³å¥‘æ•°åˆ—ï¼Œè¿”å›-1ã€‚

```
>>> from fib import *
>>> x = fib(3000)
>>> find_big_fib(x)
3000 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

# [](#conclusion)ç»“è®º

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½ ä¸ä»…å­¦ä¹ äº†å¦‚ä½•æ‰¾åˆ°ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°çš„ç¬¬ n ä¸ªå€¼ï¼Œè¿˜å­¦ä¹ äº†å¦‚ä½•å…‹æœè®¡ç®—æœºçš„å±€é™æ€§ã€‚è¿™æ˜¯ä¸€ä»¶å€¼å¾—æ€è€ƒçš„å¥½äº‹æƒ…ï¼Œå› ä¸ºæœ‰æ—¶é—®é¢˜çš„æ˜æ˜¾è§£å†³æ–¹æ¡ˆåªåœ¨å°èŒƒå›´å†…æœ‰æ•ˆã€‚ä½ å‡ ä¹æ€»èƒ½æ‰¾åˆ°è¿™æ ·çš„è§£å†³æ–¹æ³•ï¼Œä½†æ˜¯ä¸€å®šè¦è®°ä½ä½ æ‰€åšçš„æƒè¡¡ã€‚

æˆ‘ç»™ Python è„šæœ¬æ·»åŠ äº†ä¸€äº›æ¡ä»¶ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¸€ç›´ä½¿ç”¨`find_fib`å‡½æ•°ï¼Œå®ƒä¼šå†³å®šæ˜¯å¦éœ€è¦ä½¿ç”¨`find_fib_formula,`ï¼Œè°æ¥å†³å®šæ˜¯å¦éœ€è¦ä½¿ç”¨`find_big_fib`ã€‚ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç :

```
import math

def fib(n):
  ar = [0, 1]
  if n < len(ar):
    return ar[n]
  else:
    while n > len(ar)-1:
      ar.append(
        ar[len(ar)-1] + ar[len(ar)-2]
      )
    return ar[n]

def find_fib(sum):
  if sum < fib(500):
    n = 0
    while True:
      if fib(n) > sum:
        return -1 # This is an error code
      elif fib(n) < sum:
        n = n+1
      else:
        return n
  else:
    return find_fib_formula(sum)

def find_fib_formula(sum):
  if sum <= fib(1000):
    Phi = (math.sqrt(5) + 1)/2
    formula_result = round(math.log((sum * math.sqrt(5)), Phi))
    if fib(formula_result) == sum:
      return formula_result
    else:
      return -1
  else:
    return find_big_fib(sum)

def find_big_fib(sum):
  Phi = (math.sqrt(5) + 1)/2
  possible_solution =  round(math.log(sum * 2, Phi))
  if fib(possible_solution) == sum:
    return possible_solution
  else:
    possible_solutions = [
      possible_solution - 1,
      possible_solution - 2,
      possible_solution - 3,
      possible_solution + 1,
      possible_solution + 2,
      possible_solution + 3,
    ]
    for i in possible_solutions:
      if fib(i) == sum:
        return i
    return -1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>