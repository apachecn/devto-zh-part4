# åœ¨æ¨¡å—ä¹‹é—´å…±äº«æ•°æ®æ˜¯å¾®ä¸è¶³é“çš„

> åŸæ–‡:[https://dev . to/angular/sharing-data-between-modules-is-peanuts-3p 36](https://dev.to/angular/sharing-data-between-modules-is-peanuts-3p36)

### [](#the-problem)é—®é¢˜

å½“æ‚¨æ„å»ºåº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å°†åˆ›å»ºä¸åŒçš„åŠŸèƒ½æ¨¡å—ï¼Œå¹¶è€ƒè™‘åˆ°å¯ç»´æŠ¤æ€§å’Œå°å†…å­˜å ç”¨ã€‚è¿™æ ·ä½ çš„æ¨¡å—å°±æœ‰äº†ä¸€ä¸ªæ¸…æ™°çš„è¾¹ç•Œï¼Œåªæœ‰åœ¨éœ€è¦çš„æ—¶å€™æ‰ä¼šè¢«åŠ è½½ã€‚

ä½†æ˜¯æœ‰æ—¶æ‚¨éœ€è¦æ¥è‡ªå¦ä¸€ä¸ªæ¨¡å—çš„ä¸€äº›ä¿¡æ¯(æ•°æ®)æ¥æ„å»ºæ‚¨çš„è§†å›¾(ç»„ä»¶)ã€‚è¿™æ˜¯ä¸€ä¸ªæˆ‘æœ€è¿‘å¼€å§‹ç»å¸¸çœ‹åˆ°çš„é—®é¢˜ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ç‰¹åˆ«ç»™å‡ºè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆã€‚

### [](#ngrx-selectors-the%C2%A0basics)NgRx é€‰æ‹©å™¨:åŸºç¡€çŸ¥è¯†

åœ¨ä½¿ç”¨ NgRx çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºçŠ¶æ€ä½œä¸ºä¸€ä¸ª(é€šå¸¸æ˜¯æ·±åº¦åµŒå¥—çš„)å¯¹è±¡å­˜å‚¨åœ¨å­˜å‚¨ä¸­ï¼Œä¹Ÿç§°ä¸ºçŠ¶æ€æ ‘ã€‚å½“ä½ å¼•å¯¼ä½ çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™ä¸ªçŠ¶æ€æ ‘å¼€å§‹ä¼šå¾ˆå°ï¼Œéšç€è¶Šæ¥è¶Šå¤šçš„æ¨¡å—è¢«åŠ è½½åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œå®ƒä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ã€‚

çŠ¶æ€æ ‘æ˜¯åº”ç”¨ç¨‹åºçœŸå®æ€§çš„å”¯ä¸€æ¥æºã€‚æ•°æ®ä¸€æ—¦å­˜å‚¨ï¼Œå°±å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚ä¸ºäº†è®¿é—®ç»„ä»¶ä¸­çš„çŠ¶æ€ä»¥æ„å»ºè§†å›¾ï¼Œä½¿ç”¨äº†é€‰æ‹©å™¨ã€‚

é€‰æ‹©å™¨æ˜¯ä¸€ä¸ª[çº¯å‡½æ•°](https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-pure-function-d1c076bec976)ï¼Œå®ƒå°†çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›å­˜å‚¨çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚é€‰æ‹©å™¨å¯ä»¥æ ¹æ®å¯ç”¨æ•°æ®è®¡ç®—æ´¾ç”Ÿæ•°æ®ï¼Œè€Œä¸åªæ˜¯è¿”å›å­˜å‚¨åœ¨å­˜å‚¨ä¸­çš„æ•°æ®ã€‚è¿™å…è®¸æ‚¨åªå­˜å‚¨åŸºæœ¬çš„ï¼Œä¿æŒçŠ¶æ€æ ‘å°½å¯èƒ½ç´§å‡‘ã€‚å¦ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†æ˜¯é€‰æ‹©å™¨å¯ä»¥è¢«ç»„åˆï¼Œå³:ä¸€ä¸ªé€‰æ‹©å™¨å¯ä»¥æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–é€‰æ‹©å™¨ä½œä¸ºå®ƒçš„è¾“å…¥

> å¦‚æœæ‚¨ç†Ÿæ‚‰ä½¿ç”¨æ•°æ®åº“ï¼Œå¯ä»¥å°†é€‰æ‹©å™¨ä¸æŸ¥è¯¢è¿›è¡Œæ¯”è¾ƒ

å› ä¸ºé€‰æ‹©å™¨æ˜¯çº¯å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§ç§°ä¸ºè®°å¿†åŒ–çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œè¿™æ„å‘³ç€åªæœ‰å½“å®ƒçš„ä¸€ä¸ªå‚æ•°æ”¹å˜æ—¶æ‰ä¼šæ‰§è¡Œã€‚

å‚è§ [Alex Okrushko](https://twitter.com/AlexOkrushko) çš„æ¼”è®² [NgRx:é€‰æ‹©å™¨æ¯”ä½ æƒ³è±¡çš„æ›´å¼ºå¤§](https://www.youtube.com/watch?v=E7GKnjGCXzU)äº†è§£æ›´å¤šä¿¡æ¯å’Œä¸€äº›æ›´é«˜çº§çš„æ¦‚å¿µã€‚

### [](#the-solution)è§£

ä¸ºäº†æ„å»ºè¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå°åº”ç”¨ç¨‹åºï¼Œåœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæ•´ä¸ªå®¶åº­å¯ä»¥å¡«å†™æ¯ä¸ªå®¶åº­æˆå‘˜çš„é£Ÿå“æ‚è´§ã€‚

* *æ ¹çŠ¶æ€

* *åœ¨æ ¹æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬æœ‰æˆ‘ä»¬çš„å®¶åº­æˆå‘˜ï¼Œæˆ‘ä»¬è¿˜å°†ä½¿ç”¨ [@ngrx/router-store](https://github.com/ngrx/platform/blob/master/docs/router-store/README.md) æ¥è·Ÿè¸ªè·¯ç”±å™¨çš„çŠ¶æ€ã€‚æ•´ä¸ªæ ¹çŠ¶æ€å¦‚ä¸‹æ‰€ç¤º:

```
export interface State {
  family: {
    familyMembers: {
      [id: string]: {
        id: string
        name: string
        avatar: string
      }
    }
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¼è‡´:

```
{  "family":  {  "familyMembers":  {  "dad":  {  "id":  "dad",  "name":  "Bob",  "avatar":  "ğŸ‘¨"  },  "daughter":  {  "id":  "daughter",  "name":  "Emily",  "avatar":  "ğŸ‘§"  },  ...  }  },  "router":  {...}  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#the-root-selectors)æ ¹é€‰æ‹©å™¨

ç®€å•åœ°è¯´ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ›å»º**é€‰æ‹©å™¨**æ¥é€‰æ‹©å®¶åº­æˆå‘˜ä»¥åˆ›å»ºç™»å½•é¡µé¢ã€‚

[![](../Images/299960754e1944058138bd5589f0d13c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--bi6F6a1I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/1.png)

åœ¨ç»„ä»¶å†…éƒ¨ï¼Œä½¿ç”¨åˆ›å»ºçš„`getFamilyMembers`é€‰æ‹©å™¨ä»å•†åº—ä¸­æ£€ç´¢å®¶åº­æˆå‘˜åˆ—è¡¨ã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ä½¿ç”¨`async`ç®¡é“æ¥è·å–å®¶åº­æˆå‘˜åˆ—è¡¨çš„å€¼ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†è§’ 6.1 `keyvalue`ç®¡ã€‚è¿™æ˜¯å”¯ä¸€éœ€è¦çš„ï¼Œå› ä¸ºçŠ¶æ€æ˜¯ä»¥è§„èŒƒåŒ–çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”åªæ˜¯ä»çŠ¶æ€æ ‘ä¸­æå–ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å°†å¯¹è±¡è½¬æ¢æˆé€‰æ‹©å™¨ä¸­çš„æ•°ç»„ï¼Œè¿™æ ·å°±ä¸éœ€è¦`keyvalue`ç®¡é“äº†ã€‚

[![](../Images/7c76400d28070f615189b04b6335474c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--cu17CMFm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/2.png)

äº§ç”Ÿä»¥ä¸‹ä¸»é¡µ:

[![](../Images/6a0232a75e11084062d788c9aa23501a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VTiRESsW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/3.png)

#### [](#the-feature-state)ç‰¹å¾çŠ¶æ€

å› ä¸ºè¿™æ˜¯ä¸€ä¸ªé£Ÿå“æ‚è´§åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥åŠŸèƒ½çŠ¶æ€å°†ç”±é£Ÿå“æ‚è´§å’Œä¸€ä¸ªå¯è§æ€§è¿‡æ»¤å™¨ç»„æˆï¼Œä»¥æ˜¾ç¤ºæˆ–éšè—æ£€æŸ¥è¿‡çš„é£Ÿå“æ‚è´§ã€‚æˆ‘ä»¬å°†å»¶è¿ŸåŠ è½½è¿™ä¸ªæ¨¡å—ï¼Œè¿™æ„å‘³ç€åœ¨åˆå§‹åŠ è½½æœŸé—´ä¸ä¼šåŠ è½½ä»£ç ï¼Œä½†æ˜¯ä¸€æ—¦ç”¨æˆ·å¯¼èˆªåˆ°æ‚è´§é¡µé¢ï¼Œå°±ä¼šåŠ è½½ä»£ç ã€‚

> è¿™ä¹Ÿæ„å‘³ç€ NgRx ä»£ç æœ€åˆä¸ä¼šè¢«åŠ è½½ã€‚æ¢å¥è¯è¯´ï¼Œæ­¤æ—¶æ‚¨ä¸èƒ½ä»æƒ°æ€§åŠ è½½çš„æ¨¡å—ä¸­é€‰æ‹©æ•°æ®ã€‚æ­¤å¤–ï¼Œå½“ä¸€ä¸ªåŠ¨ä½œè¢«åˆ†æ´¾æ—¶ï¼Œreducers å’Œ effects ä¸ä¼šè¢«è°ƒç”¨ã€‚

åŠ è½½ç‰¹å¾æ¨¡å—æ—¶ï¼ŒNgRx ä¼šå°†ç‰¹å¾çš„å‡é€Ÿå™¨é™„åŠ åˆ°å½“å‰å‡é€Ÿå™¨ä¸Šã€‚è¿™å¯¼è‡´ä»¥ä¸‹çŠ¶æ€æ ‘:

```
{  "family":  {...},  "router":  {...},  "groceries":  {  "groceries":  {  "ids":  [],  "entities":  {}  },  "visibility":  {  "showCheckedOffGroceries":  false  }  }  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### [](#the-feature-module)åŠŸèƒ½æ¨¡å—

æ‚è´§çŠ¶æ€ä½œä¸º`groceries`æ·»åŠ åˆ°çŠ¶æ€æ ‘ä¸­ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘å®šä¹‰å®ƒçš„æ–¹å¼ã€‚

[![](../Images/69368dcbf9d79e84e6abf5c6ec9d763d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--i5pyKhkM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/4.png)

#### [](#the-feature-selectors)ç‰¹æ€§é€‰æ‹©å™¨

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ç‰¹æ€§çŠ¶æ€æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™é€‰æ‹©å™¨æ¥é€‰æ‹©æ•°æ®ã€‚

[![](../Images/798e7f6672eb1a754e63cd6fff769e6f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8IHjNAcz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/5.png)

æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨`createFeatureSelector`æ¥é€‰æ‹©`groceries`çš„çŠ¶æ€ã€‚è¿™é‡Œæˆ‘ä»¬å†æ¬¡éœ€è¦ä¼ é€’`groceries`ä½œä¸ºå‚æ•°ï¼Œä»çŠ¶æ€æ ‘ä¸­é€‰æ‹©æ‚è´§åˆ‡ç‰‡ã€‚è¿˜è¦æ³¨æ„é€‰æ‹©æ‰€æœ‰é£Ÿå“æ‚è´§çš„`fromGroceries.selectAll`æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…ç½®é€‰æ‹©å™¨ï¼Œå¸¦æœ‰ [@ngrx/entity](https://github.com/ngrx/platform/tree/master/docs/entity) ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºç¬¬ä¸€ä¸ªè¿”å›æ´¾ç”Ÿæ•°æ®çš„é€‰æ‹©å™¨äº†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨`getGroceries`é€‰æ‹©å™¨å¹¶è¿”å›æŒ‰å®¶åº­æˆå‘˜åˆ†ç»„çš„é£Ÿå“æ‚è´§ï¼Œè¿™ä½¿å¾—ä»¥åæ›´å®¹æ˜“æŸ¥æ‰¾ç‰¹å®šå®¶åº­æˆå‘˜çš„é£Ÿå“æ‚è´§ã€‚

[![](../Images/5cef4a14a758790eb4e00c66962ed015.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--acCa_Ayv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/6.png)

* *ä¸ºç‰¹å®šäºå®¶åº­æˆå‘˜çš„æ‚è´§åº—é¡µé¢åˆ›å»ºé€‰æ‹©å™¨

* *ä½¿ç”¨æˆ‘ä»¬çš„å·å’Œæ‚è´§åº—é€‰æ‹©å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå®¶åº­æˆå‘˜åˆ›å»ºæ‚è´§åº—é¡µé¢ã€‚è¯¥é¡µé¢å¯é€šè¿‡`/groceries/:id`è¿›å…¥ï¼Œä¾‹å¦‚`/groceries/mom`ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†æ˜¾ç¤ºæ¯äº²çš„é£Ÿå“æ‚è´§ï¼Œæˆ‘ä»¬å¿…é¡»ä» URL ä¸­æå–å®¶åº­æˆå‘˜ idï¼Œä»å•†åº—ä¸­é€‰æ‹©å®¶åº­æˆå‘˜ï¼Œæœ€åä»å•†åº—ä¸­é€‰æ‹©å®¶åº­æˆå‘˜çš„é£Ÿå“æ‚è´§ã€‚

åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œç¨å¾®å›é¡¾ä¸€ä¸‹:æˆ‘ä»¬åœ¨æ ¹æ¨¡å—ä¸­å®šä¹‰äº†å®¶åº­æˆå‘˜çŠ¶æ€å’Œè·¯ç”±å™¨çŠ¶æ€ï¼Œåœ¨æ‚è´§åŠŸèƒ½æ¨¡å—ä¸­å®šä¹‰äº†æ‚è´§çŠ¶æ€ã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä»¬æ‰€æœ‰çš„åº”ç”¨ç¨‹åºçŠ¶æ€éƒ½æ˜¯åœ¨ä¸€ä¸ªçŠ¶æ€æ ‘ä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä»æˆ‘ä»¬çš„æ ¹ä¸­å¯¼å…¥é€‰æ‹©å™¨ï¼Œå¹¶å’Œæˆ‘ä»¬åœ¨æ‚è´§æ¨¡å—ä¸­åˆ›å»ºçš„é€‰æ‹©å™¨ä¸€èµ·ä½¿ç”¨å®ƒä»¬ã€‚æˆ‘å–œæ¬¢æŠŠåè€…ç§°ä¸ºåŸºæ•°é€‰æ‹©å™¨ã€‚

æ˜¯æ—¶å€™ç¼–å†™åˆ›å»ºæ‚è´§é¡µé¢æ‰€éœ€çš„é€‰æ‹©å™¨äº†ã€‚

[![](../Images/a992ff52c37e5bfc7735cb8231daa802.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--uht2re6R--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/7.png)

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜æ ¹æ®é£Ÿå“æ‚è´§æ˜¯å¦è¢«å‹¾é€‰æ¥è¿‡æ»¤å®ƒä»¬ã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ªé¢å¤–çš„`checkedOff`å¸ƒå°”å±æ€§ï¼Œä¸å¯ç©ºæ—¥æœŸç›¸æ¯”ï¼Œä½¿å®ƒåœ¨æˆ‘ä»¬çš„è§†å›¾ä¸­æ›´å®¹æ˜“æ“ä½œã€‚

æœ‰äº†è¿™äº›é€‰æ‹©å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨`getActiveFamilyMember`å’Œ`getVisibleActiveFamilyMemberGroceries`å¹¶æ„å»ºå¦‚ä¸‹è§†å›¾:

[![](../Images/49d2a1abcb62986c9844ace2791e1161.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--mR4c_zLo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/8.png)

* *ä¸ºå…¨å®¶çš„æ‚è´§é¡µé¢åˆ›å»ºé€‰æ‹©å™¨

* *å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘è¿˜å°†å‘æ‚¨å±•ç¤ºåˆ›å»ºæ˜¾ç¤ºå…¨å®¶æ‰€æœ‰æ‚è´§çš„é¡µé¢æ‰€éœ€çš„é€‰æ‹©å™¨ã€‚

å°±åƒä¹‹å‰ä¸€æ ·ï¼Œæ ¹æ¨¡å—çš„`getFamilyMembers`é€‰æ‹©å™¨è¢«ä½¿ç”¨ï¼ŒåŸºç¡€é€‰æ‹©å™¨`getGroceriesByFamilyMember`ä¹Ÿè¢«ä½¿ç”¨ã€‚

[![](../Images/37977d371e8d1956db65e2b365268549.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--C4V-99Ew--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/9.png)

æˆ‘ä»¬ä¸éœ€è¦æ›´å¤šï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„å®¶åº­è§†å›¾:

[![](../Images/043dcce8a2ffb2671f71e1d455092b04.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--EGy-c4g6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://timdeschryver.dev/posts/sharing-data-between-modules-is-peanuts/images/10.png)

### [](#recap)é‡è¿°

æ­£å¦‚ä½ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å·²ç»çœ‹åˆ°çš„ï¼Œå¦‚æœä½¿ç”¨äº†é€‰æ‹©å™¨ï¼Œåœ¨æ¨¡å—ä¹‹é—´å…±äº«æ•°æ®æ˜¯å¾®ä¸è¶³é“çš„ã€‚è¿™å¸¦æ¥äº†é¢å¤–çš„å¥½å¤„:

*   å®ƒå¾ˆå¿«ï¼Œé€‰æ‹©å™¨æ˜¯è®°å¿†çš„
*   ä½ å¯ä»¥ä¿æŒä½ çš„çŠ¶æ€ç´§å‡‘ï¼Œæœ‰å¯èƒ½åœ¨é€‰æ‹©å™¨ä¸­è·å¾—æ•°æ®
*   æ‚¨å¯ä»¥é‡ç”¨é€‰æ‹©å™¨ï¼Œå› ä¸ºé€‰æ‹©å™¨æ˜¯å¯ç»„åˆçš„
*   ç»„ä»¶ä¸å†ä¸çŠ¶æ€æ ‘ç´§å¯†è€¦åˆï¼Œè¿™ä½¿å¾—ä¿®æ”¹çŠ¶æ€æ ‘ç»“æ„æ›´åŠ å®¹æ˜“

è¯·è®°ä½ï¼Œå¦‚æœä¸€ä¸ªç‰¹æ€§æ¨¡å—è¢«å»¶è¿ŸåŠ è½½ï¼Œä¸ºäº†é€‰æ‹©æ•°æ®ï¼Œè¯¥æ¨¡å—å¿…é¡»å·²ç»è¢«åŠ è½½ã€‚

å¦‚æœæƒ³çœ‹é¡¹ç›®ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ [GitHub repo](https://github.com/timdeschryver/ngrx-family-grocery-list) ï¼Œæˆ–è€…åœ¨ [StackBlitz](https://stackblitz.com/github/timdeschryver/ngrx-family-grocery-list) é‡Œç©ç©ã€‚

éå¸¸æ„Ÿè°¢[å†…ç‰¹Â·æ‹‰å¹³æ–¯åŸº](https://twitter.com/nate_lapinski)ã€[éº¦å…‹æ–¯Â·å·«å¸ˆ K](https://twitter.com/maxkoretskyi) ã€[äºšå†å…‹æ–¯Â·å¥¥å…‹é²ä»€ç§‘](https://twitter.com/AlexOkrushko)å’Œ[æ‰˜å¾·Â·å¸•å°”é»˜](https://medium.com/u/11477bb8a02e)å®¡é˜…è¿™ç¯‡æ–‡ç« ã€‚

### å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¿™é‡Œæœ‰æ›´å¤šçš„èµ„æº

[å‚æ•°åŒ–é€‰æ‹©å™¨](//./posts/parameterized-selectors)

[æ­£å¸¸åŒ–çŠ¶æ€](//./posts/normalizing-state)

[é«˜çº§ NgRx](https://slides.com/gerardsans/angularsp-advanced-ngrx#/)

### [](#did-you-know-you-can-also-create-your-custom-selector%C2%A0factory)æ‚¨çŸ¥é“æ‚¨è¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„å®šåˆ¶é€‰æ‹©å™¨å·¥å‚å—

[https://twitter.com/gerardsans/status/1037359745466884096](https://twitter.com/gerardsans/status/1037359745466884096)