# ä½¿ç”¨ Ridgepole ç®€åŒ–æ•°æ®åº“æ¨¡å¼ç®¡ç†

> åŸæ–‡:[https://dev . to/masakazutakewaka/easy-database-schema-management-with-ridge pole-9n 5](https://dev.to/masakazutakewaka/easier-database-schema-management-with-ridgepole-9n5)

# [](#sharing-activerecords-schema-migrations-with-teams)ä¸å›¢é˜Ÿå…±äº« ActiveRecord çš„æ¨¡å¼è¿ç§»

å½“å¤šä¸ªå›¢é˜Ÿåœ¨åŒä¸€ä¸ª Rails åº”ç”¨ç¨‹åºä¸Šå·¥ä½œå¹¶å¿«é€Ÿéƒ¨ç½²æ—¶ï¼Œè¿™æ˜¯éå¸¸å›°éš¾çš„ã€‚äººä»¬åˆ›å»ºè¿ç§»ï¼Œå´ä¸çŸ¥é“å…¶ä»–å›¢é˜ŸåŒæ—¶ä¹Ÿåœ¨åˆ›å»ºè¿ç§»ã€‚
æ‚¨ä¸èƒ½å¿½ç•¥å®ƒä»¬ï¼Œå› ä¸ºåœ¨ Rails ä¸­ä¸èƒ½æœ‰å¤šç»„è¿ç§»ã€‚æ‚¨åªèƒ½æœ‰ä¸€ç»„è¿ç§»ã€‚
å› æ­¤ï¼Œå½“æ‚¨æäº¤è¿ç§»æ—¶ï¼Œæ‚¨å¿…é¡»è·Ÿè¸ªå…¶ä»–å›¢é˜Ÿæäº¤ç»™å­˜å‚¨åº“çš„è¿ç§»ã€‚
æ­£å› ä¸ºå¦‚æ­¤ï¼Œä¸æ‹–æ…¢å…¶ä»–å›¢é˜Ÿçš„åè…¿å¹¶ä¸å®¹æ˜“ã€‚

# [](#ridgepole)è„Šæ

[https://github.com/winebarrel/ridgepole](https://github.com/winebarrel/ridgepole)

Ridgepole æ˜¯ä¸€ä¸ªæ•°æ®åº“æ¨¡å¼ç®¡ç†å™¨ã€‚
æ‚¨å°† Ruby DSL å†™å…¥â€œSchemafile â€,å¹¶ä½¿ç”¨ CLI ä¸Šçš„`ridgepole --apply`å°†å…¶åº”ç”¨åˆ°æ‚¨çš„æ•°æ®åº“ã€‚

ä½¿ç”¨ Ridgepoleï¼Œæ‚¨ä¸éœ€è¦åœ¨æ¯æ¬¡æƒ³è¦å¯¹æ•°æ®åº“ä¸­çš„è¡¨æ·»åŠ ä¸€äº›æ›´æ”¹æ—¶éƒ½åˆ›å»ºè¿ç§»æ–‡ä»¶ã€‚

Ridgepole æ¯”è¾ƒ Schemafile ä¸­çš„è¡¨å’Œæ•°æ®åº“ä¸­çš„å®é™…è¡¨ã€‚
ç„¶ååº”ç”¨ä¸`ALTER TABLE`çš„å·®å¼‚(å¦‚æœæœ‰)ã€‚

å®ƒè¿˜æ”¯æŒâ€œé¢„æ¼”â€ã€‚åŸºæœ¬ä¸Šä½ å¯ä»¥å¾—åˆ°å°†è¦æ‰§è¡Œçš„ SQLï¼Œè€Œä¸éœ€è¦å®é™…æ‰§è¡Œå®ƒã€‚
å¦‚æœä½ æƒ³å¯¹ ActiveRecord çš„æ¨¡å¼è¿ç§»åšç±»ä¼¼çš„äº‹æƒ…ï¼Œä½ éœ€è¦è¿ç§»è¿ç§»ï¼Œç„¶åå›æ»šã€‚
(ä¹‹å‰æœ‰ä¸€ä¸ªæ”¯æŒé¢„æ¼”çš„ ActiveRecord çš„ PRï¼Œä½†æ˜¯æ²¡æœ‰åˆå¹¶ã€‚https://github.com/rails/rails/pull/31630

# [](#integration-with-rails)ä¸ Rails é›†æˆ

æœ‰ä¸€äº›å®çŸ³ã€‚

[https://github.com/space-pirates-llc/ridgepoler-rails](https://github.com/space-pirates-llc/ridgepoler-rails)

[https://github.com/masakazutakewaka/rafter](https://github.com/masakazutakewaka/rafter)
(è¿™æ˜¯æˆ‘çš„å®çŸ³ã€‚æˆ‘å¸Œæœ›ä½ å»çœ‹çœ‹ğŸ˜æ¬¢è¿å…¬å…³ğŸ™)

è°¢è°¢ä½ æŠŠè¿™ä¸ªçœ‹å®Œï¼ï¼

### [](#references)å‚è€ƒæ–‡çŒ®

*   [https://techlife.cookpad.com/entry/2014/08/28/194147](https://techlife.cookpad.com/entry/2014/08/28/194147)