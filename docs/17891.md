# ä½¿ç”¨ Ansible å‘æœåŠ¡å™¨å‘é€å¤§ç›®å½•ç»“æ„çš„å¥½æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ

> åŸæ–‡:[https://dev . to/mayeu/what-s-a-good-way-of-sending-a-big-directory-structure-to-a-server-using-ansi ble-2 hdm](https://dev.to/mayeu/what-s-a-good-way-of-sending-a-big-directory-structure-to-a-server-using-ansible-2hdm)

Ansible æœ‰ä¸€ä¸ª`copy`æ¨¡å—ï¼Œéå¸¸é€‚åˆç§»åŠ¨ä¸€å°ç»„æ–‡ä»¶ã€‚ä½†æ˜¯å®ƒå¯ä»¥è¿…é€Ÿå‡æ…¢ä½ çš„å‰§æœ¬ï¼Œå› ä¸º[å®ƒä¸èƒ½å¾ˆå¥½åœ°æ‰©å±•æ•°ç™¾ä¸ªæ–‡ä»¶](https://docs.ansible.com/ansible/latest/modules/copy_module.html#notes)ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨ä¸æŸå¤±å¤ªå¤šæ—¶é—´çš„æƒ…å†µä¸‹ç§»åŠ¨å¤§é‡æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å‘¢ï¼Ÿå¥½å§ï¼Œä½ ä½¿ç”¨å¦ä¸€ä¸ªåä¸º`synchronize`çš„æ¨¡å—ã€‚

`synchronize`ä½¿ç”¨äº†ä¸€ä¸ªåä¸º`rsync`çš„å·¥å…·ï¼Œæ‰€ä»¥æ‚¨é¦–å…ˆå¿…é¡»ç¡®ä¿å®ƒå®‰è£…åœ¨æ‚¨çš„æœºå™¨ä¸Šï¼Œå¹¶ä¸”å®‰è£…åœ¨ç›®æ ‡ä¸»æœºä¸Š(å¤§å¤šæ•° Unixes éƒ½æœ‰å®ƒ)ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ macOS æˆ–è€… Ubuntuï¼Œåº”è¯¥å·²ç»æœ‰äº†ã€‚å¦åˆ™ï¼Œä»åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šå®‰è£…å®ƒå¼€å§‹ã€‚

ä¸ºäº†ç¡®ä¿å®ƒå®‰è£…åœ¨æ‚¨çš„ç›®æ ‡æœåŠ¡å™¨ä¸Šï¼Œæ‚¨åº”è¯¥åœ¨ä½¿ç”¨è¡ŒåŠ¨æ‰‹å†Œä¸­çš„`synchronize`æ¨¡å—ä¹‹å‰æ·»åŠ ä¸€ä¸ªå®‰è£…å®ƒçš„ä»»åŠ¡ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ª Ubuntu æˆ– Debian ä¸»æœºçš„ä¾‹å­:

```
- name: Install rsync running synchronize later
  apt:
    name: rsync
    state: present 
```

é»˜è®¤æƒ…å†µä¸‹,`synchronize`åªéœ€è¦ä¸€ä¸ª`src`å’Œä¸€ä¸ª`dest`,ä½†æ˜¯åƒè®¸å¤šå¯è½¬æ¢çš„æ¨¡å—[ä¸€æ ·ï¼Œæœ‰æ›´å¤šçš„é€‰é¡¹æ¥æ›´å¥½åœ°æ§åˆ¶](https://docs.ansible.com/ansible/latest/modules/synchronize_module.html#synchronize-module)ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨è¯¥æ¨¡å—çš„ç®€å•ä¾‹å­:

```
- name: Synchronize a local folder to my remote server
  synchronize:
    src: path/to/my/local/folder
    dest: /absolute/path/to/my/destination/folder 
```

æœ‰äº†å®ƒï¼Œä½ å¯ä»¥å¤åˆ¶å¤§é‡çš„æ–‡ä»¶(è‡³å°‘),è€Œä¸ç”¨æ‹…å¿ƒä½ çš„å¤åˆ¶ä¼šå¾ˆæ…¢ï¼

å¿«ä¹åŒæ­¥ğŸ‘‹

*æœ¬å¸–åŸè½½äºæˆ‘çš„ç½‘ç«™: [mayeu.me](https://mayeu.me/post/what-good-way-sending-big-directory-structure-server-using-ansible/) ã€‚*