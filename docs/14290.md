# æ‚¨å†³å®šå¦‚ä½•ä»¥åŠä½•æ—¶æ›´æ–°åº”ç”¨ç¨‹åºçš„ä¾èµ–é¡¹ï¼Ÿ

> åŸæ–‡:[https://dev . to/Downey/how-and-when-do-you-decision-update-your-app-s-dependencies-42m 8](https://dev.to/downey/how-and-when-do-you-decide-to-update-your-app-s-dependencies-42m8)

*å°é¢ç…§ç‰‡è‡´è°¢:[å¼—æœ—è¥¿æ–¯ç§‘Â·é›…å…‹è€¶](https://unsplash.com/@franjacquier)ä¸Š[Unsplash](https://unsplash.com)T5ã€‘*

æ— è®ºæ‚¨æœ‰ Ruby gemsã€npm åŒ…è¿˜æ˜¯æ¥è‡ª Maven ä»“åº“çš„ jarï¼Œé™¤äº†æœ€ç®€å•çš„é¡¹ç›®ä¹‹å¤–ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½æœ‰å¤–éƒ¨ä¾èµ–ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™äº›ä¾èµ–å…³ç³»ä¼šå˜å¾—é™ˆæ—§ã€è¿‡æ—¶ï¼Œç”šè‡³ä¸å®‰å…¨ã€‚

ä½ ä»¥ä»€ä¹ˆæ ·çš„èŠ‚å¥æ›´æ–°é¡¹ç›®çš„ä¾èµ–å…³ç³»ï¼Ÿæ¯æœˆï¼Ÿå‘¨åˆŠï¼Ÿä»…åœ¨éœ€è¦æ–°åŠŸèƒ½æˆ–å®‰å…¨æ›´æ–°æ—¶ä½¿ç”¨ï¼Ÿ

ä½ å¦‚ä½•å®¡æŸ¥ä½ çš„ä¾èµ–å‡çº§ä»¥ç¡®ä¿å®ƒä»¬ä¸ä¼šç ´åä¸œè¥¿æˆ–è€…å®ƒä»¬ä¸æ˜¯æ¶æ„çš„ï¼Ÿ *(å‚è§æœ€è¿‘çš„[å¼º _ å¯†ç å®çŸ³åŠ«æŒ](https://withatwist.dev/strong-password-rubygem-hijacked.html)å¼•ä»¥ä¸ºæˆ’)*

* * *

## [](#my-approach)æˆ‘çš„æ–¹æ³•

åœ¨æˆ‘èŠ±äº†å¤§éƒ¨åˆ†æ—¶é—´å·¥ä½œçš„ Ruby é¡¹ç›®ã€Cloud Foundry çš„[äº‘æ§åˆ¶å™¨](https://github.com/cloudfoundry/cloud_controller_ng)ä»¥åŠæˆ‘çš„ä¸€äº›ä¸ªäººé¡¹ç›®ä¸­ï¼Œæˆ‘åšäº†ä»¥ä¸‹å·¥ä½œã€‚

### [](#rely-on-external-tools-for-alerts-and-prs)ä¾é å¤–éƒ¨å·¥å…·è¿›è¡Œé¢„è­¦å’Œ PRs

æˆ‘å‘ç°ï¼Œä»å®‰å…¨è§’åº¦æ¥çœ‹ï¼Œåƒ Snyk å’Œ T2 Github è‡ªå·±çš„å®‰å…¨è­¦æŠ¥ T3 è¿™æ ·çš„æœåŠ¡å¯¹äºä¿æŒ gems çš„æ›´æ–°æ˜¯éå¸¸æœ‰ä»·å€¼çš„ã€‚è¿™äº›å·¥å…·ä¸æ–­åœ°ç›‘æ§æœ€æ–°çš„ CVEï¼Œå¹¶å°†å®ƒä»¬ä¸æ‚¨çš„é¡¹ç›®æ‰€ä¾èµ–çš„ä¾èµ–é¡¹ç‰ˆæœ¬è¿›è¡Œäº¤å‰å¼•ç”¨ã€‚å½“å‡ºç°é—®é¢˜æ—¶ï¼Œå®ƒä»¬ä¼šæé†’æ‚¨ï¼Œç”šè‡³å¯ä»¥æäº¤è‡ªåŠ¨æ‹‰å–è¯·æ±‚æ¥æ¶ˆé™¤ä¾èµ–æ€§ã€‚

é™¤äº†å®‰å…¨è­¦å‘Šï¼Œæˆ‘è¿˜å‘ç°[ä¾èµ–æœºå™¨äºº](https://dependabot.com/#how-it-works)å¾ˆæœ‰å¸®åŠ©ã€‚å®ƒé€šå¸¸ä¼šè‡ªåŠ¨æäº¤ä¾èµ–é¡¹æ›´æ–°çš„æ‹‰è¯·æ±‚ï¼Œå¹¶å°½åŠ›åŒ…å«ç›¸å…³çš„ changelog æ¡ç›®ã€‚

### [](#rely-on-continuous-integration-to-catch-regressions)ä¾é ä¸æ–­çš„æ•´åˆæ¥æ•æ‰å›å½’

[![Github Pull Request Travis CI and Code Climate integration](../Images/b5ab91f501dfcdf034b0d51b724028e8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--g-JBkDmV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/zuk9a6an1cuecxvc4dxi.png)

è¿™äº›æäº¤â€œæ‹‰â€è¯·æ±‚çš„æœåŠ¡çš„å¥½å¤„åœ¨äºï¼Œæ‚¨å¯ä»¥è¿æ¥ CI ç³»ç»Ÿ(ä¾‹å¦‚ [Circle CI](https://circleci.com/) æˆ– [Travis CI](https://travis-ci.org/) )åœ¨æ‰€æœ‰ pr ä¸Šè¿è¡Œã€‚æ‚¨å¯ä»¥é…ç½®è¿™äº›æ¥è¿è¡Œæ‚¨çš„æµ‹è¯•å¥—ä»¶ï¼Œå¹¶ç»™å‡ºä¸€äº›å…³äºæ›´æ–°å½±å“çš„åˆå§‹åé¦ˆã€‚

[![Concourse CI pipelines](../Images/03a5c92d9a31e43751c824cacfb3ff0c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--sgvGUHqz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ohrtw1h69e0weigvcf9n.png)

æœ‰äº†è¶³å¤Ÿå¤æ‚çš„è‡ªåŠ¨åŒ–ï¼Œæ¯”å¦‚æˆ‘çš„å›¢é˜Ÿçš„ Concourse CI ç®¡é“ï¼Œæ‚¨ç”šè‡³å¯ä»¥åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚è‡ªåŠ¨æ·»åŠ æŸäº›ä¾èµ–é¡¹(ä¾‹å¦‚ï¼Œæˆ‘ä»¬[è‡ªåŠ¨æ·»åŠ æˆ‘ä»¬çš„ Golang ç‰ˆæœ¬](https://github.com/cloudfoundry/capi-ci/blob/feda6e5a6e0324f32be8e35d212e93f38250e491/ci/update-packages/update_golang_package.sh)),å¹¶ä¾èµ–æŒç»­çš„æ„å»ºå’Œéƒ¨ç½²åˆ°æˆ‘ä»¬çš„é›†æˆç¯å¢ƒä¸­ã€‚

### [](#manually-read-changelog-and-browse-recent-commits)æ‰‹åŠ¨è¯»å–å˜æ›´æ—¥å¿—ï¼Œæµè§ˆæœ€è¿‘æäº¤

å½“ç„¶ï¼Œå¯¹äºä¸»è¦çš„ç‰ˆæœ¬é—®é¢˜(æˆ–æ¬¡è¦çš„è¿‡å»å›°æ‰°æˆ‘çš„ä¾èµ–é—®é¢˜)ï¼Œæˆ‘å–œæ¬¢æ‰‹åŠ¨é€šè¯»é¡¹ç›®çš„å˜æ›´æ—¥å¿—æˆ–æµè§ˆé¡¹ç›®çš„æ–°æäº¤ã€‚è¿™å¯èƒ½æ˜¯ä¹å‘³å’Œè€—æ—¶çš„ï¼Œä½†å®ƒæé†’æˆ‘ä»»ä½•çªç ´æ€§çš„å˜åŒ–ï¼Œå¹¶å¸®åŠ©æˆ‘åœ¨å‡çº§æ—¶å®‰å¿ƒä¸€äº›ã€‚

è¿™æ˜¯æˆ‘(æœ‰ç‚¹åƒä»¥ Ruby ä¸ºä¸­å¿ƒçš„)ä¾èµ–æ€§ç®¡ç†æ–¹æ³•çš„è¦ç‚¹ã€‚ä½ æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ

æˆ‘ç‰¹åˆ«æ„Ÿå…´è¶£çš„æ˜¯æ›´å¤šåœ°äº†è§£äººä»¬åœ¨å…¶ä»–è¯­è¨€ç”Ÿæ€ç³»ç»Ÿä¸­åšä»€ä¹ˆï¼Œä»¥åŠé˜…è¯»ä½ ä»¬çš„å‡çº§å“²å­¦ï¼ğŸ˜Š