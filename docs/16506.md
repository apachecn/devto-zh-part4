# ES6 ææ„åˆå­¦è€…æŒ‡å—

> åŸæ–‡ï¼š<https://dev.to/themarcba/beginner-s-guide-to-es6-destructuring-ein>

äº¤å‰å‘å¸ƒè‡ª [developer.blog](https://developer.blog/es6-destructuring) ğŸ¥³

ES6 æœ‰å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯ææ„ã€‚è¿™æ˜¯ä¸€ç§ä»å¯¹è±¡å’Œæ•°ç»„ä¸­æå–é¡¹ç›®çš„éå¸¸æ–¹ä¾¿çš„æ–¹æ³•ï¼Œä¸€æ—¦ç†è§£äº†ï¼Œå¯ä»¥ä½¿ä½ çš„ä»£ç æ›´åŠ æ•´æ´ï¼Œå¯è¯»æ€§æ›´å¥½ã€‚

æˆ‘ä»¬å¼€å§‹å§ï¼

## å…ˆäº‹å…ˆâ˜ï¸

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å¾ˆå¤šç±»ä¼¼å¦‚ä¸‹çš„ä»£ç :

```
const { property1, property2 } = object 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   å·¦è¾¹çš„æ˜¯å˜é‡**è¢«èµ‹å€¼**
*   å³è¾¹çš„**æ˜¯ä¿¡æ¯æ¥æºçš„**æº****

## ç ´åç‰©ä½“ğŸ“¦

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹è±¡`movie`ï¼Œå®ƒåŒ…å«`id`ã€`title`ã€`year`ä½œä¸ºå±æ€§:

```
const movie = {
    id: 99,
    title: 'The Matrix',
    year: 1999
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæˆ‘ä»¬è¦ç”¨ä¼ ç»Ÿçš„æ–¹æ³•æå–è¿™ä¸ªç‰©ä½“çš„å±æ€§ï¼Œæˆ‘ä»¬å¿…é¡»åšè¿™æ ·çš„äº‹æƒ…:

```
const id = movie.id
const title = movie.title
const year = movie.year 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸ºäº†è®©ä½ çš„ä»£ç æ›´å…·å¯è¯»æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨**ES6 æ–¹å¼** :

```
const { id, title, year } = movie
console.log(id, title, year); // 99 The Matrix 1999 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‚¨å°†è·å¾—ä¸ç¤ºä¾‹ä¸­ 3 è¡Œä»£ç å®Œå…¨ç›¸åŒçš„ç»“æœã€‚ç»“æœï¼Œä½ æœ‰ä¸‰ä¸ªå˜é‡`id`ã€`title`ã€`year`ï¼Œæ¯ä¸ªå˜é‡åŒ…å«æ¥è‡ªå¯¹è±¡`movie`çš„å„è‡ªçš„å€¼ã€‚

> é‡è¦çš„æ˜¯è¦çŸ¥é“**å˜é‡åå’Œå¯¹è±¡å±æ€§å¿…é¡»æ˜¯ç›¸åŒçš„**ï¼

### ä½¿ç”¨ä¸åŒçš„å˜é‡å

å¦‚æœæ‚¨ä¸èƒ½æˆ–ä¸æƒ³ä½¿ç”¨ä¸å±æ€§ç›¸åŒçš„å˜é‡å(ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å·²ç»æœ‰ä¸€ä¸ªåŒåå˜é‡åœ¨ä½¿ç”¨ä¸­)ï¼Œæ‚¨å¯ä»¥**æ·»åŠ ä¸€ä¸ªå†’å·å¹¶æŒ‡æ˜æ‰€éœ€çš„å˜é‡å** :

```
const { originalPropertyName:newPropertyName } = object

// Example ğŸ‘‡
const { title:movieTitle, year:releaseYear } = movie 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### å®šä¹‰é»˜è®¤å€¼

å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªææ„å±æ€§æœªå®šä¹‰çš„æƒ…å†µä¸‹å¡«å……ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä½ å¯ä»¥åœ¨é»˜è®¤å€¼:
ååŠ ä¸Š`=`

```
const { title, rating = 3 } = movie 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æ²¡æœ‰åœ¨æˆ‘ä»¬çš„`movie`å¯¹è±¡ä¸­å®šä¹‰ä¸€ä¸ª`rating`å±æ€§ï¼Œæ‰€ä»¥å®ƒé€šå¸¸æ˜¯`undefined`ã€‚ä½†æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨ç¼ºçœå€¼è¯­æ³•æ—¶ï¼Œ`rating`å˜é‡åº”è¯¥æœ‰ 3ï¼Œä»¥é˜²å®ƒè¿˜æ²¡æœ‰ã€‚

### åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ææ„

```
const printMovie = ({ title, year, rating }) => {
    // Work directly with the destructed properties
    console.log(`The movie ${title} (${title}) has a ${rating} rating`)
    console.log(`â­ï¸`.repeat(Math.floor(rating)))
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ä»åµŒå¥—å¯¹è±¡ä¸­æå–

å¦‚æœæ‚¨æœ‰åµŒå¥—çš„å¯¹è±¡ï¼Œæ‚¨å¯ä»¥åº”ç”¨ç›¸åŒçš„åŸåˆ™ï¼Œåªæ˜¯...äº•*åµŒå¥—*ã€‚

```
const character = {
    movie: 'The Matrix',
    name: 'Thomas A. Anderson',
    alias: 'Neo',
    actor: {
        firstname: 'Keanu',
        lastname: 'Reeves'
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœä½ åªå¯¹è¿™ä¸ªç”µå½±è§’è‰²çš„æ¼”å‘˜æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥åº”ç”¨åµŒå¥—ææ„:

```
const { actor: { firstname, lastname } } = character
console.log(firstname, lastname) // Keanu Reeves 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ç ´åé˜µåˆ—â›“

ES6 è¿˜å®šä¹‰äº†ä¸€äº›å·§å¦™çš„æ•°ç»„ææ„æ–¹å¼ã€‚

å…ˆæ¥çœ‹çœ‹è€åŠæ³•:

```
const food = ['ğŸ•', 'ğŸŒ­', 'ğŸ”', 'ğŸ', 'ğŸ“']
const pizza = food[0]
const hotdog = food[1]
const burger = food[2]
console.log(pizza, hotdog, burger) // ğŸ• ğŸŒ­ ğŸ” 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨ ES6 ä¸­ï¼Œæ‚¨å¯ä»¥è·å¾—å¦‚ä¸‹å€¼:

```
const food = ['ğŸ•', 'ğŸŒ­', 'ğŸ”', 'ğŸ', 'ğŸ“']
const [pineapple, strawberry] = food
console.log(pineapple, strawberry) // ğŸ ğŸ“ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯èƒ½æœ‰æ„æ€çš„æ˜¯:

> ä½ å¯ä»¥ææ„ä»»ä½• *[å¯è¿­ä»£](https://javascript.info/iterable)* çš„ä¸œè¥¿ã€‚è¿™åŒ…æ‹¬å­—ç¬¦ä¸²ã€‚

```
const fruitSalad = 'ğŸğŸŒğŸğŸ’ğŸ‡'
const [s, a, l, a, d] = fruitSalad
console.log(d,a,l,a,s) // ğŸ‡ğŸ’ğŸğŸŒğŸ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### å¿½ç•¥æ•°ç»„ä¸­çš„é¡¹ç›®

å½“ææ„æ•°ç»„æ—¶ï¼Œå¯ä»¥å¿½ç•¥æ‚¨å¯èƒ½ä¸æ„Ÿå…´è¶£çš„å€¼ã€‚å¦å¤–:ä½ å¯ä»¥è·³è¿‡ä»»æ„å¤šçš„é¡¹ç›®ã€‚

```
const breakfast = ['ğŸ¥','ğŸ³', 'ğŸ§€','ğŸ¥“', 'ğŸ¥–']

const [croissant, eggs,, bacon] = breakfast
console.log(croissant, eggs, bacon) // ğŸ¥ğŸ³ğŸ¥“

const [,,cheese,,baguette] = breakfast
console.log(cheese, baguette) // ğŸ§€ğŸ¥– 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ä½¿ç”¨*ä¼‘æ¯*æ“ä½œç¬¦

å¦‚æœä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œä½ æƒ³å¾—åˆ°å˜é‡ä¸­çš„æŸäº›é¡¹ï¼Œè€Œå…¶ä»–çš„åœ¨ä¸€ä¸ªå•ç‹¬çš„æ•°ç»„ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨[å±•å¼€è¯­æ³•ã€T4(`...rest`):](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax) 

```
const food = ['ğŸ¥', 'ğŸ¥', 'ğŸ¥¦', 'ğŸ†', 'ğŸ…']
const [croissant, pancakes, ...veggies] = food
console.log(croissant, pancakes) // ğŸ¥ğŸ¥
console.log(veggies) // ["ğŸ¥¦", "ğŸ†", "ğŸ…"] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ä½¿ç”¨ææ„äº¤æ¢å˜é‡

ä¸€ä¸ªæ–¹ä¾¿çš„äº¤æ¢å˜é‡çš„æŠ€å·§æ˜¯ï¼Œä½¿ç”¨ææ„æ¥è¿™æ ·åšã€‚å‡è®¾ä½ æœ‰å˜é‡ x å’Œ yï¼Œæ¯ä¸ªéƒ½æœ‰ä¸€ä¸ªå€¼:

```
let x = 4711
let y = 1337 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¦äº¤æ¢å®ƒä»¬ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡:

```
let temp = x
x = y
y = temp 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†é‚£ä¸å¹²å‡€ä¹Ÿä¸å¯è¯»ã€‚ES6 ææ„æä¾›äº†ä¸€ä¸ªäº¤æ¢è¿™äº›æ•°å­—çš„å¥½æ–¹æ³•:

```
[x, y] = [y, x]
console.log(x, y) // 1337 4711 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## æ€»ç»“ğŸ™Œ

æ­£å¦‚æ‚¨åœ¨ç¤ºä¾‹ä¸­çœ‹åˆ°çš„ï¼Œææ„æ˜¯ä½¿ä»£ç æ›´çŸ­ã€å¯è¯»æ€§æ›´å¥½çš„å¥½æ–¹æ³•ã€‚æ‰€ä»¥æ¯å½“ä½ å‘ç°è‡ªå·±åœ¨é‡å¤ç±»ä¼¼
çš„äº‹æƒ…æ—¶

```
this.value1 = anotherObject.value1
this.value2 = anotherObject.value2
this.value3 = anotherObject.value3
this.value4 = anotherObject.value4 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ æœ‰æœºä¼šåº”ç”¨ææ„ã€‚

æ‰€ä»¥ï¼Œå¼€å§‹ä½ æœ€è¿‘çš„å® ç‰©é¡¹ç›®ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰ä½ å¯ä»¥åº”ç”¨è¿™äº›çŸ¥è¯†çš„åœ°æ–¹ğŸ˜Š