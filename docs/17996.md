# å‘ React Todo åº”ç”¨ç¨‹åºæ·»åŠ åŠ å¯†è´§å¸æ”¯ä»˜(æˆ–è€…æˆ‘å¦‚ä½•è®©æˆ‘çš„å­©å­åšå®¶åŠ¡)

> åŸæ–‡:[https://dev . to/blankey 1337/adding-cryptocurrency-payments-to-a-react-todo-app-or-how-I-get-my-kids-to-do-they-family-4k9a](https://dev.to/blankey1337/adding-cryptocurrency-payments-to-a-react-todo-app-or-how-i-got-my-kids-to-do-their-chores-4k9a)

è®©æˆ‘ä»¬å‡è®¾æˆ‘æœ‰ä¸€ä¸ªæ‡’æƒ°çš„å­©å­ï¼Œä»–å¯¹é‡‘é’±æ¿€åŠ±ååº”å¾ˆå¥½ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ª React Todo åº”ç”¨ç¨‹åºï¼Œæ¯å½“ä»»åŠ¡ä» Todo åˆ—è¡¨ä¸­æ ‡è®°ä¸ºå®Œæˆæ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºéƒ½ä¼šå‘é€åŠ å¯†è´§å¸ä»˜æ¬¾ã€‚å½“æˆ‘ä»¬å®Œæˆæ—¶ï¼Œåº”ç”¨ç¨‹åºçœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·çš„:

[![](../Images/1220a017bfbd8667e2ebaafa0266ab18.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--OqkIdKls--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ppv6nr7vfel1rmed8ug5.gif)

æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ„å»ºä¸Šé¢çš„åº”ç”¨ç¨‹åº:

1.  å…‹éš† todo-react åº”ç”¨ç¨‹åº
2.  ç”Ÿæˆé’±åŒ…åœ°å€
3.  æ¯å½“ä»»åŠ¡å®Œæˆæ—¶å‘é€åŠ å¯†

# [](#step-1-clone-the-todoreact-app)ç¬¬ä¸€æ­¥:å…‹éš† todo-react åº”ç”¨

å¯åŠ¨ä½ çš„ç»ˆç«¯ï¼Œå» GitHubï¼Œæ‰¾åˆ°ä¸€ä¸ªå¥½çš„ Todo åº”ç”¨ç¨‹åº(æˆ‘é€‰äº†è¿™ä¸ª)ï¼Œç„¶åå…‹éš†åˆ°ä½ çš„æœºå™¨ä¸Šã€‚

```
git clone https://github.com/tastejs/todomvc.git 
```

å°†ç›®å½•æ›´æ”¹ä¸º react-todo ç¤ºä¾‹ã€‚

```
cd todomvc/examples/react 
```

å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹ã€‚

```
npm install 
```

å¯åŠ¨ç”¨äºæœ¬åœ°å¼€å‘çš„ web æœåŠ¡å™¨ã€‚

```
python -m SimpleHTTPServer 
```

æ‰“å¼€æµè§ˆå™¨è¿›å…¥`localhost:8000`ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°è¿™ä¸ªåº”ç”¨ç¨‹åºã€‚

# [](#step-2-generate-a-wallet-address)ç¬¬äºŒæ­¥:ç”Ÿæˆé’±åŒ…åœ°å€

ä¸ºäº†åœ¨ä»»åŠ¡å®Œæˆæ—¶å‘é€åŠ å¯†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ°å€ã€‚ä½†é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ç§åŠ å¯†è´§å¸ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Burstcoinï¼Œå› ä¸ºå®ƒæ˜“äºä½¿ç”¨å¹¶ä¸”æœ‰è‰¯å¥½çš„æ–‡æ¡£åº“ã€‚

ä¸ºäº†è®©è¿™ä¸ªåº”ç”¨ç¨‹åºå·¥ä½œï¼Œå‘é€è€…(æˆ‘)å’Œæ¥æ”¶è€…(æˆ‘æ— å¿ƒçš„å­©å­)éƒ½éœ€è¦ä¸€ä¸ªé’±åŒ…åœ°å€ã€‚å‘é€è€…çš„é’±åŒ…ä¹Ÿéœ€è¦æœ‰ä¸€äº›çªå‘åœ¨é‡Œé¢å‘é€ã€‚

[ä¸‹è½½ä¸€ä¸ªçªå‘é’±åŒ…](https://www.burst-coin.org/download-wallet)æˆ–[ä½¿ç”¨ä¸€ä¸ªåœ¨çº¿é’±åŒ…](https://wallet1.burst-team.us:2083)ç”Ÿæˆä¸€äº›é’±åŒ…åœ°å€ï¼Œå¹¶ç”¨çªå‘å¡«å……å…¶ä¸­ä¸€ä¸ªã€‚çˆ†è£‚åœ¨[å‡ ä¸ªäº¤æ˜“æ‰€](https://www.burst-coin.org/exchanges)ä¸Šå¸‚ã€‚ä¸€å®šè¦è®°ä¸‹ä½ çš„å¯†ç ã€‚

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åœ¨ http://testnet.getburst.net:6876 è¿è¡Œçš„ TestNet æ¥åˆ›å»ºæˆ‘ä»¬çš„è´¦æˆ·ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨èŠ±ä»»ä½•é’±äº†ã€‚å¦‚æœä½ éœ€è¦ä¸€äº›æµ‹è¯•è„‰å†²ï¼Œè¯·è”ç³» Discordï¼Œæœ‰äººä¼šç»™ä½ ä¸€äº›ã€‚

# ç¬¬ä¸‰æ­¥:æ¯å½“ä»»åŠ¡å®Œæˆæ—¶å‘é€åŠ å¯†

è¿™æ˜¯æ•™ç¨‹çš„æ ¸å¿ƒï¼Œä½†å¯ä»¥åˆ†è§£ä¸ºä»¥ä¸‹æ­¥éª¤:

## [T3 å®‰è£…`@burstjs/core`å’Œ`@burstjs/crypto`](#install-raw-burstjscore-endraw-and-raw-burstjscrypto-endraw-)

åœ¨`index.html`ä¸­ï¼Œåœ¨`</body>`ä¹‹å‰æ·»åŠ è¿™ä¸¤ä¸ªè„šæœ¬æ ‡ç­¾ï¼Œä»¥åˆ†åˆ«å¼•å…¥@burstjs/core å’Œ@burstjs/crypto ä½œä¸º`b$`å’Œ`b$crypto`ã€‚

```
<script src='https://cdn.jsdelivr.net/npm/@burstjs/core/dist/burstjs.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/@burstjs/crypto/dist/burstjs.crypto.min.js'></script> 
```

## [T3 ç»™`app.jsx`å¢åŠ ä¸€ä¸ª`sendBurst`åŠŸèƒ½](#add-a-raw-sendburst-endraw-function-to-raw-appjsx-endraw-)

```
sendBurst: function() {

    const api = b$.composeApi({
        nodeHost: "http://testnet.getburst.net:6876",
        apiRootUrl: "/burst"
    });

    const recipientAddress = 'BURST-WQJC-854G-2LQT-8T8EA';

    const senderPassphrase = 'password123'; // BURST-9CVF-6DTE-ST5Q-GTDYA

    const keys = b$crypto.generateMasterKeys(senderPassphrase);

    return api.transaction.sendMoney({
        // NOTE: amountNQT is actually in burst
        amountNQT: '1',
        feeNQT: '0.08',
        deadline: 24 * 60, // 24 hours
        type: 1
        }, keys.publicKey, keys.signPrivateKey, recipientAddress);

}, 
```

è®©æˆ‘ä»¬ä¸€è¡Œä¸€è¡Œåœ°çœ‹çœ‹è¿™æ®µä»£ç åœ¨åšä»€ä¹ˆã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º`sendBurst`çš„å‡½æ•°ã€‚

```
sendBurst: function() { 
```

ç„¶åï¼Œæˆ‘ä»¬å‘Šè¯‰ BurstJS æˆ‘ä»¬è¦å’Œå“ªä¸ª Burst API èŠ‚ç‚¹å¯¹è¯ã€‚æ¯•ç«Ÿï¼Œæˆ‘ä»¬å¿…é¡»ä»¥æŸç§æ–¹å¼å°†äº¤æ˜“æäº¤ç»™åŒºå—é“¾ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å‘è¿è¡Œåœ¨ getburst.net ä¸Šçš„ TestNet å‘é€ Burstã€‚

```
const api = b$.composeApi({
    nodeHost: "http://testnet.getburst.net:6876",
    apiRootUrl: "/burst"
}); 
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå˜é‡æ¥å­˜å‚¨æˆ‘ä»¬çš„æ”¶ä»¶äºº(åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘çš„å¿˜æ©è´Ÿä¹‰çš„å­©å­)çš„åœ°å€ã€‚

```
const recipientAddress = 'BURST-WQJC-854G-2LQT-8T8EA'; 
```

ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå˜é‡æ¥å°†å¯†ç å­˜å‚¨åˆ°æˆ‘çš„é’±åŒ…ä¸­(è¿™æ˜¯æ‚¨çš„ 12 ä¸ªå•è¯çš„å¯†ç )ã€‚æ³¨æ„:è¿™ä»…ç”¨äºæ¼”ç¤ºç›®çš„â€”â€”ä¸è¦åœ¨æºä»£ç ä¸­ä½¿ç”¨å¯†ç ï¼

```
const senderPassphrase = 'password123'; // BURST-9CVF-6DTE-ST5Q-GTDYA 
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»æˆ‘çš„å¯†ç çŸ­è¯­ä¸­ç”Ÿæˆä¸€äº›å¸æˆ·å¯†é’¥ã€‚

```
const keys = b$crypto.generateMasterKeys(senderPassphrase); 
```

æœ€åï¼Œæˆ‘ä»¬ä» BurstJS äº‹åŠ¡ API è°ƒç”¨`sendMoney`å‡½æ•°ã€‚

```
return api.transaction.sendMoney({
    // NOTE: amountNQT is actually in burst
    amountNQT: '1',
    feeNQT: '0.08',
    deadline: 24 * 60, // 24 hours
    type: 1
    }, keys.publicKey, keys.signPrivateKey, recipientAddress); 
```

æ³¨æ„:BurstJS åœ¨å°†å·²ç­¾åçš„äº‹åŠ¡å¹¿æ’­åˆ°ç½‘ç»œä¹‹å‰ï¼Œä¼šåœ¨æœ¬åœ°å¯¹äº‹åŠ¡è¿›è¡Œç­¾åã€‚è¿™æ„å‘³ç€æ‚¨çš„ç§é’¥æ°¸è¿œä¸ä¼šé€šè¿‡ç½‘ç»œå‘é€ã€‚

ç„¶åæˆ‘ä»¬å…³é—­å‡½æ•°ã€‚`sendBurst`å‡½æ•°åˆ°æ­¤ä¸ºæ­¢ã€‚

## [](#update-the-raw-toggle-endraw-function)æ›´æ–°`toggle`åŠŸèƒ½

```
toggle: function (todoToToggle) {
    if (!todoToToggle.completed) {
        this.sendBurst().then((response) => {
            console.log(response);
            this.props.model.toggle(todoToToggle);
        });
    } else {
        this.props.model.toggle(todoToToggle);
    }
}, 
```

åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å°†ä»»åŠ¡æ ‡è®°ä¸ºå·²å®Œæˆï¼Œå› ä¸ºå¦‚æœç”¨æˆ·å–æ¶ˆæ£€æŸ¥ä¹‹å‰å®Œæˆçš„ä»»åŠ¡ï¼Œæˆ‘ä»¬ä¸æƒ³å‘é€ä»˜æ¬¾ã€‚

```
if (!todoToToggle.completed) { 
```

å¦‚æœä»»åŠ¡è¢«æ ‡è®°ä¸ºå·²å®Œæˆï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª`.then()`å¤„ç†ç¨‹åºè°ƒç”¨`this.sendBurst()`æ¥æ›´æ–°é¡¹ç›®ï¼Œå¦‚æœçªå‘è¢«æˆåŠŸå‘é€çš„è¯ã€‚

```
this.sendBurst().then((response) => {
    console.log(response);
    this.props.model.toggle(todoToToggle);
}); 
```

æœ‰äº†å®ƒï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨ä»»ä½•æ—¶å€™å°†ä»»åŠ¡æ ‡è®°ä¸ºå®Œæˆæ—¶å‘é€çªå‘ã€‚

# [](#conclusion)ç»“è®º

é€šè¿‡å‡ ä¸ªç®€å•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å…‹éš†äº†ä¸€ä¸ª todo åº”ç”¨ç¨‹åºï¼Œå¹¶æ·»åŠ äº†æ¯å½“ä»»åŠ¡è¢«æ ‡è®°ä¸ºå®Œæˆæ—¶å‘é€åŠ å¯†äº‹åŠ¡çš„åŠŸèƒ½ã€‚

åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç”¨æˆ·æ˜¾ç¤ºä¸€äº›æˆåŠŸæ¶ˆæ¯ï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™æ˜¾ç¤ºä¸€æ¡å¤±è´¥æ¶ˆæ¯ã€‚å°±æ˜¯è¿™æ ·ï¼Œç¥ä½ é»‘å®¢ç”Ÿæ¶¯æ„‰å¿«ï¼

åœ¨ GitHub ä¸ŠæŸ¥çœ‹æºä»£ç :[https://github.com/blankey1337/react-crypto-todo](https://github.com/blankey1337/react-crypto-todo)

æŸ¥çœ‹æ­¤æ¼”ç¤ºä¸­çš„äº‹åŠ¡:[http://explorer . testnet . burst . dev true . net/tx/2321852862536159906](http://explorer.testnet.burst.devtrue.net/tx/2321852862536159906)

## [](#buy-the-dev-a-beer)ğŸ»ç»™æˆ´å¤«ä¹°æ¯å•¤é…’

[@ blankey 1337](https://dev.to/blankey1337)BURST-HT4V-8H5E-es S5-223 sb