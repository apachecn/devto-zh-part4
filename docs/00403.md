# ä½¿ç”¨ Azure Event Hubs è·å¾—å¤šäº‹ä¹‹ç§‹:ç¬¬ä¸€éƒ¨åˆ†

> åŸæ–‡ï¼š<https://dev.to/danondso/getting-eventful-with-azure-event-hubs-part-one-3jn1>

[Event hub](https://azure.microsoft.com/en-us/services/event-hubs/) æ˜¯å¾®è½¯æä¾›çš„å¤§æ•°æ®æ‘„å–äº§å“ï¼Œå®ƒåˆ©ç”¨äº† AMQPã€HTTPS å’Œé˜¿å¸•å¥‡å¡å¤«å¡ã€‚Event hub æä¾›äº†æ•°æ®æµä¸Šçš„åˆ†åŒºå’Œæ£€æŸ¥ç‚¹ç­‰ä¼˜åŠ¿ï¼Œä»¥åŠæ‚¨çš„é’±åŒ…å¯ä»¥å¤„ç†çš„æ‰€æœ‰å¯ä¼¸ç¼©æ€§ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ spring boot web æœåŠ¡å»ºç«‹è¿æ¥å¹¶å‘ event hub å‘é€æ•°æ®ã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„æŸ¥çœ‹å®Œæ•´çš„ç¤ºä¾‹[ã€‚](https://github.com/Danondso/dublin_eventhub_demo)

## è®¾ç½® Azure å¸æˆ·

å¦‚æœä½ è¿˜æ²¡æœ‰ï¼Œä½ éœ€è¦æ³¨å†Œä¸€ä¸ª azure dev å¸æˆ·ã€‚ä»–ä»¬ä¸ºæ‚¨æä¾›è¶³å¤Ÿçš„ç§¯åˆ†ï¼Œè®©æ‚¨äº†è§£æˆ‘ä»¬åœ¨æœ¬æŒ‡å—ä¸­éœ€è¦åšçš„äº‹æƒ…ã€‚

## åˆ›å»ºäº‹ä»¶ä¸­å¿ƒåç§°ç©ºé—´

ç™»å½• azure é—¨æˆ·ç½‘ç«™ï¼Œåœ¨é¡¶éƒ¨çš„æœç´¢æ¡†ä¸­æœç´¢â€œæ´»åŠ¨ä¸­å¿ƒâ€ã€‚æ‚¨éœ€è¦é€‰æ‹©â€œæ´»åŠ¨ä¸­å¿ƒâ€é€‰é¡¹ã€‚

[![Event Hub Search Result](img/43d891b0a64cfa7a384c8497d9a1ba36.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--zGxZiOKD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/8sgr51gnorn5ggua7y5k.PNG)

ä»é‚£é‡Œç‚¹å‡»â€œäº‹ä»¶ä¸­å¿ƒâ€ï¼Œç„¶åç‚¹å‡»æ·»åŠ (+)å›¾æ ‡ã€‚

[![Adding Event Hub](img/398503d13a0a4602a4aa617b49a02cf5.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--NDkPs0dr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1on77z7ghu7euydt2ekd.PNG)

å¡«å†™åˆ›å»ºè¡¨å•ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†æœ€ç®€å•çš„è®¾ç½®ã€‚æ‚¨å¯èƒ½è¿˜éœ€è¦ä¸ºè¿™ä¸ªäº‹ä»¶ä¸­å¿ƒåˆ›å»ºä¸€ä¸ªèµ„æºç»„ã€‚

[![Event Hub Namespace Create Form](img/efd2a520ea013c5d4428cf600b8dee9c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--QmhmFHEH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/8tkclexlp1tcjaj46x4f.PNG)

å˜£ï¼æˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒå‘½åç©ºé—´ã€‚åç§°ç©ºé—´å……å½“æ‚¨åˆ›å»ºçš„äº‹ä»¶ä¸­å¿ƒçš„ç»„ç»‡ç›®å½•ã€‚

## åˆ›å»ºæ´»åŠ¨ä¸­å¿ƒ

å¯¼èˆªåˆ°æ‚¨çš„äº‹ä»¶ä¸­å¿ƒåç§°ç©ºé—´ï¼Œç„¶åå•å‡»äº‹ä»¶ä¸­å¿ƒæ·»åŠ (+)å›¾æ ‡ã€‚

[![Add Event Hub](img/0cf666baf3df91a702aa2373a531c809.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--GMzqZmkH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/u67apl1e6qnaw7tmqvmg.PNG)

ç»™ä½ çš„æ´»åŠ¨ä¸­å¿ƒèµ·ä¸€ä¸ªæ—¶é«¦çš„åå­—ï¼Œæ ¹æ®ä½ çš„éœ€è¦è°ƒæ•´åˆ†åŒºæ•°é‡ï¼Œä½†æ˜¯åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘å°†åˆ†åŒºæ•°é‡ä¿æŒåœ¨ 2ã€‚å•å‡»è¡¨å•åº•éƒ¨çš„ createï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹äº†ã€‚

[![Event Hub Create Form](img/8d67b25a81d80f38b5069d27450393eb.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ZaKcYgaA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/dgnwtmqmjvqcssah9pum.PNG)

æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œè¯´æ˜æ‚¨çš„äº‹ä»¶ä¸­å¿ƒæ­£åœ¨åˆ›å»ºä¸­ï¼Œå®Œæˆåï¼Œä»æ‚¨çš„åç§°ç©ºé—´èœå•å¯¼èˆªåˆ°å®ƒã€‚æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªæ˜¾ç¤ºå„ç§æŒ‡æ ‡çš„ä»ªè¡¨æ¿ï¼Œæ¯”å¦‚ååé‡å’Œæ¶ˆæ¯æ•°é‡ã€‚

[![Event Hub Stats](img/61f6b5862f9237edeb9a8a4ed19d7042.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--XLGKVSt9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x88scppbq5qzzbkqmuh5.PNG)

åœ¨ä¾§è¾¹èœå•ä¸­ï¼Œå¯¼èˆªåˆ°â€œå…±äº«è®¿é—®ç­–ç•¥â€å¹¶ç‚¹æŒ‰æ·»åŠ æŒ‰é’®(+)ã€‚ç»™å®ƒä¸€ä¸ªåå­—ï¼Œå¹¶ç»™å®ƒç®¡ç†è®¿é—®æƒé™(ç»™æˆ‘ä»¬è¯»å’Œå†™çš„æƒé™)ã€‚

[![Shared Access Policy Create](img/eec81c1d916783dfd33c1d1bf59eae57.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--z1V3awB0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/5fu0g1222opr6zmx3jgx.PNG)

åˆ›å»ºå…±äº«è®¿é—®ç­–ç•¥ä¸ºæˆ‘ä»¬æä¾›äº†æ‰“å¼€æ´»åŠ¨ä¸­å¿ƒåŸå ¡çš„é’¥åŒ™ã€‚å•å‡»æ‚¨åˆšåˆšåˆ›å»ºçš„ç­–ç•¥ï¼Œå¹¶è®°ä¸‹è¿æ¥å­—ç¬¦ä¸²ã€‚

# å‘äº‹ä»¶ä¸­å¿ƒå‘é€æ•°æ®

### åœ¨äº‹ä»¶ä¸­æ¢ä¸­æ·»åŠ ä¾èµ–å…³ç³»ã€‚

é¦–å…ˆï¼Œå°†è¿™äº›ä¾èµ–é¡¹æ·»åŠ åˆ° pom æ–‡ä»¶ä¸­ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¿™äº›ä¾èµ–é¡¹çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ 3.0.0ã€‚

```
 <dependency>
            <groupId>com.microsoft.azure</groupId>
            <artifactId>azure-eventhubs</artifactId>
            <version>3.0.0</version>
        </dependency>
        <dependency>
            <groupId>com.microsoft.azure</groupId>
            <artifactId>azure-eventhubs-eph</artifactId>
            <version>3.0.0</version>
        </dependency> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª config ç±»å¹¶åˆ›å»ºä¸€ä¸ª EventHubClientã€‚

### åˆ›å»ºå®¢æˆ·ç«¯å¹¶è¿æ¥ã€‚

```
import com.microsoft.azure.eventhubs.EventHubClient;
import com.microsoft.azure.eventhubs.EventHubException;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.io.IOException;
import java.util.concurrent.Executors;

@Configuration
public class EventHubConfig {

    @Value("${eventHub.connectionString}")
    private String connectionString;

    @Bean
    public EventHubClient setupEventHubConnection() throws IOException, EventHubException {
        return EventHubClient.createFromConnectionStringSync(connectionString,
                              Executors.newSingleThreadScheduledExecutor());
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ä¸ªç±»ä¸­ï¼Œæˆ‘ä»ä¸€ä¸ªé…ç½®æ–‡ä»¶(åœ¨æˆ‘çš„ä¾‹å­ä¸­æ˜¯åº”ç”¨ç¨‹åºçš„ yml æ–‡ä»¶)ä¸­æå– connectionStringï¼Œæ³¨å…¥åˆ° config ç±»ä¸­ï¼Œç„¶åæŒ‰åŸæ ·å°†å…¶ä¼ é€’ç»™*createFromConnectionStringSync*æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªè¿æ¥å­—ç¬¦ä¸²å’Œä¸€ä¸ª *ScheduledExecutorService* å¯¹è±¡ã€‚å› ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰åšä»»ä½•èŠ±å“¨çš„äº‹æƒ…ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº†å•çº¿ç¨‹æ‰§è¡Œå™¨ã€‚

æˆ‘æ˜¯è¿™æ ·å®šä¹‰æˆ‘çš„ yml æ–‡ä»¶çš„ã€‚

```
eventHub:
  connectionString: 'connections  string  here' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒå®¢æˆ·ç«¯ beanï¼Œè®©æˆ‘ä»¬ç»§ç»­åˆ›å»ºä¸€ä¸ªä½¿ç”¨å®ƒçš„æœåŠ¡ç»„ä»¶ã€‚

```
import com.dublin.eventhub.demo.controller.Controller;
import com.dublin.eventhub.demo.model.EventPayload;
import com.microsoft.azure.eventhubs.EventData;
import com.microsoft.azure.eventhubs.EventHubClient;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.util.SerializationUtils;

import java.util.Objects;

@Service
public class EventHubService {
    private final EventHubClient eventHubClient;
    private Logger log = LoggerFactory.getLogger(Controller.class);

    @Autowired
    public EventHubService(EventHubClient eventHubClient) {
        this.eventHubClient = eventHubClient;
    }

    public void sendEvent(EventPayload test) {

        byte[] bytes = SerializationUtils.serialize(test);

        log.info("Sending message to the event hub {}", eventHubClient.getEventHubName());
        eventHubClient.send(EventData.create(Objects.requireNonNull(bytes)), test.toString());
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å°†ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥å°†å®¢æˆ·ç«¯æ³¨å…¥åˆ°æˆ‘ä»¬çš„æœåŠ¡ä¸­ï¼Œä»é‚£é‡Œæˆ‘å®šä¹‰äº†å°†ä½¿ç”¨å®¢æˆ·ç«¯å‘é€æ•°æ®çš„ *sendEvent* æ–¹æ³•ã€‚

ä¸ºäº†å‘ event hub å‘é€æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å°†æ¶ˆæ¯åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå°†å…¶åŒ…è£…åœ¨ EventData å¯¹è±¡ä¸­ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™å®¢æˆ·ç«¯çš„ *send* æ–¹æ³•ã€‚

### åˆ›å»ºæ•°æ®ç±»

å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªç®€å•çš„æ•°æ®ç±»ã€‚

```
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;

@Data
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class EventPayload implements Serializable {
    private String firstName;
    private String lastName;
    private String favoriteFood;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‚¨æ­£åœ¨ä¸º event hub å¤„ç†çš„æ•°æ®éœ€è¦æ˜¯*å¯åºåˆ—åŒ–çš„*ï¼Œå› æ­¤è¯·ç¡®ä¿åœ¨æ‚¨æ­£åœ¨å¤„ç†çš„æ•°æ®ç±»ä¸Šå®ç°*å¯åºåˆ—åŒ–çš„*ï¼Œå¦åˆ™æ‚¨å°†å¾—åˆ°ä¸€æ¡*Java . lang . illegalargumentexception:æœªèƒ½ååºåˆ—åŒ–å¯¹è±¡*çš„æ¶ˆæ¯ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªç«¯ç‚¹æ¥å‘å¸ƒæˆ‘ä»¬çš„æ•°æ®ã€‚

### æ„å»ºä¸€ä¸ªç«¯ç‚¹

```
import com.dublin.eventhub.demo.model.EventPayload;
import com.dublin.eventhub.demo.service.EventHubService;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

@RestController
public class Controller {

    private final EventHubService eventHubService;
    private Logger log = LoggerFactory.getLogger(Controller.class);

    @Autowired
    public Controller(EventHubService eventHubService) {
        this.eventHubService = eventHubService;
    }

    @PostMapping(path = "/eventhub/send")
    public ResponseEntity sendEvent(@RequestBody EventPayload payload) {
        try {
            log.info("Eventhub send endpoint called, sending {} to event hub..", payload.toString());
            eventHubService.sendEvent(payload);
        } catch (Exception e) {
            log.error("An error arose sending a message to event hub: " + e);
            return new ResponseEntity<Exception>(HttpStatus.INTERNAL_SERVER_ERROR);
        }
        return new ResponseEntity(HttpStatus.OK);
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘å·²ç»åˆ›å»ºäº† POST æ–¹æ³•â€œ/eventhub/send â€,å¹¶å°†è¯·æ±‚ä½“å®šä¹‰ä¸ºæˆ‘ä»¬çš„æ•°æ®ç±»ã€‚ä»é‚£é‡Œï¼Œå®ƒåªæ˜¯å‘é€åˆ°æœåŠ¡ã€‚

ä¸€æ—¦æˆ‘ä»¬æŠŠæ‰€æœ‰è¿™äº›éƒ½è¿æ¥èµ·æ¥ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿè¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œå¹¶çœ‹åˆ°å®ƒæˆåŠŸåœ°è¿æ¥åˆ°äº‹ä»¶ä¸­å¿ƒã€‚

```
2019-09-24 13:42:21.670  INFO 16113 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.24]
2019-09-24 13:42:21.734  INFO 16113 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-09-24 13:42:21.734  INFO 16113 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1063 ms
2019-09-24 13:42:21.983  INFO 16113 --- [pool-1-thread-1] c.m.a.eventhubs.impl.MessagingFactory    : messagingFactory[MF_41d4fd_1569350541964], hostName[dublin-rest-demo.servicebus.windows.net], info[starting reactor instance.]
2019-09-24 13:42:21.999  INFO 16113 --- [pool-1-thread-1] c.m.azure.eventhubs.impl.ReactorHandler  : name[MF_41d4fd_1569350541964] reactor.onReactorInit
2019-09-24 13:42:22.002  INFO 16113 --- [pool-1-thread-1] c.m.a.eventhubs.impl.ConnectionHandler   : onConnectionInit hostname[dublin-rest-demo.servicebus.windows.net], connectionId[MF_41d4fd_1569350541964]
2019-09-24 13:42:22.003  INFO 16113 --- [pool-1-thread-1] c.m.a.eventhubs.impl.ConnectionHandler   : onConnectionLocalOpen hostname[dublin-rest-demo.servicebus.windows.net:5671], connectionId[MF_41d4fd_1569350541964], errorCondition[null], errorDescription[null]
2019-09-24 13:42:22.101  INFO 16113 --- [pool-1-thread-1] c.m.a.eventhubs.impl.ConnectionHandler   : onConnectionBound hostname[dublin-rest-demo.servicebus.windows.net], connectionId[MF_41d4fd_1569350541964]
2019-09-24 13:42:23.157  INFO 16113 --- [pool-1-thread-4] c.m.a.eventhubs.impl.ConnectionHandler   : onConnectionRemoteOpen hostname[dublin-rest-demo.servicebus.windows.net:5671], connectionId[MF_41d4fd_1569350541964], remoteContainer[100db877ccad41b1a689c5a458bf1fbc_G6]
2019-09-24 13:42:23.268  INFO 16113 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-09-24 13:42:23.449  INFO 16113 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-24 13:42:23.491  INFO 16113 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-09-24 13:42:23.495  INFO 16113 --- [           main] com.dublin.eventhub.demo.Application     : Started Application in 3.126 seconds (JVM running for 3.493) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬éƒ½è®¾ç½®å¥½äº†ï¼Œè®©æˆ‘ä»¬å‘é€ä¸€äº›æ•°æ®ç»™å®ƒã€‚æ‰“å¼€æ‚¨æœ€å–œæ¬¢çš„ HTTP å®¢æˆ·ç«¯ï¼Œå‘å®ƒå‘é€ä¸€äº›æ•°æ®ã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ç”¨çš„æ˜¯[å¤±çœ ](https://insomnia.rest/)ã€‚

[![Insomnia Client POST](img/4f2b2fe84896841595f5fa90bd3c496e.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--8Yq7tnYw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ra9t47jq2cef7ljz04ah.png)

åœ¨æ—¥å¿—ä¸­ï¼Œæˆ‘åº”è¯¥çœ‹åˆ°æ¶ˆæ¯è¢«æˆåŠŸå‘é€åˆ°äº‹ä»¶ä¸­å¿ƒï¼

```
2019-09-24 13:43:25.806  INFO 16113 --- [nio-8080-exec-1] c.d.eventhub.demo.controller.Controller  : Eventhub send endpoint called, sending EventPayload(firstName=Johnny, lastName=Carson, email=null, favoriteFood=Potatoes and Molasses) to event hub..
2019-09-24 13:43:25.808  INFO 16113 --- [nio-8080-exec-1] c.d.eventhub.demo.controller.Controller  : Sending message to the event hub event-hub-test 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬åšåˆ°äº†ï¼Œæˆ‘ä»¬æ­£åœ¨åºåˆ—åŒ–å’Œå‘é€æ•°æ®åˆ°äº‹ä»¶ä¸­å¿ƒã€‚ğŸ˜

## é‡è¿°

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»‹ç»äº†å¦‚ä½•åœ¨ Azure ä¸­åˆ›å»ºä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒï¼Œè®¾ç½®ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒå®¢æˆ·ç«¯å’ŒæœåŠ¡ï¼Œä»¥åŠä¸€ä¸ªå‘å…¶å‘é€æ•°æ®çš„ç«¯ç‚¹ã€‚åœ¨ç¬¬äºŒéƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†ä»‹ç»[æ¶ˆè´¹äº‹ä»¶](https://dev.to/danondso/getting-eventful-with-azure-event-hubs-part-two-10ji)ã€‚

å¸Œæœ›è¿™ä¸ªæŒ‡å—æœ‰æ‰€å¸®åŠ©ï¼Œåœ¨è¯„è®ºé‡Œè®©æˆ‘çŸ¥é“ä½ çš„æƒ³æ³•ã€‚