# ES6 åŸºç¡€:Varã€Let å’Œ Const ä¹‹é—´çš„åŒºåˆ«

> åŸæ–‡:[https://dev . to/travissanon/es6-basics-the-difference-var-let-and-const-4a5e](https://dev.to/travissanon/es6-basics-the-difference-between-var-let-and-const-4a5e)

## [](#the-differences)å·®å¼‚

**`var`**-***ã€varã€‘**çš„ä½œç”¨èŒƒå›´ä»…é™äºå…¶å®šä¹‰çš„â€œå‡½æ•°â€ã€‚å¦‚æœå®ƒæ˜¯åœ¨ä»»ä½•å‡½æ•°ä¹‹å¤–å®šä¹‰çš„ï¼Œé‚£ä¹ˆå˜é‡çš„èŒƒå›´å°±æ˜¯å…¨å±€èŒƒå›´ã€‚*

*   **è¯æ³•èŒƒå›´:**åŠŸèƒ½
*   å¯ä»¥é‡æ–°åˆ†é…
*   **åˆå§‹åŒ–:** `undefined`

**`let`**-***ã€è®©ã€‘**çš„èŒƒå›´ä»…é™äºèŠ±æ‹¬å·å®šä¹‰çš„â€œå—â€ã€‚*

*   **è¯æ³•èŒƒå›´:**å—
*   å¯ä»¥é‡æ–°åˆ†é…
*   **åˆå§‹åŒ–:**æ— 

**`const`**-***ã€å¸¸æ•°ã€‘**çš„èŒƒå›´ä¸**ã€è®©ã€‘**ç›¸åŒã€‚æ­¤å¤–ï¼Œç”¨ const å®šä¹‰çš„å˜é‡ä¸èƒ½é‡æ–°èµ‹å€¼ã€‚*

*   **è¯æ³•èŒƒå›´:**å—
*   ä¸èƒ½é‡æ–°èµ‹å€¼(***ä¼šä¸ä¼šå˜å¼‚*****)**
***   **åˆå§‹åŒ–:**æ— **

 **## [](#variable-declarations)å˜é‡å£°æ˜

æ‚¨å¯ä»¥æœ‰æ„åœ¨ç‰¹å®šèŒƒå›´å†…å£°æ˜å˜é‡ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨**å…¨çƒèŒƒå›´å†…** :
è¿›è¡Œ

```
var x
console.log(x) // undefined

// (When a `var` gets declared without a value, it defaults to `undefined`) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å¯ä»¥åœ¨**åŠŸèƒ½èŒƒå›´** :
å†…è¿›è¡Œ

```
function marco() {
  var x
  console.log(x)
}

marco() // undefined 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è€Œä¸”æˆ‘ä»¬å¯ä»¥åœ¨**å—èŒƒå›´** :
å†…åš

```
function marco() {
  if (true) {
    var x
    console.log(x)
  }
}

marco() // undefined 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæˆ‘ä»¬åœ¨å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸä¸­éƒ½å£°æ˜äº†`var x`,ä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚

```
var x = "outside"

function marco() {
  var x = "inside"
  console.log(x) // "inside"
}

marco()
console.log(x) // "outside" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠå‡½æ•°å†…éƒ¨çš„`var x`å£°æ˜æ”¹æˆäº†é‡æ–°èµ‹å€¼å‘¢ï¼Ÿ

```
var x = "outside"

function marco() {
  x = "inside"
  console.log(x) // "inside"
}

marco()
console.log(x) // "inside" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å“å‘€ã€‚

å¦‚æœæˆ‘ä»¬ä»å†…éƒ¨å˜é‡ä¸­ç§»é™¤`var`ï¼Œå‡½æ•°å¤–éƒ¨çš„`var x`å°†è¢«å‡½æ•°å†…éƒ¨çš„é‡æ–°èµ‹å€¼æ‰€è¦†ç›–ã€‚æˆ‘ä»¬éœ€è¦æŒ‡å®š`x`çš„ä½œç”¨åŸŸåº”è¯¥åªåœ¨å‡½æ•°`marco()`ä¸­ï¼Œå¦åˆ™å°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚

## [](#function-scope)åŠŸèƒ½èŒƒå›´

åœ¨ JavaScript ä¸­ï¼Œé€šè¿‡åœ¨å‡½æ•°ä¸­å®šä¹‰å˜é‡æ¥é™åˆ¶å˜é‡çš„èŒƒå›´ã€‚è¿™å«åš**å‡½æ•°ä½œç”¨åŸŸ**ã€‚

```
function marco() {
  var text = "it works"
  console.log(text) // "it works"
}

marco()
console.log(text) // nothing ğŸ¤·â€â™€ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å› ä¸º`var`æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œæ‰€ä»¥å½“å®ƒåœ¨å‡½æ•°ä¸­æ—¶ï¼Œå®ƒåªè€ƒè™‘å®ƒçš„ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œè¿™æ„å‘³ç€ä¸‹é¢çš„ä¹Ÿå°†å·¥ä½œ:

```
function marco() {
  var text = "it works"
  if (true) {
    var text = "no it doesn't"
  }
  console.log(text) // no it doesn't
}

marco() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é‚£ä¸å¥½ã€‚

æˆ‘åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ª`if`è¯­å¥ï¼Œæ·»åŠ äº†ä¸€ä¸ªä¸å‰ä¸€ä¸ªåŒåçš„`var`,å¹¶æ„å¤–åœ°é‡æ–°åˆ†é…äº†å®ƒçš„å€¼ã€‚ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ä¸åŒçš„å˜é‡åï¼Œä½†æ˜¯è®©æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ¥å®Œå…¨é¿å…è¿™ç§æƒ…å†µã€‚

## [](#block-scope)å°é”èŒƒå›´

ä¸ **var** ä¸åŒï¼Œ **let** & **const** éƒ½æ˜¯å—ä½œç”¨åŸŸã€‚

è¿™æ„å‘³ç€åªè¦å˜é‡æ˜¯åœ¨ä¸€ç»„èŠ±æ‹¬å·å†…åˆ›å»ºçš„ï¼Œå®ƒçš„ä½œç”¨åŸŸå°±ä¼šè¢«é™åˆ¶åœ¨è¿™äº›èŠ±æ‹¬å·å†…çš„ä»£ç å—å†…ã€‚è¿™é€‚ç”¨äºå‡½æ•°ã€for å¾ªç¯ã€if è¯­å¥ã€switch è¯­å¥ç­‰ã€‚

```
function marco() {
  let text = "it works"
  if (true) {
    let text = "let is neat!"
    console.log(text) // let is neat!
  }
  console.log(text) // it works
}

marco() 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å˜¿ï¼Œé‚£å¾ˆå¥½ã€‚æˆ‘ä»¬å¯ä»¥æ¯«æ— é—®é¢˜åœ°åœ¨ä¸€ä¸ªå‡½æ•°å—ä¸­åˆ›å»ºå¤šä¸ªå˜é‡ã€‚æ²¡æœ‰æ„å¤–çš„é‡æ–°åˆ†é…ï¼Œæ²¡æœ‰æ··ä¹±ã€‚ä¸è¿‡ï¼Œæ‚¨ä»ç„¶åº”è¯¥ç»ƒä¹ æ­£ç¡®çš„å‘½åçº¦å®šã€‚å¦‚æœä¸¤ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªå‡½æ•°èŒƒå›´å†…ï¼Œå°½é‡ä¸è¦ç”¨åŒä¸€ä¸ªåå­—å‘½åå®ƒä»¬ã€‚

## [](#thou-shall-not-reassign)ä¸å¾—è½¬ä»»

**const** ä¼š**ä¸ä¼š**è®©ä½ é‡æ–°èµ‹å€¼å˜é‡ã€‚

```
const marco = "polo"

marco = "solo" // Hey, thats illegal 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°½ç®¡å®ƒä¸æ˜¯å®Œå…¨ä¸å¯æ”¹å˜çš„ã€‚ä½ **å¯ä»¥æ”¹å˜ç”¨`const`å£°æ˜çš„**å˜é‡ã€‚

### [](#array-mutation)é˜µåˆ—çªå˜

```
const arr = [1]

arr.push(2)

console.log(arr) // [1, 2] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#object-mutation)ç‰©ä½“çªå˜

```
const obj = {
  saying: "marco",
}

obj.saying = "polo"

console.log(obj.saying) // polo 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#let-amp-const-hoisting)è®©&å¸¸é‡æå‡

ä¸‰ç±»å˜é‡ *(varï¼Œletï¼Œconst)* **å…¨éƒ¨**æå‡ã€‚*æå‡*æ„å‘³ç€åœ¨ä»£ç æ‰§è¡Œä¹‹å‰ï¼Œå˜é‡è¢«ç§»åŠ¨åˆ°å®ƒä»¬ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚

#### [](#note-all-variables-are-hoisted)æ³¨:æ‰€æœ‰å˜é‡[éƒ½è¢«â€œåŠèµ·â€](https://stackoverflow.com/questions/31219420/are-variables-declared-with-let-or-const-not-hoisted-in-es6)

ä¸åƒ`var`ï¼Œ`let`å’Œ`const`å£°æ˜æ˜¯**è€Œä¸æ˜¯**åˆå§‹åŒ–æˆä»»ä½•ä¸œè¥¿ã€‚

`var`è¢«åˆå§‹åŒ–ä¸º`undefined`ã€‚

```
console.log(a) // undefined
console.log(b) // Error: That's Illegal

var a = 0
let b = 0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯·æ³¨æ„ï¼Œæ—¥å¿—æ²¡æœ‰è¾“å‡ºæˆ‘ä»¬å£°æ˜çš„å˜é‡ä¸­çš„å†…å®¹ã€‚è§£é‡Šå™¨æ˜¯è¿™æ ·æ‰§è¡Œçš„:

```
var a
let b

console.log(a) // undefined
console.log(b) // Error: That's Illegal

a = 0
b = 0 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è§£é‡Šå™¨å°†å˜é‡å£°æ˜æå‡åˆ°äº†ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œä½†æ˜¯å˜é‡è¿˜æ²¡æœ‰è¢«åˆ†é…åˆ°`0`ç›´åˆ°è§£é‡Šå™¨åˆ°è¾¾é‚£ä¸ªç‚¹ã€‚

ä½¿ç”¨`let`å’Œ`const`å¾ˆå¥½ï¼Œå› ä¸ºå¦‚æœä½ åœ¨å£°æ˜å˜é‡ä¹‹å‰è°ƒç”¨å®ƒï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ¸…æ™°çš„`Uncaught ReferenceError: b is not defined`ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ— å£°çš„`undefined`ã€‚

ä¿æŒé¥¥é¥¿ï¼Œä¿æŒæ„šè ¢ğŸ™**