# åœ¨ Rails ä¸­ç”¨ attribute_method_suffix ä¸ºæ‰€æœ‰å±æ€§é™„åŠ ä¸€ä¸ªæ–¹æ³•

> åŸæ–‡:[https://dev . to/n 350071/append-a-method-to-all-attributes-with-attributemethodsuffix-in-rails-2 NGB](https://dev.to/n350071/append-a-method-to-all-attributes-with-attributemethodsuffix-in-rails-2ngb)

## [](#parent-note)ğŸ”—çˆ¶æ³¨é‡Š

[![n350071 image](img/c9dd0fa7ece3b4a6c3e55d373898cd1e.png)](/n350071) [## æˆ‘çš„ Rails ç¬”è®°

### n350071ğŸ‡¯ğŸ‡µ9 æœˆ 11 æ—¥ 193 åˆ†é’Ÿé˜…è¯»

#rails](/n350071/my-rails-note-47cj)

## [](#you-can-add-the-same-logic-method-to-each-attribute-by-write-once)ğŸ‘æ‚¨å¯ä»¥é€šè¿‡ä¸€æ¬¡ç¼–å†™å‘æ¯ä¸ªå±æ€§æ·»åŠ ç›¸åŒçš„é€»è¾‘æ–¹æ³•

```
class Person < ActiveRecord::Base
  attribute_method_suffix '_changed?'
  attribute_method_suffix '_short?'

  private
    def attribute_changed?(attr)
      ...
    end
    def attribute_short?(attr)
      send(attr).length < 10
    end
end

person = Person.find(1)
person.name_changed?    # => false
person.name = 'Hubert'
person.name_changed?    # => true
person.name_short?      # => true 
```

ğŸ“š[å±æ€§ _ æ–¹æ³• _ åç¼€](https://apidock.com/rails/ActiveRecord/AttributeMethods/ClassMethods/attribute_method_suffix)