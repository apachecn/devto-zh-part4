# Kentico 12:è®¾è®¡æ¨¡å¼ç¬¬ 5 éƒ¨åˆ†-å‰ç«¯ä¾èµ–ç®¡ç†

> åŸæ–‡ï¼š<https://dev.to/seangwright/kentico-12-design-patterns-part-5-front-end-dependency-management-5m0>

<figure>

[![](img/19a9a0ebc578065ba5a481389d7e24be.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--bNitp1zO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/f990qahf699vx8vcohri.jpg)

<figcaption>Photo by [chuttersnap](https://unsplash.com/@chuttersnap) on [Unsplash](https://unsplash.com)</figcaption>

</figure>

è‡ªä» Kentico CMS 12 å‘å¸ƒä»¥æ¥ï¼Œ[ASP.NET MVC æˆä¸ºåŸºäº Kentico æ„å»ºç½‘ç«™å’Œåº”ç”¨çš„æ¨èæ¡†æ¶](https://devnet.kentico.com/documentation/kentico-12-mvc)ï¼Œæˆ‘ä»¬æœ‰äº†å®ç°è®¸å¤šå¼€å‘ç›®æ ‡çš„æ–°æ–¹æ³•ã€‚

ä½œä¸ºã€‚NET å¼€å‘è€…ï¼Œæˆ‘ä»¬ä¼ ç»Ÿä¸Šé€šè¿‡ NuGet åŒ…ç®¡ç†æˆ‘ä»¬çš„åº“ä¾èµ–ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å“ªäº›æ–¹å¼æ¥ç®¡ç†æˆ‘ä»¬çš„å‰ç«¯ä¾èµ–å…³ç³»ï¼Ÿå¯ç”¨é€‰é¡¹çš„åˆ©å¼Šæ˜¯ä»€ä¹ˆï¼ŸğŸ¤”

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è®¨è®ºå¼€å‘äººå‘˜åœ¨æ„å»º Kentico 12 MVC ç«™ç‚¹æ—¶å¯ä»¥ä½¿ç”¨çš„ä¸¤ä¸ªä¸»è¦é€‰é¡¹ï¼Œå¹¶æè¿°ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸ºå…¶ä¸­ä¸€ä¸ªæ˜æ˜¾ä¼˜äºå¦ä¸€ä¸ªã€‚

## ä½¿ç”¨`System.Web.Optimization`

å½“åˆ›å»ºä¸€ä¸ªæ–°çš„ Kentico 12 MVC é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬åœ¨`App_Start`æ–‡ä»¶å¤¹ä¸­å¾—åˆ°å‡ ä¸ªé…ç½®ç±»ã€‚å…¶ä¸­ä¹‹ä¸€åœ¨`BundleConfig.cs`ä¸­ã€‚

è¿™ä¸ª`BundleConfig`ç±»å°†`ScriptBundle`å’Œ`StyleBundle`å®ä¾‹æ·»åŠ åˆ°ç”±`BundleTable.Bundles`æä¾›çš„`BundleCollection`ä¸­ã€‚

```
private static void RegisterJqueryBundle(BundleCollection bundles)
{
    var bundle = new ScriptBundle("~/bundles/jquery")
    {
        CdnPath = "https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js",
        CdnFallbackExpression = "window.jQuery"
    };

    bundle.Include("~/Scripts/jquery-{version}.js");

    bundles.Add(bundle);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åè¿™äº›åŒ…å¯ä»¥åœ¨è§†å›¾ä¸­è¢«å¼•ç”¨ï¼Œé€šå¸¸æ˜¯åœ¨`_Layout.cshtml`ä¸­ï¼Œé€šè¿‡ç”¨æ¥æ³¨å†Œå®ƒä»¬çš„æ ‡è¯†ç¬¦ã€‚

```
<body>
  <!-- begin content -->
  <div class="container">
    @RenderBody()
  </div>
  <!-- end content -->

  @Scripts.Render("~/bundles/jquery")
</body> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€æœ‰è¿™äº›ç±»å‹éƒ½å¯ä»¥åœ¨`System.Web.Optimization`åç§°ç©ºé—´ä¸­æ‰¾åˆ°ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ [GitHub](https://github.com/aspnet/AspNetWebOptimization/tree/master/src/System.Web.Optimization) ä¸Šæ‰¾åˆ°æºä»£ç ã€‚ğŸ¤“

> ä½ å¯ä»¥åœ¨[å¾®è½¯æ–‡æ¡£](https://docs.microsoft.com/en-us/aspnet/mvc/overview/performance/bundling-and-minification#using-bundling-and-minification-with-aspnet-mvc)ä¸­é˜…è¯»æ›´å¤šå…³äºå¦‚ä½•ä½¿ç”¨`BundleCollection`è¿›è¡Œæ†ç»‘å’Œç¼©å°çš„ä¿¡æ¯ã€‚

åœ¨ ASP.NETï¼Œ`System.Web.Optimization`å’Œ`BundleTable.Bundles`çš„ä¸»è¦ç›®æ ‡æ˜¯ç»™å¼€å‘è€…ä¸€ä¸ªæ†ç»‘å’Œç¼©å° JavaScript å’Œ CSS æ–‡ä»¶é›†çš„ç®€å•æ–¹æ³•ã€‚

è¿™äº›æ¡†æ¶ç‰¹æ€§ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†å¼€ç®±å³ç”¨ï¼Œâ€œåªéœ€å·¥ä½œâ€ã€‚ğŸ˜€

ç„¶è€Œï¼Œè¿™äº›å·¥å…·æ˜¯åœ¨ç®¡ç†å®¢æˆ·ç«¯ä¾èµ–å…³ç³»å›°éš¾çš„æ—¶å€™åˆ›å»ºçš„ï¼Œå½“æ—¶ç¤¾åŒºè¿˜æ²¡æœ‰å»ºç«‹ä¸€è‡´æ€§æˆ–æœ€ä½³å®è·µï¼Œå¹¶ä¸”è¢«ç®¡ç†çš„ä¾èµ–å…³ç³»è¦ç®€å•å¾—å¤šã€‚

## ä¸`System.Web.Optimization`çš„é—®é¢˜

æ‰€æœ‰è¿™äº›æ†ç»‘æŠ€æœ¯éƒ½è¢« ASP.NET æ ¸å¿ƒé‡æ–°åŒ…è£…æˆé›†æˆåˆ° Visual Studio ä¸­çš„æ–°å·¥å…·ï¼Œåä¸º [LibMan](https://devblogs.microsoft.com/aspnet/library-manager-client-side-content-manager-for-web-apps/) ã€‚

åœ¨ LibMan çš„æè¿°ä¸­æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„è§£é‡Šï¼Œå°†å®ƒ(å’Œ ASPã€‚NET çš„â€œæ†ç»‘â€æ–¹æ³•)çš„è§‚ç‚¹ï¼Œç»™å‡ºäº†æ‰€æœ‰å¯ç”¨äºæ„å»ºç°ä»£ web åº”ç”¨ç¨‹åºçš„å·¥å…·:

> å¦‚æœä½ ä¹äºä½¿ç”¨ npm/yarn/(æˆ–å…¶ä»–ä¸œè¥¿)ï¼Œæˆ‘ä»¬é¼“åŠ±ä½ ç»§ç»­è¿™æ ·åšã€‚LibMan ä¸æ˜¯ä½œä¸ºè¿™äº›å·¥å…·çš„æ›¿ä»£å“å¼€å‘çš„ã€‚

æ–‡æ¡£è¿˜æåˆ° LibMan æ˜¯ç®€å•çš„ç”¨ä¾‹ï¼Œä¸éœ€è¦é¢å¤–çš„å·¥å…·:

> å¦‚æœæ‚¨çš„é¡¹ç›®ä¸éœ€è¦é¢å¤–çš„å·¥å…·(å¦‚ Nodeã€npmã€Gulpã€Gruntã€WebPack ç­‰),è€Œæ‚¨åªæ˜¯æƒ³è·å¾—å‡ ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆ LibMan å¯èƒ½é€‚åˆæ‚¨ã€‚

ç”±äº ASP.NET è¯•å›¾ç®€åŒ–å®¢æˆ·ç«¯ä¾èµ–ç®¡ç†çš„æ–¹å¼ï¼Œå®ƒå¯¼è‡´äº†ä¸€äº›æˆ‘ä¸åŒæ„çš„è®¾è®¡æ¨¡å¼:

*   ğŸ‘ğŸ¼å°†å®¢æˆ·ç«¯ä¾èµ–è§†ä¸ºä¸€å°æ¡¶è„šæœ¬å’Œæ ·å¼
*   ğŸ‘ğŸ¼é€šè¿‡ä»äº’è”ç½‘æ‰‹åŠ¨ä¸‹è½½æ–‡ä»¶æ¥ç®¡ç†åº“ç‰ˆæœ¬
*   ğŸ‘ğŸ¼å°†åº“æäº¤åˆ°æºä»£ç æ§åˆ¶ä¸­ï¼Œå¹¶å°†å®ƒä»¬åŒ…å«åœ¨ ASP.NET é¡¹ç›®ä¸­(é€šå¸¸åœ¨`\Scripts`æˆ–`\Styles`æ–‡ä»¶å¤¹ä¸‹)
*   ğŸ‘ğŸ¼ä¸[æ ‘æ‘‡åŠ¨](https://en.wikipedia.org/wiki/Tree_shaking)å®¢æˆ·ç«¯ä¾èµ–
*   ğŸ‘ğŸ¼æ²¡æœ‰ä½¿ç”¨ç°ä»£çš„ CSS å·¥å…·( [Sass](https://sass-lang.com/) ã€ [PostCSS](https://postcss.org/) ã€ [stylelint](https://stylelint.io/) )
*   ğŸ‘ğŸ¼æ²¡æœ‰ä½¿ç”¨ç°ä»£çš„ JavaScript ç‰¹æ€§(transpilingã€ç”¨äºä¾èµ–ç®¡ç†çš„ es æ¨¡å—ã€ES2015+è¯­è¨€å¢å¼º)

2019 å¹´çš„ web å¼€å‘ä¸–ç•Œä¸ 2009 å¹´ ASP.NET MVC ç¬¬ä¸€æ¬¡å‡ºç°æ—¶æœ‰å¾ˆå¤§ä¸åŒâ€”â€”è®©æˆ‘ä»¬æ‹¥æŠ±æˆ‘ä»¬ç”Ÿæ´»çš„ä¸–ç•Œï¼ğŸ˜‰

> æœ‰[ä¸€äº›å¢å¼º ASP çš„å·¥å…·](https://www.codeproject.com/articles/842961/introducing-dynamic-bundles-for-asp-net-mvc)ã€‚NET çš„æ†ç»‘åŠŸèƒ½ï¼Œæä¾›ä¾èµ–ç®¡ç†ï¼Œä»¥åŠæ›´å¤šçš„åŸºäºç‰¹æ€§æ–‡ä»¶å¤¹çš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä»¬ä¸èƒ½è§£å†³æˆ‘ä¸Šé¢æåˆ°çš„æ‰€æœ‰é—®é¢˜ã€‚

## ä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·

é‚£ä¹ˆï¼Œæˆ‘ä»¬å°†ç”¨ä»€ä¹ˆæ¥ä»£æ›¿`System.Web.Optimization`ï¼Ÿ

æˆ‘è®¤ä¸ºæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ç°ä»£çš„å®¢æˆ·ç«¯å¼€å‘å·¥å…·æ¥ç®¡ç†æˆ‘ä»¬çš„å®¢æˆ·ç«¯ä¾èµ–æ€§ã€‚

*   ç”¨äºåŒ…å’Œç‰ˆæœ¬ç®¡ç†çš„âœ… npm
*   âœ…Â·è¨æ–¯åˆ›å»ºäº†æˆ‘ä»¬çš„æ ·å¼è¡¨
*   ç”¨äºæ†ç»‘å’Œç¼©å°çš„âœ… Webpackã€GulpJsã€ParcelJs æˆ– SPA CLI
*   âœ… VS ä»£ç çš„æœ€ä½³ç¼–è¾‘å™¨+å·¥å…·ä½“éªŒ

### è¦æ±‚

æˆ‘ä»¬éœ€è¦å®‰è£…ä»¥ä¸‹å·¥å…·ï¼Œä»¥è·å¾—æœ€ä½³çš„å®¢æˆ·ç«¯å¼€å‘ä½“éªŒ:

*   [èŠ‚ç‚¹ j](https://nodejs.org/en/download/)
*   [VS ä»£ç ](https://code.visualstudio.com/)

> å®‰è£…å’Œä½¿ç”¨ VS ä»£ç çš„åŸå› å°†åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ›´åŠ æ¸…æ™°

### ç§»é™¤`System.Web.Optimization`

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ é™¤æ‰€æœ‰ç°æœ‰çš„æ†ç»‘ä»£ç ã€‚ğŸ”«ğŸ¤ ğŸ’£

åˆ é™¤`App_Start\BundleConfig.cs`å’Œ`Global.asax.cs`ä¸­å¯¹å®ƒçš„å¼•ç”¨ã€‚

æ¥ä¸‹æ¥ï¼Œåˆ é™¤å¯¹`Shared\_Layout.cshtml`ä¸­`@Scripts.Render()`å’Œ`@Styles.Render()`çš„è°ƒç”¨ã€‚

æˆ‘ä»¬è¿˜å°†åˆ é™¤`\Scripts`å’Œ`\Styles`ç›®å½•ï¼Œå› ä¸ºæˆ‘ä»¬æ‰€æœ‰çš„å®¢æˆ·ç«¯åº“å°†ç”±`npm`ç®¡ç†ï¼Œæˆ‘ä»¬çš„ CSS æ–‡ä»¶å°†ä»æˆ‘ä»¬çš„ Sass æ–‡ä»¶ç”Ÿæˆã€‚

### ä½¿ç”¨ npm

é¦–å…ˆï¼Œæ‰“å¼€ç»ˆç«¯å¹¶å¯¼èˆªåˆ° MVC é¡¹ç›®ç›®å½•ã€‚

å‡è®¾æ‚¨å®‰è£…äº† VS Codeï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿé€šè¿‡é”®å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ‰“å¼€æ‚¨å½“å‰çš„æ–‡ä»¶å¤¹:

```
code . 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ¥ä¸‹æ¥ï¼Œç”¨`npm` CLI åˆå§‹åŒ–é¡¹ç›®ï¼Œå¹¶æ¥å—æ‰€æœ‰é»˜è®¤è®¾ç½®(æ‚¨å¯ä»¥ç¨åæ›´æ”¹):

```
npm init -y 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œå¼€å§‹ä¸ºæ‚¨æƒ³è¦ä½¿ç”¨çš„åº“å®‰è£…è½¯ä»¶åŒ…ï¼åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†å®‰è£…`jquery` :

```
npm install jquery 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> æˆ‘ä»¬å¸Œæœ›ç¡®ä¿ä» npm å®‰è£…çš„åº“ä¸ä¼šè¢«æäº¤åˆ°æºä»£ç æ§åˆ¶ã€‚npm å°†å…¶æ‰€æœ‰çš„åŒ…å­˜å‚¨åœ¨ä¸€ä¸ª`\node_modules`æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹åº”è¯¥è¢«æ·»åŠ åˆ°æˆ‘ä»¬çš„`.gitignore`æ–‡ä»¶ä¸­ã€‚

### åˆ›å»ºå®¢æˆ·ç«¯ä»£ç 

ä¸ºäº†åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`jQuery`,æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€äº›ç°ä»£çš„ JavaScript å¹¶ä½¿ç”¨å®ƒã€‚ğŸ˜

åˆ›å»ºä¸€ä¸ª`\src`æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°†åœ¨è¿™é‡Œä¿å­˜å®¢æˆ·ç«¯æºæ–‡ä»¶çš„å…¥å£ç‚¹ã€‚

> åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œä½ å°†çœ‹åˆ°æˆ‘ä»¬å¦‚ä½•é‡‡ç”¨åŸºäºâ€œç‰¹æ€§æ–‡ä»¶å¤¹â€çš„æ–¹æ³•è¿›è¡Œå®¢æˆ·ç«¯å¼€å‘ã€‚

æˆ‘ä»¬å°†åˆ›å»ºçš„ç¬¬ä¸€ä¸ªæ–‡ä»¶`\src\styles.scss`ï¼Œå°†æ˜¯æˆ‘ä»¬æ‰€æœ‰ [Sass](https://sass-lang.com/) ä»£ç çš„å…¥å£ç‚¹ã€‚è¡¥å……ä»¥ä¸‹(ä¸æ˜¯å¾ˆæƒŠè‰³)å†…å®¹:

```
// Yup, we're using Kentico's theme!
$background-color: #f14b00;

body {
    background-color: $background-color;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œç”¨ä»¥ä¸‹å†…å®¹åˆ›å»ºã€T0:ã€‘T1

```
/*
 * We use this non-standard import 
 * to ensure our Sass is part of the build process
 */
import './styles.scss'; 

import $ from 'jquery';

const PIE = 'ğŸ°';

$(() => console.log(`Document loaded! It's easy as ${PIE}`)); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> è¦äº†è§£æ›´å¤šå…³äº`import`ã€`const`ã€`() =>`å’Œ`${}`çš„å«ä¹‰ï¼Œç½‘ä¸Šæœ‰è®¸å¤šç²¾å½©çš„å…è´¹èµ„æºï¼Œå¦‚é˜¿å…‹å¡å°”Â·åŠ³æ–½è¿ˆå°”åšå£«çš„[æ¢ç´¢ ES6](https://exploringjs.com/es6/index.html)ã€[ä»å·´åˆ«å¡”](https://babeljs.io/docs/en/learn/)å­¦ä¹  ES2015ï¼Œä»¥åŠ[ä» Egghead](https://egghead.io/courses/learn-es6-ecmascript-2015) å­¦ä¹  ES6

### ParcelJs

å¦‚æœæˆ‘ä»¬ä½¿ç”¨åƒ [ParcelJs](https://parceljs.org/getting_started.html) è¿™æ ·çš„å·¥å…·è¿›è¡Œæ„å»ºå’Œæ†ç»‘ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸å¿«é€Ÿåœ°è¿è¡Œï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬å¯ä»¥åœ¨å¤šå¤§ç¨‹åº¦ä¸Šä¸ºå®¢æˆ·ç«¯ä¾èµ–æ€§å®šåˆ¶æˆ‘ä»¬çš„æ„å»ºç®¡é“æœ‰æ‰€é™åˆ¶ã€‚

> ParcelJs æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹å·¥å…·ï¼Œæˆ‘ä»¬å°†åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ¢ç´¢å…¶ä»–é€‰é¡¹ã€‚

è¦ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… ParcelJs ä½œä¸ºå¼€å‘ä¾èµ–é¡¹(ä½¿ç”¨`-D`é€‰é¡¹):

```
npm i parcel-bundler -D 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰å°†ä¸ä½¿ç”¨ ParcelJs çš„ npm ä¸€èµ·è¿è¡Œçš„å‘½ä»¤ï¼Œå› æ­¤å°†æ‚¨çš„`package.json`ä¸­çš„`scripts`å—æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹:

```
 "scripts":  {  "start":  "parcel watch src/app.js",  "dev":  "parcel build src/app.js --no-minify",  "prod":  "parcel build src/app.js"  }, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¿è¡Œ`npm start`æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ JavaScript å’Œ Sass è¢«ç¼–è¯‘åˆ°ä¸€ä¸ª`\dist`ç›®å½•ä¸­ï¼Œsourcemaps æœ‰åŠ©äºåœ¨æµè§ˆå™¨å¼€å‘å·¥å…·ä¸­è¿›è¡Œè°ƒè¯•ã€‚ğŸ‘

ParcelJs å°†ç»§ç»­å…³æ³¨æºæ–‡ä»¶çš„å˜åŒ–ï¼Œå¹¶åœ¨æˆ‘ä»¬ä¿å­˜è¿™äº›å˜åŒ–æ—¶è‡ªåŠ¨ç”Ÿæˆæ–°çš„è¾“å‡ºã€‚ğŸ˜

> è¦åœæ­¢è¿™ç§â€œè§‚å¯Ÿâ€æ¨¡å¼ï¼Œè¯·é”®å…¥`ctrl+c`

è¿è¡Œ`npm run dev`å°†åˆ›å»ºä¸`npm start`ç›¸åŒçš„æ–‡ä»¶ï¼Œä½†æ˜¯ä¸€æ—¦ç¼–è¯‘å®Œæˆï¼Œè¯¥å‘½ä»¤å°†é€€å‡ºã€‚

å¦‚æœæˆ‘ä»¬è¿è¡Œ`npm run prod`ï¼Œæˆ‘ä»¬å°†äº§ç”Ÿä¸€ä¸ªâ€œç”Ÿäº§â€å°±ç»ªçš„ä»£ç ç‰ˆæœ¬ã€‚

> å¯¹äºä»»ä½•å®¢æˆ·ç«¯çš„æ„å»ºè¿‡ç¨‹ï¼Œæˆ‘ä»¬æœ€ç»ˆéƒ½ä¼šå¾—åˆ°â€œç¼–è¯‘çš„â€/â€œä¼ è¾“çš„â€è¾“å‡ºï¼Œè¿™æ˜¯æˆ‘ä»¬**ä¸æƒ³**æäº¤ç»™æºä»£ç æ§åˆ¶çš„ã€‚è¿™äº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åº”è¯¥æ·»åŠ åˆ°æˆ‘ä»¬çš„`.gitignore`æ–‡ä»¶ä¸­ã€‚

### ä½¿ç”¨å®¢æˆ·ç«¯æ„å»ºè¾“å‡º

ä¸ºäº†ä½¿ç”¨è¿™ä¸ªæ„å»ºè¾“å‡ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„`Shared\_Layout.cshtml`ä¸­æ·»åŠ å¯¹å®ƒçš„å¼•ç”¨ã€‚

ä¹‹å‰æˆ‘ä»¬å¼•ç”¨äº†`jquery`å’Œ CSS åŒ…ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¼•ç”¨ ParcelJs æ„å»ºçš„è¾“å‡º:

```
<head>
  <!-- various meta -->
  <link href="/dist/app.css" rel="stylesheet" />
</head>
<body>
  <!-- body content -->
  <script src="/dist/app.js"></script>
</body> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ç«¯åˆ°ç«¯æ„å»ºåè°ƒ

ä¸ºäº†ç¡®ä¿åœ¨ Visual Studio ä¸­æ„å»º ASP.NET é¡¹ç›®æ—¶åˆ›å»ºå®¢æˆ·ç«¯èµ„äº§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ MVC é¡¹ç›®çš„`.csproj`æ–‡ä»¶ä¸­ä½¿ç”¨ MSBuild é…ç½®ã€‚

æˆ‘ä»¬éœ€è¦å®ƒæ¥æ‰§è¡Œä»¥ä¸‹æ­¥éª¤:

*   âœ…å®‰è£… npm è½¯ä»¶åŒ…
*   âœ…æ ¹æ®æ„å»ºè¿è¡Œæ­£ç¡®çš„ npm å‘½ä»¤(è°ƒè¯•/å‘å¸ƒ)
*   âœ…ä»¥æ­£å¸¸ç»“æŸã€‚å‡€æ„å»º

> åœ¨ StackOverflow ä¸Šæœ‰ä¸€ä¸ªèªæ˜çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒä½¿ç”¨æ–‡ä»¶ä¿®æ”¹æ—¥æœŸæ¥ç¡®ä¿å¦‚æœæˆ‘ä»¬å·²ç»å®‰è£…äº†æ‰€æœ‰çš„ä¸œè¥¿ï¼Œå°±ä¸è¦å®‰è£…è½¯ä»¶åŒ…ã€‚ğŸ¤¯

æ·»åŠ åˆ°æˆ‘ä»¬çš„`.csproj`ä¸­çš„ä»¥ä¸‹ MSBuild XML å°†æœåŠ¡äºæˆ‘ä»¬çš„ç›®çš„:

```
<PropertyGroup>
    <!-- File with mtime of last successful npm install -->
    <NpmInstallStampFile>node_modules/.install-stamp</NpmInstallStampFile>
</PropertyGroup>
<ItemGroup>
    <JSFile Include="src\**\*.js" />
    <SCSSFile Include="src\**\*.scss" />
</ItemGroup>
<PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <NpmCommand>npm run dev</NpmCommand>
    <NpmOutput>dist\app.js</NpmOutput>
</PropertyGroup>
<PropertyGroup Condition=" '$(Configuration)|$(Platform)' != 'Debug|AnyCPU' ">
    <NpmCommand>npm run prod</NpmCommand>
    <NpmOutput>dist\app.js</NpmOutput>
</PropertyGroup>
<Target Name="NpmInstall" 
    BeforeTargets="NpmBuildClientAssets" 
    Inputs="package.json"
    Outputs="$(NpmInstallStampFile)">
    <Exec Command="npm install" />
    <Touch Files="$(NpmInstallStampFile)" AlwaysCreate="true" />
</Target>
<Target Name="NpmBuildClientAssets"
    BeforeTargets="BeforeBuild" 
    Inputs="@(JSFile);@(SCSSFile)"
    Outputs="$(NpmOutput)">
    <Exec Command="$(NpmCommand)" />
</Target> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> åœ¨ VS ä»£ç ä¸­æ‰“å¼€é¡¹ç›®çš„ä¸€ä¸ªå¥½å¤„æ˜¯ç¼–è¾‘`.csproj`æ–‡ä»¶è¦å®¹æ˜“å¾—å¤šğŸ˜

ç°åœ¨ï¼Œå½“æˆ‘ä»¬åœ¨ Visual Studio ä¸­æ„å»ºæˆ‘ä»¬çš„é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬ä¿è¯åœ¨ç«™ç‚¹å¼€å§‹è¿è¡Œä¹‹å‰ï¼Œå®¢æˆ·ç«¯æ„å»ºèµ„äº§å°±åœ¨`\dist`ç›®å½•ä¸­ã€‚ğŸ‘ğŸ½

## é‚£ä¹ˆæˆ‘ä»¬å®Œæˆäº†ä»€ä¹ˆï¼Ÿ

åœ¨æˆ‘ä»¬å±•æœ›æˆ‘ä»¬å°†ä½•å»ä½•ä»ä¹‹å‰ï¼Œè®©æˆ‘ä»¬è®°ä½æˆ‘ä»¬åœ¨å“ªé‡Œï¼

æˆ‘ä»¬æ„è¯†åˆ°ï¼Œè™½ç„¶ ASP.NET åœ¨`System.Web.Optimization`ä¸­æä¾›ç»™æˆ‘ä»¬çš„ç±»åœ¨åˆšå‡ºç°æ—¶æœ‰å¾ˆå¥½çš„ API å’Œå·¥å…·ï¼Œä½† web å’Œå‰ç«¯å¼€å‘å·²ç»å‘ç”Ÿäº†æ˜¾è‘—çš„å˜åŒ–ã€‚ğŸ¤”

æœ‰ä¸€äº›æˆ‘ä»¬æƒ³è¦é¿å…çš„è½¯ä»¶å¼€å‘æ¨¡å¼ï¼Œæ¯”å¦‚å°†åº“æäº¤ç»™æºä»£ç æ§åˆ¶ï¼Œè¿™æ˜¯æ—§æ–¹æ³•æ‰€é¼“åŠ±çš„ã€‚ğŸ˜

ä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·è¿›è¡Œå®¢æˆ·ç«¯å¼€å‘å®é™…ä¸Šæ•ˆæœå¾ˆå¥½ï¼ğŸ˜„

æˆ‘ä»¬è¿˜å¯ä»¥å°†å®¢æˆ·ç«¯å¼€å‘è¿‡ç¨‹é›†æˆåˆ°æˆ‘ä»¬çš„ã€‚NET å¼€å‘è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªä¼Ÿå¤§çš„ç«¯åˆ°ç«¯çš„è§£å†³æ–¹æ¡ˆã€‚ğŸ’ª

## æ¥ä¸‹æ¥æ˜¯ä»€ä¹ˆï¼Ÿ

ç°åœ¨æˆ‘ä»¬å·²ç»è®¾ç½®äº†åŸºç¡€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æ¢ç´¢æ‰€æœ‰å¯ä»¥æ”¹å–„æˆ‘ä»¬å¼€å‘ä½“éªŒçš„å‡ºè‰²çš„å‰ç«¯å·¥å…·å’Œåº“ã€‚

åœ¨æˆ‘çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è®¨è®ºè¿™äº›å·¥å…·å’Œåº“ï¼Œå¦‚ä½•å°†å®ƒä»¬é›†æˆåˆ° VS ä»£ç ä¸­ï¼Œä»¥åŠâ€œæœ€ä½³å®è·µâ€å¯èƒ½æ˜¯ä»€ä¹ˆæ ·å­ã€‚ğŸ˜®

* * *

å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾æ›´å¤šçš„ Kentico å†…å®¹ï¼Œè¯·åœ¨ DEV:

## # [è‚¯è’‚ç§‘](https://dev.to/t/kentico) <button name="button" type="button" data-info="{&quot;className&quot;:&quot;Tag&quot;,&quot;style&quot;:&quot;full&quot;,&quot;id&quot;:5339,&quot;name&quot;:&quot;kentico&quot;}" class="crayons-btn follow-action-button whitespace-nowrap c-btn--secondary fs-base " aria-label="Follow tag: kentico" aria-pressed="false">è·Ÿéš</button>

æˆ–è€…æˆ‘çš„ [Kentico 12:è®¾è®¡æ¨¡å¼](https://dev.to/search?q=Kentico%2012%20-%20Design%20Patterns)ç³»åˆ—ã€‚