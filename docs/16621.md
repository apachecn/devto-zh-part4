# ç†è§£ JavaScript é»˜è®¤å‚æ•°â€”â€”æŠ½è±¡èƒŒå

> åŸæ–‡ï¼š<https://dev.to/dutiyesh/understanding-javascript-default-parameters-behind-the-abstraction-1g1n>

MDN å°†é»˜è®¤å‚æ•°æè¿°ä¸º:
*é»˜è®¤å‡½æ•°å‚æ•°å…è®¸**å‘½åçš„å‚æ•°**åœ¨æ²¡æœ‰ä¼ å€¼æˆ–æœªå®šä¹‰çš„æƒ…å†µä¸‹ç”¨**é»˜è®¤å€¼**åˆå§‹åŒ–ã€‚*ğŸ˜•

å®šä¹‰å¯ä»¥é‡æ–°è¡¨è¿°ä¸º:
å¦‚æœæ²¡æœ‰å€¼æˆ–`undefined`è¢«ä¼ é€’ç»™**å‚æ•°**ï¼Œåˆ™ä½¿ç”¨**é»˜è®¤å€¼**ã€‚ğŸ˜Œ

åœ¨æ„å»ºå®šåˆ¶é»˜è®¤å‚æ•°ä¹‹å‰ï¼Œè®©æˆ‘ä»¬ç†Ÿæ‚‰ä¸€ä¸‹å®šä¹‰ä¸­æåˆ°çš„ä¸€äº›æœ¯è¯­ã€‚

## å‚æ•°

å‚æ•°æ˜¯è°ƒç”¨å‡½æ•°æ—¶ä¼ é€’çš„å‚æ•°çš„åç§°ã€‚

```
function greeting(username) {
  return `Hi ${username}!`;
}

greeting('Bruce'); // Hi Bruce! 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‚æ•°`username`æ˜¯èµ‹äºˆè‡ªå˜é‡`'Bruce'`çš„åç§°ã€‚

ğŸ‘©â€ğŸ«**æé—®æ—¶é—´:**å¦‚æœæˆ‘ä»¬åœ¨è°ƒç”¨å‡½æ•°æ—¶æ²¡æœ‰ç»™å‚æ•°`username`ä¼ é€’ä»»ä½•å€¼ï¼Œå‡½æ•°å°†è¿”å›ä»€ä¹ˆï¼Ÿ

```
function greeting(username) {
  return `Hi ${username}!`;
}

greeting(); // Hi undefined! 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**å›ç­”:**å®ƒä¼šè¿”å›`Hi undefined!`ã€‚

**åŸå› :**å¦‚æœæˆ‘ä»¬ä¸å‘å‚æ•°ä¼ é€’ä»»ä½•å€¼ï¼ŒJavaScript å°±ä¼šä½¿ç”¨`undefined`ä½œä¸ºé»˜è®¤å€¼ã€‚
åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä¼ é€’ä»»ä½•å€¼ç»™`username`å‚æ•°ï¼ŒJavaScript ç»™å®ƒèµ‹å€¼`undefined`å¹¶è¿”å›`Hi undefined!`ã€‚

é‚£ä¹ˆå¦‚ä½•æ‰èƒ½é¿å…`undefined`æ¡ˆä¾‹å‘¢ï¼Ÿ

## é»˜è®¤å€¼

ES6 ä¸ºæ­¤ç±»åœºæ™¯å¼•å…¥äº†é»˜è®¤å‚æ•°ã€‚

```
function greeting(username = 'Anonymous') {
  return `Hi ${username}!`;
}

greeting(); // Hi Anonymous! 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸å‘å‚æ•°`username`ä¼ é€’ä»»ä½•å€¼ï¼ŒJavaScript å°†ä½¿ç”¨`'Anonymous'`å€¼æ¥ä»£æ›¿`undefined`ã€‚

* * *

## è®©æˆ‘ä»¬å»ºç«‹è‡ªå®šä¹‰é»˜è®¤å‚æ•°ğŸ’ª

æˆ‘ä»¬å°†éœ€è¦ 2 æ ·ä¸œè¥¿:
I .ä¸€ä¸ªå‚æ•°åˆ—è¡¨åŠå…¶å€¼
IIã€‚å€¼ç±»å‹æ£€æŸ¥å™¨

### I .ä¸€ä¸ªå‚æ•°åˆ—è¡¨åŠå…¶å€¼ğŸ“‹

JavaScript å‡½æ•°æä¾›äº†ä¸€ä¸ªåä¸º`arguments` object çš„å±€éƒ¨å˜é‡æ¥ä¿å­˜æ‰€æœ‰çš„å‚æ•°å€¼ã€‚

```
function greeting() {
  console.log(arguments);     // { 0: 'Bruce' }
  console.log(arguments[0]);  // 'Bruce'
}

greeting('Bruce'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`arguments`æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚å®ƒä¿å­˜è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨çš„æ‰€æœ‰å‚æ•°å€¼ï¼Œä»ç´¢å¼• 0 å¼€å§‹ã€‚
åœ¨æˆ‘ä»¬çš„`greeting`å‡½æ•°ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨å‚æ•°`'Bruce'`è°ƒç”¨å®ƒï¼Œ`arguments`å¯¹è±¡å°†æŠŠå®ƒä¿å­˜åœ¨ç¬¬ 0 ä¸ªç´¢å¼•å¤„ã€‚

### äºŒä¸–ã€‚å€¼ç±»å‹æ£€æŸ¥å™¨ğŸ•µï¸

JavaScript æä¾›äº†ä¸€ä¸ªåä¸º`typeof`çš„ä¸€å…ƒè¿ç®—ç¬¦ï¼Œç”¨äºè®¡ç®—æ“ä½œæ•°çš„ç±»å‹å¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ã€‚

```
function greeting() {
  console.log(arguments);            // { 0: 'Bruce' }
  console.log(typeof arguments[0]);  // 'string'
}

greeting('Bruce'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ğŸ‘©â€ğŸ«**æé—®æ—¶é—´:**å¦‚æœæˆ‘ä»¬ä¸ä¼ é€’ä»»ä½•å€¼ï¼Œä¼šæ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿ

```
function greeting() {
  console.log(arguments);            // { }
  console.log(typeof arguments[0]);  // 'undefined'
}

greeting(); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**å›ç­”:**å®ƒä¼šè¿”å›`'undefined'`ã€‚

**åŸå› :**ç”±äºæˆ‘ä»¬åœ¨è°ƒç”¨`greeting`å‡½æ•°æ—¶æ²¡æœ‰ä¼ é€’ä»»ä½•å‚æ•°å€¼ï¼Œ`arguments`å°†æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼ŒJavaScript å°†è¿”å›ç´¢å¼•ä¸º 0 çš„`'undefined'`å€¼ã€‚

* * *

## è®©æˆ‘ä»¬ç»“åˆç›®å‰æ‰€å­¦ï¼Œå¼€å§‹æ„å»ºè‡ªå®šä¹‰é»˜è®¤å‚æ•°ã€‚

```
function greeting(username) {
  username = typeof arguments[0] !== 'undefined' ? arguments[0] : 'Anonymous';

  return `Hi ${username}!`;
}

greeting(); // Hi Anonymous! 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘ä»¬çš„`greeting`å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`argument[0]`è®¿é—®ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œå¹¶ä½¿ç”¨`typeof`æ“ä½œç¬¦æ£€æŸ¥å…¶ç±»å‹ã€‚
å¦‚æœå®ƒçš„è®¡ç®—ç»“æœä¸æ˜¯`'undefined'`ï¼Œè¿™æ„å‘³ç€åœ¨è°ƒç”¨`greeting`å‡½æ•°æ—¶åœ¨ç´¢å¼• 0 å¤„ä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¯¥å€¼ç”¨äº`username`ï¼Œå¦åˆ™ä½¿ç”¨`'Anonymous'`ä½œä¸ºé»˜è®¤å€¼ã€‚

* * *

## ç”¨ä¸åŒçš„è¾“å…¥æµ‹è¯•æˆ‘ä»¬çš„åŠŸèƒ½

```
function greeting(username) {
  username = typeof arguments[0] !== 'undefined' ? arguments[0] : 'Anonymous';

  return `Hi ${username}!`;
}

greeting('Bruce');      // Hi Bruce!
greeting(undefined);    // Hi Anonymous!
greeting('undefined');  // Hi undefined! (Gotcha! We are passing undefined 
                        // wrapped up in quotes as a string) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

* * *

å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿè®©ä½ æ¸…æ¥šåœ°äº†è§£ JavaScript é»˜è®¤å‚æ•°èƒŒåçš„èƒŒæ™¯ã€‚â¤ï¸â¤ï¸

è¯·å…³æ³¨æˆ‘ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹å‘¨å‘å¸ƒä¸‹ä¸€ç¯‡**ã€æŠ½è±¡èƒŒåã€‘**å¸–å­ï¼Œæ•¬è¯·å…³æ³¨ï¼

> å°é¢å›¾ç‰‡çš„çµæ„Ÿæ¥è‡ª Wes Bos çš„â€œå¯è§†åŒ– JavaScript å‡½æ•°â€