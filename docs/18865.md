# éš¾ä»¥æ¥è¿‘çš„ç¥è¯ååº”

> åŸæ–‡:[https://dev . to/Ben Robertson/the-myth-of-incessible-react-25an](https://dev.to/benrobertson/the-myth-of-inaccessible-react-25an)

åœ¨ Twitter ä¸Šï¼Œåœ¨ Slack ä¸Šï¼Œåœ¨ Discord ä¸Šï¼Œæˆ–è€…åœ¨ IRC ä¸Šï¼Œæˆ–è€…åœ¨ä½ åœ¨äº’è”ç½‘ä¸Šé—²é€›çš„ä»»ä½•åœ°æ–¹ï¼Œä½ å¯èƒ½å·²ç»å¬åˆ°äº†ä»¥ä¸‹é™ˆè¿°çš„ä¸€äº›è¡¨è¿°:

*   React ä¸æ”¯æŒè¾…åŠ©åŠŸèƒ½
*   React ä½¿ç½‘ç«™æ— æ³•è®¿é—®
*   äººä»¬åº”è¯¥ç¼–å†™å¯è®¿é—®çš„ HTMLï¼Œè€Œä¸æ˜¯ React
*   react æ­£åœ¨è¿è¡Œäº’è”ç½‘

æœ‰ä¸€ç§æ™®éçš„è¯¯è§£ï¼Œè®¤ä¸º JavaScript æ¡†æ¶å’Œ web å¯è®¿é—®æ€§ä¸èƒ½æ··åˆåœ¨ä¸€èµ·ã€‚React ä½œä¸ºæœ€å¤§çš„ JavaScript åº“ä¹‹ä¸€ï¼Œç»å¸¸æˆä¸ºæ”»å‡»ç›®æ ‡ã€‚

ç„¶è€Œï¼Œåœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘æœ‰ä¸€ä¸ªæœ‰è¶£çš„ç»å†ï¼Œé‚£å°±æ˜¯åŒæ—¶æ¥è§¦åˆ°äº†å¯è®¿é—®æ€§å’Œååº”æ€§ã€‚æˆ‘å‘ç° React ä¸­çš„å·¥å…·å¸®åŠ©æˆ‘å­¦ä¹ äº†å¾ˆå¤šå…³äºå¯è®¿é—®æ€§çš„çŸ¥è¯†ï¼Œå¦åˆ™æˆ‘æ°¸è¿œä¹Ÿä¸ä¼šé‡åˆ°ã€‚

å› æ­¤ï¼Œè™½ç„¶æˆ‘ä¸åå¯¹æœ‰å¤§é‡çš„å›¾ä¹¦é¦†ã€ç½‘ç«™ã€åº”ç”¨ç¨‹åºç­‰ã€‚æˆ‘ä¸åŒæ„ ReactJS ä¸­æœ‰ä¸€äº›å›ºæœ‰çš„ä¸œè¥¿ä¼šè®©å¼€å‘äººå‘˜æ„å»ºä¸å¯è®¿é—®çš„ç«™ç‚¹ã€‚äº‹å®ä¸Šï¼Œæˆ‘**å–œæ¬¢**React ç”Ÿæ€ç³»ç»Ÿä¸­å¯ç”¨çš„å¯è®¿é—®æ€§å·¥å…·ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« å®é™…ä¸Šæ˜¯å…³äº React å¦‚ä½•å¸®åŠ©ä½ ä½¿*æ¯”ä½ ä»¥å‰åˆ¶ä½œçš„*ç½‘ç«™æ›´æ˜“è®¿é—®ã€‚

æˆ‘å°†æ¦‚è¿°å¦‚ä½•å°† React æ—æŒºå·¥å…·ã€DOM å®¡è®¡å’Œ Storybook(ä¸€ä¸ªç»„ä»¶åº“å·¥å…·)ç»“åˆèµ·æ¥ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›ä¸€ä¸ªçœŸæ­£æ”¯æŒçš„å¯è®¿é—®æ€§ç¯å¢ƒâ€”â€”æ— è®ºä»–ä»¬æ˜¯å¯è®¿é—®æ€§ä¸“å®¶è¿˜æ˜¯åˆå­¦è€…ã€‚

åˆ°æœ¬æ–‡ç»“æŸæ—¶ï¼Œæ‚¨å°†ä¸ºæ‚¨çš„ Gatsby é¡¹ç›®(æˆ–å…¶ä»– React é¡¹ç›®)é…ç½®å¥½ä»¥ä¸‹å†…å®¹:

*   å¯è®¿é—®æ€§é”™è¯¯çš„ç¼–è¾‘å™¨å†…æŠ¥å‘Š
*   ä¸€ä¸ªé¢„æäº¤æŒ‚é’©ï¼Œç”¨äºé˜²æ­¢å¯è®¿é—®æ€§é”™è¯¯è¿›å…¥å­˜å‚¨åº“
*   å¼€å‘è¿‡ç¨‹ä¸­æŠ¥å‘Šè¾…åŠ©åŠŸèƒ½é”™è¯¯çš„æµè§ˆå™¨æ§åˆ¶å°ï¼Œå¸¦æœ‰æŒ‡å‘å¦‚ä½•è§£å†³é”™è¯¯çš„ä¿¡æ¯çš„é“¾æ¥
*   å…·æœ‰å†…ç½®å¯è®¿é—®æ€§æµ‹è¯•çš„ç»„ä»¶åº“ï¼Œå› æ­¤æ‰€æœ‰é¡¹ç›®æ¶‰ä¼—å¯ä»¥è®©å›¢é˜Ÿå¯¹å¯è®¿é—®æ€§é—®é¢˜è´Ÿè´£

> *æƒ³é©¬ä¸Šå¼€å§‹å—ï¼Ÿæˆ‘åˆ›å»ºäº†ä¸€ä¸ª Gatsby starterï¼Œå†…ç½®äº†æ‰€æœ‰è¿™äº›è¾…åŠ©å·¥å…·ã€‚æ£€æŸ¥ä¸€ä¸‹æˆ‘çš„**[Gatsby-starter-accessibility repo](https://github.com/benjamingrobertson/gatsby-starter-accessibility)**ï¼Œå®ƒå…·æœ‰å¼€ç®±å³ç”¨çš„æ‰€æœ‰è¿™äº›ç‰¹æ€§ã€‚*

## [](#tools-and-setup)å·¥å…·å’Œè®¾ç½®

### [eslint-plugin-jsx-a11y](https://github.com/evcohen/eslint-plugin-jsx-a11y)

å¦‚æœæ‚¨åœ¨è¿‡å»å‡ å¹´ä¸­ç¼–å†™è¿‡ JavaScriptï¼Œæ‚¨å¯èƒ½ä½¿ç”¨è¿‡æˆ–è€…è‡³å°‘å¬è¯´è¿‡ eslintã€‚å¦‚æœæ²¡æœ‰ï¼Œç°åœ¨æ˜¯å¼€å§‹ä½¿ç”¨å®ƒçš„å¥½æ—¶æœºï¼

Eslint æ˜¯ä¸€ä¸ªç”¨äº JavaScript çš„æ—æŒºå®ç”¨ç¨‹åºï¼Œå¯ä»¥å¸®åŠ©æ‚¨åœ¨ç¼–å†™ä»£ç æ—¶æ•æ‰æ ¼å¼å’Œè¯­æ³•é”™è¯¯ã€‚å¤§å¤šæ•°ç¼–è¾‘å™¨éƒ½æœ‰æŸç§å†…ç½®çš„æ—æŒºé…ç½®ï¼Œå¯ä»¥è®©æ‚¨åœ¨ç¼–å†™ä»£ç æ—¶çœ‹åˆ°ç¼–è¾‘å™¨ä¸­çš„é”™è¯¯ã€‚

è¿™å¯¹äºä¿æŒä»£ç çš„ä¸€è‡´æ€§éå¸¸æœ‰å¸®åŠ©ï¼Œå°¤å…¶æ˜¯å½“å¾ˆå¤šäººåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å·¥ä½œçš„æ—¶å€™ã€‚

Eslint ä¹Ÿæœ‰ä¸€ä¸ªéå¸¸å¥åº·çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚æ‚¨å¯ä»¥åŒ…å«ç‰¹å®šäºæ‚¨æ­£åœ¨ä½¿ç”¨çš„ JavaScript æ¡†æ¶çš„è§„åˆ™(ä¾‹å¦‚ï¼ŒReactã€Angularã€Vue ç­‰)ï¼Œç­‰ç­‰ã€‚å¯¹äº Reactï¼Œæˆ‘é€šå¸¸ä½¿ç”¨`eslint-plugin-react`å’ŒçœŸæ­£æœ‰ç”¨çš„ [eslint-plugin-jsx-a11y](https://github.com/evcohen/eslint-plugin-jsx-a11y) ã€‚è¿™ä¸ªæ’ä»¶ä½¿ç”¨[è¿™äº›è§„åˆ™](https://github.com/evcohen/eslint-plugin-jsx-a11y#supported-rules)ï¼Œä¸ºä½ çš„ä»£ç æŸ¥æ‰¾å·²çŸ¥çš„å¯è®¿é—®æ€§è¿è§„ã€‚

è®©è¿™äº›è‡ªåŠ¨åŒ–æµ‹è¯•åœ¨ä½ å†™ä»£ç çš„æ—¶å€™è¿è¡Œå¯ä»¥é˜²æ­¢*è¿™ä¹ˆå¤šé”™è¯¯*ã€‚å°½ç®¡è‡ªåŠ¨åŒ–çš„å¯è®¿é—®æ€§æµ‹è¯•åªèƒ½æ•è·æ‰€æœ‰å¯è®¿é—®æ€§é”™è¯¯çš„ 20-30%å·¦å³ï¼Œä½†æ˜¯åœ¨å®ƒä»¬è¿›å…¥ä»£ç åº“ä¹‹å‰æ•è·è¿™äº›é”™è¯¯å¯ä»¥èŠ‚çœæ—¶é—´ã€é¢„ç®—å’Œç²¾åŠ›ï¼Œä»¥ä¾¿åœ¨ä»£ç è¿›å…¥æµè§ˆå™¨åè¿›è¡Œæ›´å¤šçš„æ‰‹åŠ¨æµ‹è¯•ã€‚

#### [](#usage)ç”¨æ³•

ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ React é¡¹ç›®ä¸­å¼€å§‹ä½¿ç”¨æ—æŒºè¾…åŠ©åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å¿…è¦çš„ eslint åŒ…:

`npm install eslint eslint-plugin-react eslint-plugin-jsx-a11y --save-dev`

åœ¨æ‚¨çš„`package.json`ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®:

```
"eslintConfig": {
    "parserOptions": {
      "sourceType": "module"
    },
    "env": {
      "node": true,
      "browser": true,
      "es6": true
    },
    "plugins": [
      "react",
      "jsx-a11y"
    ],
    "extends": [
      "eslint:recommended",
      "plugin:react/recommended",
      "plugin:jsx-a11y/recommended"
    ]
} 
```

å°†æ­¤æ·»åŠ åˆ°æ‚¨çš„`package.json`ä¸­ï¼Œeslint å°†åœ¨æ‚¨å·¥ä½œæ—¶ä½¿ç”¨ eslintã€react å’Œ jsx-a11y æ’ä»¶æ¨èçš„è§„åˆ™ã€‚

æ‚¨éœ€è¦ç¡®ä¿æ‚¨çš„ç¼–è¾‘å™¨è®¾ç½®ä¸ºåœ¨ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºæ—æŒºé”™è¯¯ï¼Œè¿™æ ·æ‰çœŸæ­£æœ‰ç”¨ã€‚

### [](#add-a-precommit-hook-for-preventing-inaccessible-code-in-the-codebase-using-lintstaged)ä½¿ç”¨ lint:staged æ·»åŠ ä¸€ä¸ªé¢„æäº¤æŒ‚é’©ï¼Œç”¨äºé˜²æ­¢ä»£ç åº“ä¸­çš„ä»£ç ä¸å¯è®¿é—®

æ‰€ä»¥ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»è®¾ç½®äº†ä¸€äº›å¯è®¿é—®æ€§æ—æŒºï¼Œå¸Œæœ›æ¯ä¸ªå‚ä¸è¯¥é¡¹ç›®çš„äººéƒ½åœ¨ä»–ä»¬çš„ç¼–è¾‘å™¨ä¸­æ‰“å¼€äº†æ—æŒºï¼Œè¿™æ ·ä»–ä»¬å°±å¯ä»¥åœ¨å·¥ä½œæ—¶çœ‹åˆ°ä»»ä½•é”™è¯¯ã€‚

ä½†æ˜¯ä½ ä¸èƒ½ 100%ç¡®å®šæ¯ä¸ªäººéƒ½ä¼šå…³æ³¨æ£‰ç»’ã€‚å³ä½¿æ˜¯è¿™æ ·ï¼Œä¹Ÿå¾ˆå®¹æ˜“å¿«é€Ÿæ›´æ”¹ã€åˆ‡æ¢æ–‡ä»¶ï¼Œä»»ä½•é”™è¯¯éƒ½ä¼šè¢«é—å¿˜ã€‚

ä¸ºäº†é˜²æ­¢ä¸å¯è®¿é—®çš„ä»£ç è¿›å…¥ä»£ç åº“ï¼Œæˆ‘ä»¬å¯ä»¥åšçš„é¢å¤–æ£€æŸ¥æ˜¯æ·»åŠ ä¸€ä¸ª*é¢„æäº¤æŒ‚é’©*,æ¯å½“å¼€å‘äººå‘˜è¯•å›¾æäº¤ä»£ç æ—¶ï¼Œå®ƒéƒ½ä¼šè¿è¡Œæˆ‘ä»¬åœ¨ä¸Šé¢è®¾ç½®çš„æ—æŒºã€‚å¦‚æœå‘ç°å¯è®¿é—®æ€§é”™è¯¯ï¼Œå°†æ˜¾ç¤ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼Œå…¶ä¸­åŒ…å«ç›¸å…³çš„æ—æŒºé”™è¯¯å’Œé”™è¯¯ä½ç½®ï¼Œå¹¶ä¸”åœ¨å¼€å‘äººå‘˜è§£å†³è¯¥é—®é¢˜ä¹‹å‰ï¼Œæäº¤å°†è¢«é˜»æ­¢ã€‚

[![lint-staged will run a pre-commit hook that will catch any accessibility errors raised by eslint-plugin-jsx-a11y](../Images/340fe587a2097c6676d16431b9eb8274.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--_SBSR8tF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://benrobertson.io/assets/img/myth-react-inaccessible/lint-staged-example.png) *lint-staged å°†è¿è¡Œä¸€ä¸ªé¢„æäº¤é’©å­ï¼Œè¯¥é’©å­å°†æ•è·ç”± eslint-plugin-jsx-a11y* å¼•å‘çš„ä»»ä½•å¯è®¿é—®æ€§é”™è¯¯

#### [](#usage)ç”¨æ³•

è®¾ç½®é¢„æäº¤æ—æŒºé’©å­æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ [`lint-staged`åŒ…](https://www.npmjs.com/package/lint-staged)ã€‚åœ¨æ‚¨è®¾ç½®å¥½æ‰€æœ‰çš„ eslint é…ç½®(ä»æˆ‘ä»¬çš„ç¬¬ä¸€æ­¥å¼€å§‹)ä¹‹åï¼Œåœ¨æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:

`npx mrm lint-staged`

è¿™ä¸ªå‘½ä»¤å°†å®‰è£…ç”¨äºç®¡ç†é¢„æäº¤é’©å­çš„ [`husky`åŒ…](https://www.npmjs.com/package/husky)ï¼Œå¹¶æŸ¥çœ‹æ‚¨çš„ package.json ä»¥æ ¹æ®æ‚¨çš„æ—æŒºé…ç½®è‡ªåŠ¨è®¾ç½®é¢„æäº¤é’©å­ã€‚

åŸºäº repo ä¸­ç°æœ‰çš„ eslint é…ç½®é“¾æ¥æ‰€æœ‰ JS æ–‡ä»¶çš„ç®€å•é…ç½®å°†å¦‚ä¸‹æ‰€ç¤º(ä»`package.json` ):

```
"husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
},
"lint-staged": {
    "*.js": [
      "eslint"
    ]
} 
```

ä½ å¯ä»¥æŒ‰ç…§ä½ è®¤ä¸ºåˆé€‚çš„æ¥è°ƒæ•´å®ƒã€‚ä¾‹å¦‚ï¼Œæœ‰æ—¶æ‚¨å¸Œæœ›å°†æ—æŒºé™åˆ¶åœ¨æŸäº›ç›®å½•ä¸­ã€‚ä¸ºäº†åªåœ¨`src`ç›®å½•ä¸­çš„ JS æ–‡ä»¶ä¸Šè¿è¡Œé¢„æäº¤é’©å­ï¼Œæ‚¨åº”è¯¥åƒè¿™æ ·æ›´æ–°`lint-staged`é…ç½®:

```
"lint-staged": {
    "src/*.js": [
      "eslint"
    ]
} 
```

å…³äº`lint-staged`çš„ä¼Ÿå¤§ä¹‹å¤„åœ¨äºï¼Œå®ƒåª lints å±äºå½“å‰æäº¤çš„æ–‡ä»¶ã€‚å¦‚æœç”±äºæŸç§åŸå› ï¼Œåœ¨ä»£ç åº“çš„å¦ä¸€éƒ¨åˆ†ä¸­å­˜åœ¨ä¸€äº›é¢„å…ˆå­˜åœ¨çš„é”™è¯¯ï¼Œæäº¤ä¸ä¼šè¢«é˜»æ­¢â€”â€”å®ƒåªæ˜¯é˜²æ­¢å¼•å…¥æ–°çš„é”™è¯¯ã€‚

### [](#reactaxe)ååº”è¿‡æ¥-æ–§å¤´

æˆ‘ä»¬ç°åœ¨æ‹¥æœ‰çš„æ—æŒºè®¾ç½®çš„ä¼Ÿå¤§ä¹‹å¤„åœ¨äºï¼Œå®ƒå°†é˜²æ­¢å¤§é‡é”™è¯¯è¢«å¼•å…¥ä»£ç åº“ã€‚ç„¶è€Œï¼Œå®ƒä¸èƒ½é˜²æ­¢æ‰€æœ‰çš„é”™è¯¯ã€‚æœ‰äº›é”™è¯¯åªåœ¨å‡ ä¸ªç»„ä»¶ä¸€èµ·ä½¿ç”¨æ—¶å­˜åœ¨ï¼Œæˆ–è€…æ¥è‡ªæŸäº›å†…å®¹ï¼Œåªèƒ½åœ¨æµè§ˆå™¨ä¸­æ•æ‰åˆ°ã€‚

å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯¹æ­¤ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆã€‚Axe æ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ–å¯è®¿é—®æ€§æµ‹è¯•çš„å¼€æºå¼•æ“ï¼Œç”± [Deque](https://www.deque.com/) æ”¯æŒã€‚æˆ‘ç¬¬ä¸€æ¬¡ç†Ÿæ‚‰ axe æ˜¯é€šè¿‡ä½¿ç”¨ä»–ä»¬çœŸæ­£æœ‰ç”¨çš„æµè§ˆå™¨æ‰©å±•æ¥æµ‹è¯•æµè§ˆå™¨ä¸­çš„å•ä¸ªé¡µé¢[ã€‚](https://www.mediacurrent.com/blog/5-website-accessibility-checkers/)

æµè§ˆå™¨æ‰©å±•å¯è®¿é—®æ€§æµ‹è¯•çš„é—®é¢˜æ˜¯ï¼Œå®ƒä»¬é€šå¸¸åªåœ¨å¼€å‘å®Œæˆå*è¿è¡Œã€‚ä½¿ç”¨`react-axe`åº“ï¼Œæ‚¨å¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯¹æ¯ä¸ªé¡µé¢è¿è¡Œè‡ªåŠ¨åŒ–çš„å¯è®¿é—®æ€§æµ‹è¯•ï¼Œå› æ­¤å¼€å‘äººå‘˜å¯ä»¥è·å¾—å…³äºå¯è®¿é—®æ€§é—®é¢˜çš„å®æ—¶åé¦ˆã€‚è¿™æœ‰åŠ©äºç¡®ä¿å¯è®¿é—®æ€§é—®é¢˜æ°¸è¿œä¸ä¼šå‡ºç°åœ¨äº§å“ä¸­ï¼Œå¹¶ä¸”å®ƒè¿˜å¯ä»¥è®©é‚£äº›å¯èƒ½ä¸æ˜¯å¯è®¿é—®æ€§ä¸“å®¶çš„å¼€å‘äººå‘˜äº†è§£æ½œåœ¨çš„é™·é˜±ã€‚*

react-axe åº“æ˜¯ axe å¼•æ“çš„ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„å®ç°ï¼Œä¸“é—¨ç”¨äº reactã€‚

#### [](#usage)ç”¨æ³•

ä¸‹é¢æ˜¯å¦‚ä½•å’Œç›–èŒ¨æ¯”ä¸€èµ·å¼€å§‹ä½¿ç”¨ react-axe([æœ‰äººä¸ºå®ƒåšäº†ä¸€ä¸ªç›–èŒ¨æ¯”æ’ä»¶ï¼](https://github.com/angeloashmore/gatsby-plugin-react-axe)):

`npm install --save gatsby-plugin-react-axe`

å°†`gatsby-plugin-react-axe`æ·»åŠ åˆ°`gatsby-config.js`
ä¸­çš„æ’ä»¶æ•°ç»„ä¸­

```
module.exports = {
  siteMetadata: {
    title: 'Gatsby Default Starter',
    description:
      'Kick off your next, great Gatsby project with this default starter. This barebones starter ships with the main Gatsby configuration files you might need.',
    author: '@gatsbyjs',
  },
  plugins: [
    'gatsby-plugin-react-axe',
    // other plugins go here
  ],
}; 
```

ç°åœ¨ï¼Œå½“é¡µé¢å‘ˆç°æ—¶ï¼Œæ’ä»¶ä¼šå°†ä»»ä½•å¯è®¿é—®æ€§é”™è¯¯æ‰“å°åˆ°æµè§ˆå™¨æ§åˆ¶å°ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘æŠŠä¸€ä¸ª`<h5>`ç›´æ¥æ”¾åœ¨äº†ä¸€ä¸ª`<h1>`çš„ä¸‹é¢:

[![React aXe will show accessibility errors in the console while you are developing.](../Images/5d62d29487c8152494fea6ccf7db092c.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--I09DUJJW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://benrobertson.io/assets/img/myth-react-inaccessible/react-axe-example.png) * React aXe åœ¨ä½ å¼€å‘çš„æ—¶å€™ä¼šåœ¨æ§åˆ¶å°æ˜¾ç¤ºè¾…åŠ©åŠŸèƒ½é”™è¯¯ã€‚*

ä½ å¯ä»¥åœ¨æ§åˆ¶å°çš„ axe æ¶ˆæ¯ä¸­çœ‹åˆ°ï¼Œå®ƒå·²ç»ç¡®å®šäº†æˆ‘çš„èˆªå‘é—®é¢˜:â€œèˆªå‘é—®é¢˜åº”è¯¥åªå¢åŠ ä¸€ä¸ªâ€ä¸ºä¸­åº¦é—®é¢˜ã€‚å®ƒè¿˜åŒ…æ‹¬ä¸€ä¸ªé“¾æ¥ï¼Œå¯ä»¥äº†è§£æ›´å¤šå…³äº*ä¸ºä»€ä¹ˆ*è¿™æ˜¯ä¸€ä¸ªé—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³å®ƒ:ã€https://dequeuniversity.com/rules/axe/3.2/heading-orderã€‘T2ã€‚æœ€åï¼Œå®ƒæ˜¾ç¤ºäº†å¯¼è‡´é—®é¢˜çš„å…·ä½“å› ç´ ï¼Œä»¥ä¾¿äºè¯†åˆ«ã€‚

è¿™ç§å³æ—¶åé¦ˆæ˜¯*æ‰€ä»¥*å¾ˆé‡è¦ï¼Œæ— è®ºä½ æ˜¯ä¸€ä¸ªæ˜“è®¿é—®æ€§åˆå­¦è€…è¿˜æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„ä¸“å®¶ï¼Œå³æ—¶æ•æ‰è‡ªåŠ¨åŒ–é—®é¢˜å¯ä»¥ç»™ä½ æ›´å¤šçš„å¸¦å®½æ¥å…³æ³¨å…¶ä»–æ›´å¤æ‚çš„ä»»åŠ¡ã€‚

### [](#storybook-and-accessibility)æ•…äº‹ä¹¦ä¸æ— éšœç¢

æˆ‘ä»¬çš„å¯è®¿é—®æ€§å·¥ä½œæµçš„æœ€åä¸€éƒ¨åˆ†ä¸æˆ‘ä»¬çš„[ç»„ä»¶é©±åŠ¨çš„å·¥ä½œæµ](https://www.mediacurrent.com/blog/building-components-breaking-it-down/)æœ‰å…³ã€‚å¯¹äº React é¡¹ç›®ï¼Œæˆ‘éå¸¸å–œæ¬¢ä½¿ç”¨[æ•…äº‹ä¹¦](https://storybook.js.org/)æ¥æ„å»ºå’Œè®°å½•æˆ‘ä»¬çš„å‰ç«¯ç»„ä»¶ã€‚

> Storybook æ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºå¼€å‘ç‹¬ç«‹äº Reactã€Vue å’Œ Angular çš„ UI ç»„ä»¶ã€‚å®ƒä½¿æ„å»ºä»¤äººæƒŠå¹çš„ ui å˜å¾—æœ‰æ¡ç†å’Œé«˜æ•ˆã€‚

é™¤äº†æœ‰ä¸€ä¸ªæ¼‚äº®çš„å·¥ä½œæµç¨‹å’Œç”¨æˆ·ç•Œé¢ï¼ŒStorybook è¿˜æœ‰ä¸€ä¸ªå¾ˆæ£’çš„ [accessibility add-on](https://github.com/storybooks/storybook/tree/master/addons/a11y) ï¼Œå®ƒä¸ºä½ çš„ç»„ä»¶åº“ä¸­çš„æ¯ä¸ªç»„ä»¶æ·»åŠ ä¸€ä¸ªé¢æ¿ï¼Œè®°å½•å¯è®¿é—®æ€§é—®é¢˜ã€‚

[![Our storybook configuration has built-in axe tests for each component and a color blindness simulator, provided by the storybook accessibility add-on.](../Images/88b0070dcfa11ba884ce10a13e8ec5b4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--eE9lqFHK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://benrobertson.io/assets/img/myth-react-inaccessible/storybook-preview.png)

åœ¨å¹•åï¼Œé™„åŠ ç»„ä»¶å®é™…ä¸Šä¹Ÿä½¿ç”¨ aXe è¿›è¡Œæµ‹è¯•ã€‚è¿™çœŸçš„å¾ˆå¥½ï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘ä»¬åœ¨å¼€å‘ä¸­ä½¿ç”¨çš„æµ‹è¯•å’Œæˆ‘ä»¬åœ¨ç»„ä»¶åº“ä¸­ä½¿ç”¨çš„æµ‹è¯•æ˜¯ä¸€æ ·çš„ã€‚åœ¨ç»„ä»¶åº“ä¸­çªå‡ºæ˜¾ç¤ºé”™è¯¯è¿˜æœ‰åŠ©äºæˆ‘ä»¬é¡¹ç›®å›¢é˜Ÿä¸­çš„æ¯ä¸ªäººåœ¨æµè§ˆåº“æ—¶å‘ç°å¯è®¿é—®æ€§é—®é¢˜ï¼Œæ— è®ºæ˜¯å‡ºäº QA ç›®çš„è¿˜æ˜¯è®¾è®¡çµæ„Ÿã€‚

#### [](#setup)è®¾ç½®

Storybook çš„è®¾ç½®æœ‰ç‚¹å¤æ‚ï¼Œæ‰€ä»¥å¦‚æœä½ ä»¥å‰æ²¡æœ‰ä½¿ç”¨è¿‡ Storybookï¼Œä½ å¯ä»¥æŸ¥çœ‹ React æ–‡æ¡£ä¸­çš„ [Storybook ä»¥è·å¾—ä¸€ä¸ªé€šç”¨çš„ React è®¾ç½®ã€‚](https://storybook.js.org/docs/guides/guide-react/)

å¦‚æœä½ æƒ³è®©æ•…äº‹ä¹¦å’Œ Gatsby ä¸€èµ·è¿è¡Œï¼Œè¯·å‚è§ Gatsby æ–‡æ¡£ä¸­çš„[ç”¨æ•…äº‹ä¹¦è¿›è¡Œè§†è§‰æµ‹è¯•](https://www.gatsbyjs.org/docs/visual-testing-with-storybook/)ã€‚

ä¸€æ—¦ä½ æœ‰äº†æ•…äº‹ä¹¦è®¾ç½®ï¼Œæ·»åŠ å¯è®¿é—®æ€§é™„åŠ ç»„ä»¶æ˜¯éå¸¸ç®€å•çš„ã€‚

é¦–å…ˆï¼Œå®‰è£…é™„åŠ ç»„ä»¶:

`npm install @storybook/addon-a11y --save-dev`

ç„¶åå°†è¿™ä¸€è¡Œæ·»åŠ åˆ° storybook é…ç½®ç›®å½•ä¸­çš„`addons.js`æ–‡ä»¶ä¸­:

`import '@storybook/addon-a11y/register';`

æœ€åï¼Œå°†è¿™ä¸€è¡Œæ·»åŠ åˆ°æ•…äº‹ä¹¦`config.js`æ–‡ä»¶ä¸­ï¼Œä»¥è‡ªåŠ¨å°†è¾…åŠ©åŠŸèƒ½é¢æ¿æ·»åŠ åˆ°æ‰€æœ‰ç»„ä»¶ä¸­:

`addDecorator(withA11y);`

å½“æ‚¨ç°åœ¨è¿è¡Œ Storybook æ—¶ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°è¾…åŠ©åŠŸèƒ½é¢æ¿([åœ¨æ­¤å¤„æŸ¥çœ‹å®æ—¶ç‰ˆæœ¬](https://gatsby-starter-accessibility.netlify.com/storybook/?path=/story/header--default)):

[![Our storybook configuration has built-in axe tests for each component and a color blindness simulator, provided by the storybook accessibility add-on.](../Images/88b0070dcfa11ba884ce10a13e8ec5b4.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--eE9lqFHK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://benrobertson.io/assets/img/myth-react-inaccessible/storybook-preview.png) *æˆ‘ä»¬çš„ storybook é…ç½®å¯¹æ¯ä¸ªç»„ä»¶éƒ½æœ‰å†…ç½®çš„ axe æµ‹è¯•å’Œä¸€ä¸ªè‰²ç›²æ¨¡æ‹Ÿå™¨ï¼Œç”± storybook accessibility é™„åŠ ç»„ä»¶æä¾›ã€‚*

é¡ºä¾¿è¯´ä¸€å¥â€”â€”æ‚¨å¯ä»¥æ ¹æ®å°†é™„åŠ ç»„ä»¶å¯¼å…¥åˆ°æ‚¨çš„`addons.js`æ–‡ä»¶ä¸­çš„é¡ºåºæ¥æ§åˆ¶é™„åŠ ç»„ä»¶é¢æ¿ä¸­é€‰é¡¹å¡çš„é¡ºåºï¼Œå¦‚æœæ‚¨å¸Œæœ›é»˜è®¤æ˜¾ç¤ºè¾…åŠ©åŠŸèƒ½é¢æ¿ï¼Œè¯·ç¡®ä¿å®ƒæ˜¯æ‚¨çš„`addons.js`ä¸­çš„ç¬¬ä¸€è¡Œã€‚

## [](#wrap-up)æ€»ç»“èµ·æ¥

å¦‚æœä½ æ²¡æœ‰æŒ‰ç…§è®¾ç½®è¿›è¡Œï¼Œæˆ–è€…åªæ˜¯æƒ³é€šè¿‡è¿™ä¸ªå·¥ä½œæµå¿«é€Ÿè·å¾—ä¸€ä¸ªæ–°çš„é¡¹ç›®è®¾ç½®ï¼Œè¯·æŸ¥çœ‹[Gatsby-starter-accessibility Gatsby starter](https://github.com/benjamingrobertson/gatsby-starter-accessibility)

æ‚¨å¯ä»¥ç”¨æˆ‘ä¸Šé¢æè¿°çš„æ‰€æœ‰é…ç½®åˆ›å»ºä¸€ä¸ªæ–°çš„ Gatsby ç«™ç‚¹ï¼Œåœ¨æ‚¨çš„ç»ˆç«¯ä¸­ä½¿ç”¨è¿™ä¸€è¡Œä»£ç :

`npx gatsby new my-accessible-project https://github.com/benjamingrobertson/gatsby-starter-accessibility`

æˆ–è€…æ‚¨å¯ä»¥åœ¨ [repo](https://github.com/benjamingrobertson/gatsby-starter-accessibility) ä¸­æŸ¥çœ‹å…·ä½“é…ç½®ã€‚

æ— è®ºæ‚¨æ˜¯è¿è¡Œäº†ä¸Šé¢çš„æ‰€æœ‰æ­¥éª¤ï¼Œè¿˜æ˜¯ä»…ä»…è¿è¡Œäº† starterï¼Œæ‚¨éƒ½ä¼šåœ¨ Gatsby / React é¡¹ç›®ä¸­è®¾ç½®ä»¥ä¸‹ç‰¹æ€§:

*   å¯è®¿é—®æ€§é”™è¯¯çš„ç¼–è¾‘å™¨å†…æŠ¥å‘Š
*   ä¸€ä¸ªé¢„æäº¤æŒ‚é’©ï¼Œç”¨äºé˜²æ­¢å¯è®¿é—®æ€§é”™è¯¯è¿›å…¥å­˜å‚¨åº“
*   å¼€å‘è¿‡ç¨‹ä¸­æŠ¥å‘Šè¾…åŠ©åŠŸèƒ½é”™è¯¯çš„æµè§ˆå™¨æ§åˆ¶å°ï¼Œå¸¦æœ‰æŒ‡å‘å¦‚ä½•è§£å†³é”™è¯¯çš„ä¿¡æ¯çš„é“¾æ¥
*   å…·æœ‰å†…ç½®å¯è®¿é—®æ€§æµ‹è¯•çš„ç»„ä»¶åº“ï¼Œå› æ­¤æ‰€æœ‰é¡¹ç›®æ¶‰ä¼—å¯ä»¥è®©å›¢é˜Ÿå¯¹å¯è®¿é—®æ€§é—®é¢˜è´Ÿè´£

åœ¨æœ‰è®¸å¤šå›¢é˜Ÿæˆå‘˜å’Œç§»åŠ¨éƒ¨åˆ†çš„å¤æ‚é¡¹ç›®ä¸­ï¼Œè‡ªåŠ¨åŒ–å¯è®¿é—®æ€§æµ‹è¯•å°†æœ‰åŠ©äºèŠ‚çœæ—¶é—´ï¼Œä»¥ç¡®ä¿æ‚¨å¯ä»¥æ›´å¤šåœ°å…³æ³¨è‡ªåŠ¨åŒ–æµ‹è¯•æ— æ³•æ•æ‰çš„å¯è®¿é—®æ€§ä»»åŠ¡ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œåƒè¿™æ ·çš„å·¥å…·ç¡®å®å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æé«˜ä»–ä»¬çš„å¯è®¿é—®æ€§çŸ¥è¯†ã€‚

æˆ‘çŸ¥é“è¿™å¯¹æˆ‘æœ‰å¸®åŠ©ï¼Œæˆ‘å¸Œæœ›å¯¹ä½ çš„å›¢é˜Ÿä¹Ÿæœ‰å¸®åŠ©ï¼

æƒ³è¦æ›´æ·±å…¥åœ°æ„å»ºæ— éšœç¢ç½‘ç«™å—ï¼ŸåŠ å…¥æˆ‘çš„å…è´¹é‚®ä»¶è¯¾ç¨‹:

ğŸ“¨ *[å¸¸è§çš„æ˜“è®¿é—®æ€§é”™è¯¯ä»¥åŠå¦‚ä½•é¿å…](https://dev.to/courses/common-accessibility-mistakes/)ã€‚30 å¤©ï¼Œ10 èŠ‚è¯¾ï¼Œ100%å¥½ç©ï¼*ğŸ˜€ [*åœ¨è¿™é‡ŒæŠ¥å*](https://dev.to/courses/common-accessibility-mistakes/) ï¼