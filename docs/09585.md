# Jordan ä½¿ä»–çš„ HTTP è¯·æ±‚æ›´åŠ ä¸€è‡´

> åŸæ–‡:[https://dev . to/AAR mora/Jordan-makes-his-http-requests-more-consistent-2 abb](https://dev.to/aarmora/jordan-makes-his-http-requests-more-consistent-2abb)

è¿™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯äº†è§£ä¸ºä»€ä¹ˆæˆ‘åœ¨é“¾æ¥æ£€æŸ¥å™¨ä¸­çš„å¾ˆå¤š[è¯·æ±‚éƒ½è¿”å›äº†ä¸å‡†ç¡®çš„çŠ¶æ€ä»£ç ã€‚å½“ä½ æœ‰ä¸€ä¸ªé“¾æ¥æ£€æŸ¥å™¨è¯•å›¾ç¡®å®šå®ƒæ­£åœ¨æ£€æŸ¥çš„é“¾æ¥æ˜¯å¦æœ‰æ•ˆæ—¶ï¼Œæœ‰ä¸€ä¸ªç›¸å½“é«˜çš„å‡†ç¡®ç‡æ˜¯éå¸¸é‡è¦çš„ã€‚](https://javascriptwebscrapingguy.com/dead-link-checker-electronjs-v0-0-2ish/https://javascriptwebscrapingguy.com/dead-link-checker-electronjs-v0-0-2ish/)

æˆ‘å‡ ä¹æ‰€æœ‰çš„ http ç½‘ç»œæŠ“å–éƒ½ä½¿ç”¨çš„è¿™ä¸ªåº“å·²ç»è¢«[è¯·æ±‚](https://github.com/request/request)ã€‚æˆ‘å·²ç»å¾ˆé€‚åº”äº†ã€‚è¿™ç§ä¸å¯é æ€§è¿«ä½¿æˆ‘å»åˆ«å¤„çœ‹çœ‹æ˜¯å¦èƒ½å¾—åˆ°ç±»ä¼¼çš„ç»“æœã€‚å¦ä¸€ä¸ªæˆ‘å¬è¯´è¿‡å¾ˆå¤šçš„æ˜¯ [axios](https://github.com/axios/axios) ï¼Œæ‰€ä»¥è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å°è¯•ã€‚

## [](#axios-vs-requestpromise-fight)axios vs è¯·æ±‚-æ‰¿è¯ºâ€¦æˆ˜æ–—

[![](../Images/116e22c0724c630648e7843b78b7b41c.png)](https://i.giphy.com/media/l42PAWcdSU44f3YA0/giphy.gif)T3ã€‘

```
// const url = 'https://www.sugarandcharm.com'; // axios 404, rp 404
// const url = `http://bethmichelle.com`; // axios 200, rp 403
// const url = 'https://www.courtneyssweets.com/'; // axios 200, rp 403
// const url = 'https://www.closetcooking.com/'; axios 200, rp 403
// const url = 'https://www.confessionsofaconfectionista.com/'; axios 200, rp 200
// const url = 'http://nutsforcooking.com/'; // axios 200, rp 200
// const url = 'http://javascriptwebscrapingguy.com/'; // axios 200, rp 200
// const url = 'http://citadelpackaging.com/'; // axios 200, rp 200
// const url = 'http://reddit.com/'; // axios 200, rp 200
// const url = 'https://amazon.com/'; // axios 200, rp 200
// const url = 'https://audible.com/'; // axios 200, rp 200
// const url = 'https://google.com/'; // axios 200, rp 200
// const url = 'https://reddit.com/r/funny'; // axios 200, rp 200
// const url = 'https://facebook.com/'; // axios 200, rp 200 
```

ä¸Šé¢æˆ‘åˆ—å‡ºäº†å¯¹ä¸åŒç½‘ç«™çš„è¯·æ±‚è¿”å›çš„çŠ¶æ€ä»£ç ã€‚æ¯ä¸ªåº“è‡³å°‘å°è¯•äº†äº”æ¬¡ï¼Œç”šè‡³æ›´å¤šã€‚è®©æˆ‘åƒæƒŠçš„æ˜¯å‰å››ä¸ªè¯·æ±‚çš„ç»“æœã€‚ç›¸å¯¹äºåƒ redditã€amazonã€audibleã€google å’Œ javascriptwebscrapingguy.com[![ğŸ˜‰](../Images/df3a1f8e822c13df03dc5619db176cac.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Z-U79kEY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://s.w.org/images/core/emoji/11/72x72/1f609.png)è¿™æ ·çš„å·¨å¤´ï¼Œå°å‹ç½‘ç«™å¯¹è¯·æ±‚åº“å‘å‡ºçš„è¯·æ±‚è¿”å› 403ï¼Œè€Œ axios ä¼šè¿”å› 200ã€‚

Axios åœ¨å®é™…çš„ç½‘ç«™ä¸Šå¹¶ä¸å®Œç¾(æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œhttps://www.sugarandcharm.com ç”¨ä¸¤ä¸ªåº“è¿”å›äº† 404 ),ä½†è¿™æ˜¯ä¸€ä¸ªé‡å¤§çš„æ”¹è¿›ã€‚æˆ‘çœŸçš„è®¤ä¸ºåœ¨å¹•åï¼Œå®ƒä»¬éƒ½å°†ä½¿ç”¨ nodejs çš„ http èƒ½åŠ›ï¼Œå¹¶ä¸”çœŸçš„æ›´åƒä¸­é—´ä»¶ã€‚è¿™ä¸¤è€…ä¹‹é—´æ˜¾ç„¶æœ‰äº›ä¸åŒï¼Œä½†æˆ‘ä¸ç¡®å®šæ˜¯ä»€ä¹ˆã€‚

## [](#client-side-vs-server-side-http-requests)å®¢æˆ·ç«¯ vs æœåŠ¡å™¨ç«¯ http è¯·æ±‚

[![](../Images/502139c1075b84ae5936fc842bf689a5.png)T2ã€‘](https://i.giphy.com/media/tvGOBZKNEX0ac/giphy.gif)

åœ¨æˆ‘çš„æµ‹è¯•è¡¨æ˜è¿™äº›è¯·æ±‚ä¸ axios æ›´åŠ ä¸€è‡´ä¹‹åï¼Œæˆ‘åœ¨æˆ‘ä¸ºé“¾æ¥æ£€æŸ¥å™¨åˆ›å»ºçš„[ç”µå­åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨äº†å®ƒã€‚å®ƒç«‹å³å› ä¸€ä¸ª](https://github.com/aarmora/jordan-does-link-checking-electron/releases) [CORS é”™è¯¯](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors)è€Œå¤±è´¥ã€‚CORS é”™è¯¯æ˜¯æµè§ˆå™¨ç”¨æ¥ä¿æŠ¤ç”¨æˆ·å…å—æ¶æ„åŸŸåæ¬ºéª—çš„ä¸€ç§é”™è¯¯ã€‚å¦‚æœæˆ‘è¯•å›¾è°ƒç”¨ä¸€ä¸ªä¸æ˜¯å‘å‡ºè¯·æ±‚çš„åŸŸï¼Œå¹¶ä¸”æ¥æ”¶åŸŸä¹Ÿä¸æœŸå¾…å®ƒï¼Œæµè§ˆå™¨å°†é˜»æ­¢è¯¥è¯·æ±‚å‘ç”Ÿã€‚

é‡è¦çš„æ˜¯è¦è®¤è¯†åˆ°è¿™ä¸ª*åªå‘ç”Ÿåœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¸Šã€‚æµè§ˆå™¨æ˜¯å®æ–½è¿™ä¸€ç‚¹çš„å·¥å…·ã€‚åœ¨ä½¿ç”¨è¯·æ±‚åº“æ—¶ï¼Œæˆ‘ä»æœªé‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒè°ƒç”¨ nodejs è„šæœ¬ï¼Œç„¶å nodejs è„šæœ¬é€šè¿‡æœåŠ¡å™¨ç«¯è¯·æ±‚æ‰§è¡Œè¯·æ±‚ï¼Œè€Œä¸åˆ©ç”¨æµè§ˆå™¨ã€‚*

Axios æ˜¾ç„¶é»˜è®¤ä½¿ç”¨æµè§ˆå™¨ï¼Œå¦‚æœå®ƒå¯ç”¨è€Œ request ä¸å¯ç”¨çš„è¯ã€‚å› ä¸ºæˆ‘çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘åªæ˜¯ç¦ç”¨äº†ç”µå­åº”ç”¨ç¨‹åºä¸­çš„ç½‘ç»œå®‰å…¨ï¼Œç„¶åè¯·æ±‚å¼€å§‹å‘¼å«ï¼Œæ²¡æœ‰é—®é¢˜ã€‚

```
 win = new BrowserWindow({
    x: 0,
    y: 0,
    width: size.width,
    height: size.height,
    webPreferences: {
      nodeIntegration: true,
      webSecurity: false // This is what I added to the electron set up
    },
  }); 
```

ä¹Ÿè®¸è¿™ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ä¹Ÿæ˜¯å½“ request ä¸èƒ½æˆåŠŸè°ƒç”¨æ—¶ï¼Œaxios å¯ä»¥æˆåŠŸè°ƒç”¨çš„åŸå› ã€‚ä¸ç®¡æ˜¯ä»€ä¹ˆåŸå› ï¼Œaxios å·²ç»è¢«è¯æ˜æ›´å¯é ï¼Œè¿™æ˜¯æˆ‘å°†æ¥ä¼šä½¿ç”¨çš„ã€‚

å¸–å­ [Jordan ä½¿ä»–çš„ HTTP è¯·æ±‚æ›´åŠ ä¸€è‡´](https://javascriptwebscrapingguy.com/jordan-makes-his-http-requests-more-consistent/)é¦–å…ˆå‡ºç°åœ¨ [JavaScript Web Scraping Guy](https://javascriptwebscrapingguy.com) ä¸Šã€‚