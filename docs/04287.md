# TypeScript ä¸­è”åˆå’Œç±»å‹ä¿æŠ¤çš„å¨åŠ›ğŸ¤¯

> åŸæ–‡:[https://dev . to/pauloedurezende/the-power of-union-and-type-guard-in-typescript-1 AMG](https://dev.to/pauloedurezende/the-power-of-union-and-type-guard-in-typescript-1amg)

åœ¨ TypeScript çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæ¯”ä½ æƒ³è±¡çš„æ›´èªæ˜çš„å±æ€§ï¼Œè¿™ä¸¤ä¸ªå±æ€§æ˜¯`Union Types`å’Œ`Type Guards`,æˆ‘ä¼šç¨å¾®è°ˆä¸€ä¸‹ä¸‹é¢çš„å†…å®¹

## [](#union-types)**å·¥ä¼šç±»å‹**

åœ¨ javascript å¼€å‘ä¸­ï¼Œæœ‰äº›æ—¶å€™æ‚¨å¿…é¡»å¤„ç†å‚æ•°æˆ–å˜é‡ä¸­çš„ä¸¤ç§æˆ–å¤šç§ä¿¡æ¯ï¼Œè¿™å°±æ˜¯`union types`å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªå®¶ä¼™å°†æ‰§è¡Œæˆ‘ä»¬ä¼ é€’ç»™ä»–çš„ç±»å‹çš„ç†è®ºåˆå¹¶ï¼Œä¸ºäº†å£°æ˜ä¸€ä¸ªç±»å‹è”åˆï¼Œæˆ‘ä»¬ä½¿ç”¨ç®¡é“å­—ç¬¦ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º

```
// Variable
let myWonderfulVariable: number | string;

// Function
const myFunction = (info: string | number): void => {} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯å¦‚æœä½ è®¤ä¸ºä½ åªæ˜¯å®šä¹‰äº†ä½ æƒ³è¦çš„ç±»å‹ï¼Œç„¶åå°±ä¸ç”¨äº†ï¼Œé‚£ä½ å°±é”™äº†ã€‚åœ¨å¹•åï¼ŒTypeScript å°†å¯¹æ‚¨è¾“å…¥çš„ç±»å‹è¿›è¡ŒéªŒè¯ï¼Œå¹¶ä¸”åªæä¾›**å·²çŸ¥ç±»å‹ä¸­å¸¸è§çš„**æ–¹æ³•ï¼Œè®©æˆ‘ä»¬ä»¥ä¸Šé¢çš„å‡½æ•°ä¸ºä¾‹...

[![Union of common methods performed by TypeScript](img/736ac70d795561623a9957549d9a08d8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Zg9hMtf3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/9f84ghd7i94e17xg937r.png)

è¿™åŒæ ·é€‚ç”¨äºæ‚¨å¯èƒ½æ‹¥æœ‰çš„ä»»ä½•æ¥å£æˆ–ç±»å‹...

[![Union of common methods performed by TypeScript when using Interface or Type](img/a259e076972430d26151fdc6f5761e24.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--wsTxJbSz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/6yqd35sslna4biv9omog.png)

## [](#type-guards)**å‹è¿‘å«**

ç›´æ¥æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è¯´`type guards`å…è®¸æ‚¨å°†å†…å®¹çš„ç±»å‹é™åˆ¶åˆ°ä¸€ä¸ªæ¡ä»¶å—ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›æ“ä½œç¬¦æ¥æ‰§è¡Œè¿™äº›æ£€æŸ¥ï¼Œæˆ‘å°†åœ¨ä¸‹é¢è¿›è¡Œè¯„è®º

### [](#typeof)**ç±»å‹**

å®ƒå…è®¸æ‚¨æ ¹æ®æˆ‘ä»¬æ‹¥æœ‰çš„åŸå§‹ç±»å‹è¿›è¡ŒéªŒè¯ï¼Œå³:æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å’Œç¬¦å·

```
const myFunction = (x: number | string): void => {
  if (typeof x === 'number') {
    console.log('The variable X it\'s like a number')
  }

  if (typeof x === 'string') {
    console.log('The variable X it\'s like a string')
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯ç°åœ¨ä½ å¯èƒ½æƒ³çŸ¥é“ï¼Œä¸ºä»€ä¹ˆ typeof åªé€‚ç”¨äºæˆ‘ä¸Šé¢æåˆ°çš„åŸå§‹å€¼ï¼Ÿçœ‹çœ‹è¿™ä¸ª...

[![types of an array, object and null](img/0c20d6d89751a8a85ad200b2279ae3cd.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--KC47oQgl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/sc1nf4ot6h7yybidygxf.png)

å½“æ‚¨å°è¯•æ¯”è¾ƒæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼æˆ–ç¬¦å·ä¹‹å¤–çš„ä¸œè¥¿æ—¶ï¼ŒJavaScript æœ€ç»ˆä¼šå°†å…¶ä½œä¸ºå¯¹è±¡è¿”å›ğŸ™ƒ

### [](#instanceof)**å®ä¾‹**

å®ƒå…è®¸ä½ å¯¹é€šè¿‡æ„é€ å‡½æ•°
åˆ›å»ºçš„ä»»ä½•å˜é‡è¿›è¡Œæ£€æŸ¥

```
class Company {
  companyName: string;
  companyAddress: string;
  location: {
    lat: number;
    lng: number
  }
}

class User {
  userName: string;
  userAddress: string;
  location: {
    lat: number;
    lng: number
  }
}

const myFunction = (x: Company | User): void => {
  if (x instanceof Company) {
    console.log('The variable X it\'s a instance of Company')
  }

  if (x instanceof User) {
    console.log('The variable X it\'s a instance of Company')
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#in)**ä¸­çš„**

æ£€æŸ¥ç»™å®šä¸Šä¸‹æ–‡
ä¸­æ˜¯å¦å­˜åœ¨å±æ€§

```
interface Company {
  companyName: string;
}

interface User {
  userName: string;
}

const myFunction = (x: Company | User): void => {
  if ('companyName' in x) {
    console.log('The `companyName` exists on variable X')
  }

  if ('userName' in x) {
    console.log('The `userName` exists on variable X')
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#references)**å‚è€ƒæ–‡çŒ®**

å¦‚æœæ‚¨å–œæ¬¢è¿™ä¸ªä¸»é¢˜å¹¶æƒ³æ›´æ·±å…¥åœ°ç ”ç©¶ï¼Œæˆ‘æ¨èä¸€äº›èµ„æºï¼Œä¸ä»…å¯ä»¥æ›´æ·±å…¥åœ°ç ”ç©¶è¿™é‡Œçš„ä¸»é¢˜ï¼Œè¿˜å¯ä»¥ä»æ•´ä½“ä¸Šç ”ç©¶ TypeScript:

*   [æ‰“å­—ç¨¿æ·±åº¦é©±åŠ¨](https://basarat.gitbooks.io/typescript/content/)
*   [æ‰“å­—ç¨¿:å®Œæ•´çš„å¼€å‘è€…æŒ‡å—](https://www.udemy.com/typescript-the-complete-developers-guide/)
*   [æ‰“å­—ç¨¿æ–‡æ¡£:é«˜çº§ç±»å‹](https://www.typescriptlang.org/docs/handbook/advanced-types.html)

* * *

ä»Šå¤©çš„å†…å®¹åŸºäºæˆ‘å­¦ä¹  TypeScript çš„å†ç¨‹ï¼Œä¹Ÿæ˜¯æˆ‘åœ¨è¿™é‡Œçš„ç¬¬ä¸€ç¯‡æ–‡ç« ğŸ‰ï¼Œå¦‚æœä½ æƒ³ç»™æˆ‘åé¦ˆï¼Œè¯·åœ¨ twitter ä¸Šå…³æ³¨æˆ‘( [@pauloedurezende](https://dev.to/pauloedurezende) )ğŸ¤—)