# Firebase èº«ä»½éªŒè¯å…¥é—¨

> åŸæ–‡:[https://dev . to/terabytetiger/getting-started-with-firebase-authentic ation-2bg 7](https://dev.to/terabytetiger/getting-started-with-firebase-authentication-2bg7)

*æ³¨æ„:æˆ‘ä¸æ˜¯ Firebase çš„é™„å±å…¬å¸*

## [](#what-is-firebase)ä»€ä¹ˆæ˜¯ Firebaseï¼Ÿ

Firebase æ˜¯è°·æ­Œæä¾›çš„ä¸€ç³»åˆ—å·¥å…·ï¼ŒåŒ…æ‹¬äº‘æ•°æ®åº“ã€è®¤è¯ã€æ‰˜ç®¡å’Œç”¨äºç½‘ç»œå’Œç§»åŠ¨åº”ç”¨çš„æ— æœåŠ¡å™¨åŠŸèƒ½ã€‚Firebase çš„å¸å¼•åŠ›ä¹‹ä¸€æ˜¯èƒ½å¤Ÿå¼€å§‹ä½¿ç”¨å…è´¹å±‚è®¡åˆ’ï¼Œå¹¶ä¸”åªéœ€è¦åœ¨æ‚¨çš„é¡¹ç›®è¾¾åˆ°ä¸€å®šçš„ä½¿ç”¨æ¬¡æ•°æ—¶ä»˜è´¹ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»è®¤è¯å·¥ä½œçš„åŸºç¡€ã€‚

## [](#creating-a-project)åˆ›å»ºé¡¹ç›®

â€œé¡¹ç›®â€æ˜¯æŒ‡ä½ çš„ç½‘ç«™/åº”ç”¨ç¨‹åºå’Œè¿æ¥åˆ° Firebase çš„æœåŠ¡ã€‚ä»[firebase.google.com](https://firebase.google.com)ï¼Œä½ å¯ä»¥ç™»å½•(å³ä¸Šè§’)å¹¶ç‚¹å‡»â€œè½¬åˆ°æ§åˆ¶å°â€(ä¹Ÿåœ¨å³ä¸Šè§’)ã€‚

### [](#the-console)æ§åˆ¶å°

æ§åˆ¶å°æ˜¯æ‰€æœ‰é¡¹ç›®æ‰€åœ¨çš„åœ°æ–¹ã€‚å°†é¡¹ç›®æ·»åŠ åˆ°æ‚¨çš„å¸æˆ·åï¼Œå®ƒä»¬å°†å‡ºç°åœ¨æ­¤å¤„ã€‚é€‰æ‹©ä¸€ä¸ªé¡¹ç›®å¡ä¼šå°†æ‚¨å¸¦åˆ°è¯¥é¡¹ç›®çš„ä»ªè¡¨æ¿ï¼Œåœ¨é‚£é‡Œæ‚¨å¯ä»¥è°ƒæ•´é¡¹ç›®çš„è®¾ç½®ã€‚

### [](#add-a-project)æ·»åŠ é¡¹ç›®

æ·»åŠ é¡¹ç›®æ˜¯ä¸€ä¸ªéå¸¸å¿«é€Ÿçš„è¿‡ç¨‹ã€‚ç‚¹å‡»â€œæ·»åŠ é¡¹ç›®â€å¡ï¼Œæ·»åŠ æ‚¨çš„é¡¹ç›®åç§°ï¼Œæ ¹æ®éœ€è¦è°ƒæ•´ä½ç½®ï¼Œå¹¶æ¥å—æ¡æ¬¾å’Œæ¡ä»¶(å½“ç„¶æ˜¯åœ¨é˜…è¯»å®Œä¹‹å)â€”â€”å°±è¿™æ ·ï¼

[!["Add a Project Card"](../Images/74cabb99f3ac3ac9b2796320d1c73ca6.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Lz4JteYn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/5nddfohh5j9l2dst9v0b.PNG)

### [](#a-note-on-free-projects)å…³äºè‡ªç”±é¡¹ç›®çš„è¯´æ˜

è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ—¶æœºæ¥æåŠæ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±çš„è®¡åˆ’ï¼Œæ‰€ä»¥ä½ ä¸å¿…æ‹…å¿ƒä½ çš„é¡¹ç›®ä¼šè¶…è¿‡è‡ªç”±å±‚çš„é™åˆ¶(å°½ç®¡è‡ªç”±é¡¹ç›®çš„æ•°é‡æ˜¯æœ‰é™åˆ¶çš„- [æ›´å¤šç»†èŠ‚](https://firebase.google.com/support/faq))ã€‚

## [](#connecting-our-webpage)è¿æ¥æˆ‘ä»¬çš„ç½‘é¡µ

åœ¨ä½¿ç”¨ Firebase çš„æœåŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨é¡µé¢å’Œ Firebase ä¹‹é—´åˆ›å»ºä¸€ä¸ªé“¾æ¥ã€‚ä¸ºæ­¤ï¼Œè¯·å•å‡»çœ‹èµ·æ¥åƒ html ç»“æŸæ ‡è®°çš„å›¾æ ‡(å·¦èµ·ç¬¬ä¸‰ä¸ªç™½è‰²èƒŒæ™¯å›¾æ ‡):

[!["Firebase list of compatible platforms"](../Images/79d91326678444736264647ccee38ae5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--JNj9GJCL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/0apq3izkgnkx9p0tktqv.PNG)

åœ¨è¿™é‡Œï¼Œæ‚¨å°†æ·»åŠ æ‚¨çš„åº”ç”¨ç¨‹åºçš„æ˜µç§°(è¿™å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿)ï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸»æœº(é€šè¿‡ Firebase éƒ¨ç½²æ‚¨çš„ç½‘ç«™-æˆ‘ä¸ä¼šåœ¨æœ¬æ–‡ä¸­æ¶‰åŠä¸»æœºï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰é€‰ä¸­å®ƒ)ã€‚

ä¸€æ—¦ä½ ç‚¹å‡»â€œæ³¨å†Œåº”ç”¨ç¨‹åºâ€ï¼Œä½ å°†ä¼šå¾—åˆ°ä¸€ä¸ª HTML ä»£ç å—å’Œæ·»åŠ åˆ°ä½ çš„`<body>`æœ«å°¾çš„æŒ‡ä»¤(ä½†æ˜¯åœ¨å°è¯•ä½¿ç”¨ Firebase ä¹‹å‰)ã€‚

æˆ‘å°†æŠŠå®ƒæ·»åŠ åˆ°ä¸€ä¸ªæ ·æ¿ HTML æ–‡ä»¶(`index.html`):

**æ³¨æ„ï¼Œæ‚¨éœ€è¦æ·»åŠ æä¾›çš„ firebaseConfig å¯¹è±¡å€¼**

```
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Firebase Example</title>
</head>
<body>
  <div id="firebaseui-auth-container">
    <!-- This is where the Login ui will load -->
  </div>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
https://firebase.google.com/docs/web/setup#config-web-app -->
  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-auth.js"></script>
<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    REPLACE THIS WITH THE CODE PROVIDED BY FIREBASE
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
</body>
</html> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#a-brief-breakdown)çŸ­æš‚çš„å´©æºƒ

è¿™ä¸ªå—åŠ è½½ Firebaseï¼Œç±»ä¼¼äºæ‚¨æ›¾ç»ä½¿ç”¨è¿‡ jQuery çš„æƒ…å†µã€‚

```
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯¥å—å°†è¢«æ‚¨å¸Œæœ›é¡µé¢åŠ è½½çš„å…¶ä»–æœåŠ¡æ‰€æ›¿æ¢ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨åŠ è½½è®¤è¯æœåŠ¡:

```
<!-- TODO: Add SDKs for Firebase products that you want to use
https://firebase.google.com/docs/web/setup#config-web-app -->
<script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-auth.js"></script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æœ€åï¼Œè¿™ä¸ªå—å‘ Firebase æä¾›ç»†èŠ‚ï¼Œåˆ›å»ºä¸€ä¸ªåˆ°é¡¹ç›®çš„è¿æ¥ã€‚è¿™å°±åƒç»™ä½ çš„æœ‹å‹æ‰“ç”µè¯ï¼Œç„¶åç­‰ä»–ä»¬å›ç­”ã€‚ä¸€æ—¦ä»–ä»¬å›ç­”äº†ï¼Œä½ å°±å¯ä»¥è¯´å¾—ä»–ä»¬è€³æœµéƒ½æ‰äº†ï¼

```
<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    REPLACE THIS WITH THE CODE PROVIDED BY FIREBASE
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

* * *

ç°åœ¨æˆ‘ä»¬å·²ç»åˆ›å»ºäº†é¡¹ç›®ï¼Œè®©æˆ‘ä»¬æ·»åŠ èº«ä»½éªŒè¯ã€‚

## [](#authentication)è®¤è¯

è®¸å¤šåº”ç”¨ç¨‹åºå¸Œæœ›åˆ©ç”¨è®¤è¯ç³»ç»Ÿçš„åŠ›é‡ï¼Œä½†è¯•å›¾ç†æ¸…ä¸å„ç§æœåŠ¡çš„è¿æ¥*å’Œ*å…è®¸ç”µå­é‚®ä»¶ç™»å½•å¯èƒ½éœ€è¦å¤§é‡å·¥ä½œã€‚ä»¤äººæ¬£æ…°çš„æ˜¯ï¼ŒFirebase è®©æ‚¨å¯ä»¥è½»æ¾åœ°ä»ä¸€é¡¹æœåŠ¡å¼€å§‹ï¼Œå¹¶éšç€æ—¶é—´çš„æ¨ç§»æ·»åŠ å…¶ä»–æœåŠ¡ã€‚

### [](#enable-authentication)å¯ç”¨è®¤è¯

è¦å¯ç”¨èº«ä»½éªŒè¯ï¼Œè¯·å•å‡»èº«ä»½éªŒè¯å¡æˆ–ä»å·¦ä¾§å¯¼èˆªæ ä¸­é€‰æ‹©â€œèº«ä»½éªŒè¯â€ï¼Œç„¶ååœ¨é¡µé¢åŠ è½½åé€‰æ‹©â€œè®¾ç½®ç™»å½•æ–¹æ³•â€ã€‚æ‚¨å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®å¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿç™»å½•çš„æä¾›å•†ã€‚

[!["Authentication Card linking to Authentication configuration page"](../Images/9bb15fee4f67bb840c866cceb49fd649.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--75-A4dUr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/26cqysfdcw94fs3n0md0.PNG)

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†æ¶‰åŠç”µå­é‚®ä»¶/å¯†ç å’Œè°·æ­Œï¼Œå› ä¸ºè¿™æ˜¯æˆ‘è¿‡å»ç”¨è¿‡çš„ä¸¤ä¸ªé€‰é¡¹ã€‚

#### [](#emailpassword)é‚®ç®±/å¯†ç 

æœ€åŸºæœ¬çš„ç™»å½•é€‰é¡¹ï¼Œè¿™å…è®¸ç”¨æˆ·ä½¿ç”¨ä»–ä»¬çš„ç”µå­é‚®ä»¶/å¯†ç æ¥æ³¨å†Œ/ç™»å½•ã€‚å¯ç”¨æ­¤åŠŸèƒ½å°±åƒåœ¨ç™»å½•æä¾›å•†åˆ—è¡¨ä¸­ç‚¹å‡»â€œç”µå­é‚®ä»¶/å¯†ç â€åï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ªåˆ‡æ¢å¼€å…³ï¼Œç„¶åç‚¹å‡»â€œä¿å­˜â€ä¸€æ ·ç®€å•ã€‚

[!["Setup Email Address Config within Authentication page."](../Images/cc53e9d4371b1bc574f084305eb7c7e0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--lHNiR7Or--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/olj7eq07bcnb1vkot7yt.PNG)

#### [](#google-sign-in)è°·æ­Œç­¾åˆ°

è¿™å°†å…è®¸ç”¨æˆ·ä½¿ç”¨ä»–ä»¬çš„ Google å¸æˆ·ç™»å½•(ç±»ä¼¼äºæ‚¨ç™»å½• Firebase çš„æ–¹å¼)ã€‚ç±»ä¼¼äºç”µå­é‚®ä»¶/å¯†ç ï¼Œæ‚¨å¯ä»¥å°†å¯ç”¨å¼€å…³åˆ‡æ¢åˆ°â€œå¯ç”¨â€ï¼Œä½†è¿™é‡Œæœ‰ä¸€ä¸ªé¢å¤–çš„æ­¥éª¤ã€‚æ‚¨éœ€è¦æ·»åŠ ä¸€ä¸ªæ”¯æŒç”µå­é‚®ä»¶ï¼Œå®ƒéœ€è¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ Gmail å¸æˆ·ã€‚è¿™æ˜¯ä¸ºäº†è®©ç”¨æˆ·åœ¨éœ€è¦æ—¶æäº¤æ”¯æŒç”µå­é‚®ä»¶ã€‚

[!["Google login config setup. Email address redacted."](../Images/23677bbb268455d203a3060f630f7ce5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QMhD4mbt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/lzr3hi15uvrr9l2qaf3n.PNG)

#### [](#other-options)å…¶ä»–é€‰é¡¹

å¯¹äºå¤–éƒ¨æœåŠ¡ï¼Œæœ‰å…³è¿æ¥åˆ°æä¾›å•†çš„è¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨ç›¸åº”çš„æ–‡æ¡£ä¸­æ‰¾åˆ°(æ­¤å¤„é“¾æ¥):

*   [è„¸ä¹¦](https://firebase.google.com/docs/auth/web/facebook-login)
*   [æ¨ç‰¹](https://firebase.google.com/docs/auth/web/twitter-login)
*   [GitHub](https://firebase.google.com/docs/auth/web/github-auth)
*   [å¾®è½¯](https://firebase.google.com/docs/auth/web/microsoft-oauth)
*   é›…è™
*   [ç”µè¯å·ç ](https://firebase.google.com/docs/auth/web/phone-auth)

## [](#authentication-ui)è®¤è¯ç•Œé¢

ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸ Firebase å¯¹è¯çš„è¿æ¥è®¾ç½®ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç”¨æˆ·æ·»åŠ æ¥å£ã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†ä½¿ç”¨ [Firebase UI](https://github.com/firebase/firebaseui-web) ï¼Œå…¶ä¸­åŒ…æ‹¬æ·»åŠ ä»¥ä¸‹å†…å®¹:

```
 // ...
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <!-- Firebase UI -->
+    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
+    <link
+      type="text/css"
+      rel="stylesheet"
+      href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css"
+    />    
+    <script src="./auth.js"></script>
  </body>
</html> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™äº›æ·»åŠ å°†åŠ è½½æˆ‘ä»¬éœ€è¦çš„ Firebase UI ä¿¡æ¯ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å‘Šè¯‰å®ƒä½¿ç”¨ä»€ä¹ˆé…ç½®(è¿™å°±æ˜¯`auth.js`æ–‡ä»¶çš„ç”¨å¤„)ã€‚

### [T1ã€‘auth . js](#authjs)

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸æˆ‘ä»¬çš„`index.html`æ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸­åˆ›å»º`auth.js`ã€‚

åœ¨`auth.js`ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä»¥ä¸‹å†…å®¹:

```
// 1) Create a new firebaseui.auth instance stored to our local variable ui
const ui = new firebaseui.auth.AuthUI(firebase.auth());

// 2) These are our configurations.
const uiConfig = {
  callbacks: {
    signInSuccessWithAuthResult(authResult, redirectUrl) {
      return true;
    },
    uiShown() {
      document.getElementById('loader').style.display = 'none';
    },
  },
  signInFlow: 'popup',
  signInSuccessUrl: 'signedIn',
  signInOptions: [
    firebase.auth.EmailAuthProvider.PROVIDER_ID,
    firebase.auth.GoogleAuthProvider.PROVIDER_ID,
    // Additional login options should be listed here
    // once they are enabled within the console.
  ],
};

// 3) Call the 'start' method on our ui class
// including our configuration options. 
ui.start('#firebaseui-auth-container', uiConfig); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œå¦‚æœæ‚¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ‚¨çš„`index.html`æ–‡ä»¶ï¼Œæ‚¨åº”è¯¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°ä»¥ä¸‹å†…å®¹:

[!["Buttons on page for logging in with email or google account."](../Images/c012a106d6f50b8dcc6054d99279e178.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--986I7iar--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/aewcmkoizxqwjxlus4o1.PNG)

ğŸ‰æ­å–œä½ ã€‚æ‚¨å·²ç»æœ‰äº†ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„èº«ä»½éªŒè¯ UIï¼(è™½ç„¶åœ¨æœåŠ¡å™¨ä¸Šæ‰èƒ½ç”¨ï¼›ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä¹‹å‰é…ç½®äº† firebase ä¸»æœº)

## ![GitHub logo](../Images/75095a8afc1e0f207cda715962e75c8d.png)[TB tetiger](https://github.com/TerabyteTiger)/[firebaseâ€”â€”ä¸¾ä¾‹](https://github.com/TerabyteTiger/firebase-example)

<article class="markdown-body entry-content container-lg" itemprop="text">

# fire base-ç¤ºä¾‹

</article>

[View on GitHub](https://github.com/TerabyteTiger/firebase-example)