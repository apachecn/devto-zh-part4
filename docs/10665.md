# å»æ— å»ºç­‘

> åŸæ–‡ï¼š<https://dev.to/open-wc/on-the-bleeding-edge-3cb8>

# ä¸æ˜ä¸ç™½

å¤§å®¶å¥½ğŸ‘‹

æˆ‘åœ¨å¼‚åœ°æ‹ï¼Œè¿™æ„å‘³ç€æ¯éš”å‡ å‘¨æˆ‘å°±è¦åé£æœºå»è‹±å›½ã€‚æ¯æ¬¡æˆ‘åœ¨é£æœºä¸Šçš„æ—¶å€™ï¼Œæˆ‘éƒ½ä¼šæƒ³å¦‚æœèƒ½è¯»ä¸€äº› reddit ä¸Šçš„å¸–å­è¯¥æœ‰å¤šå¥½ã€‚æˆ‘å¯ä»¥åšçš„æ˜¯æ‰¾åˆ°ä¸€ä¸ª reddit åº”ç”¨ç¨‹åºï¼Œè®©ä½ ç¼“å­˜ç¦»çº¿å‘å¸ƒçš„å¸–å­(æˆ‘è‚¯å®šæœ‰ä¸€ä¸ª)ï¼Œ*æˆ–*æˆ‘å¯ä»¥å€Ÿæ­¤æœºä¼šè‡ªå·±å†™ç‚¹ä¸œè¥¿ï¼Œä½¿ç”¨ä¸€äº›æœ€æ–°æœ€æ£’çš„æŠ€æœ¯å’Œç½‘ç»œæ ‡å‡†ï¼Œæ‰¾ç‚¹ä¹å­ï¼

æœ€é‡è¦çš„æ˜¯ï¼Œæœ€è¿‘æœ‰å¾ˆå¤šå…³äºæˆ‘å–œæ¬¢ç§°ä¹‹ä¸ºâ€œæ— æ„å»ºâ€çš„è®¨è®ºï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªéå¸¸è¿·äººå’Œä¼Ÿå¤§çš„æœ€æ–°å‘å±•ã€‚è¿™ä¹Ÿæ­£æ˜¯è¿™ç¯‡æ–‡ç« çš„å†…å®¹ï¼›ç»™å‘å±•å¸¦æ¥ä¹è¶£ã€‚

æˆ‘ä¹Ÿå–œæ¬¢æŠŠè¿™ç¯‡åšå®¢æƒ³è±¡æˆå¯¹ç¤¾åŒºä¸­ä¸€äº›çœŸæ­£äº†ä¸èµ·çš„äººçš„æ•¬æ„ï¼Œä»–ä»¬ä½¿ä¸€äº›çœŸæ­£äº†ä¸èµ·çš„äº‹æƒ…æˆä¸ºå¯èƒ½ï¼Œä¹Ÿæ˜¯ä¸€äº›ä»¤äººå…´å¥‹çš„æ–°æŠ€æœ¯å’Œæ ‡å‡†çš„å±•ç¤ºï¼Œéšç€æˆ‘ä»¬çš„å‘å±•ï¼Œæˆ‘å°†é“¾æ¥åˆ°æ‰€æœ‰è¿™äº›å¥½ä¸œè¥¿ã€‚

è¯·æ³¨æ„ï¼Œè¿™ä¸ä¼šæ˜¯ä¸€ä¸ªå¾ªåºæ¸è¿›çš„æ•™ç¨‹ï¼Œä½†å¦‚æœæ‚¨æƒ³æŸ¥çœ‹ä»£ç ï¼Œå¯ä»¥åœ¨ [github](https://github.com/thepassle/reddit-pwa) ä¸Šæ‰¾åˆ°å®Œæˆçš„é¡¹ç›®ã€‚æˆ‘ä»¬çš„æœ€ç»ˆç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„:
[![app](img/a69a15c0ce85b00502dc46b3acb56205.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--g1qGxggR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/thepassle/reddit-pwa/master/blog/app.png)

æ‰€ä»¥è®©æˆ‘ä»¬ç›´å…¥ä¸»é¢˜ï¼Œå¿«é€Ÿå®‰è£…*å‡ ä¸ª*ä¾èµ–é¡¹:

```
npm i @babel/core babel-loader @babel/preset-env @babel/preset-react webpack webpack-cli react react-dom redux react-redux html-webpack-plugin are-you-tired-yet html-loader webpack-dev-server 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘å¼€ç©ç¬‘çš„ã€‚æˆ‘ä»¬ä¸ä¼šç”¨è¿™äº›çš„ã€‚æˆ‘ä»¬å°†åŠªåŠ›é¿å…å°½å¯èƒ½å¤šçš„å·¥å…·/ä¾èµ–ï¼Œå¹¶ä¿æŒè¾ƒä½çš„å‡†å…¥é—¨æ§›ã€‚

æˆ‘ä»¬*å°†*ä½¿ç”¨çš„æ˜¯:

*   å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ LitElement ä½œä¸ºæˆ‘ä»¬çš„ç»„ä»¶æ¨¡å‹ã€‚å®ƒæ˜“äºä½¿ç”¨ï¼Œé‡é‡è½»ï¼Œæ¥è¿‘é‡‘å±ï¼Œå¹¶åˆ©ç”¨ web ç»„ä»¶ã€‚

*   [`@vaadin/router`](https://github.com/vaadin/vaadin-router)
    Vaadin è·¯ç”±å™¨æ˜¯ä¸€æ¬¾éå¸¸å°çš„(< 7kb)è·¯ç”±å™¨ï¼Œæ‹¥æœ‰*ä»¤äººæ•¬ç•çš„*å¼€å‘è€…ä½“éªŒï¼Œæˆ‘æ€ä¹ˆæ¨èéƒ½ä¸ä¸ºè¿‡ã€‚

*   [`snowpack`](https://github.com/pikapkg/snowpack)
    Snowpack å°†å¸®åŠ©æˆ‘ä»¬å°†æ¨¡å—ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿äºå¼€å‘ã€‚

*   [`es-dev-server`](https://open-wc.org/developing/es-dev-server.html)
    æˆ‘ä»¬åœ¨ [open-wc](https://www.open-wc.org) ä¸ºç°ä»£ web å¼€å‘å·¥ä½œæµåˆ¶ä½œçš„ç®€å•å¼€å‘æœåŠ¡å™¨ã€‚è™½ç„¶ä»»ä½• http æœåŠ¡å™¨éƒ½å¯ä»¥ï¼›è¯·éšæ„å¸¦ä½ è‡ªå·±çš„ã€‚

ä»…æ­¤è€Œå·²ã€‚æˆ‘ä»¬è¿˜å°†ä½¿ç”¨ä¸€äº›æµè§ˆå™¨æ ‡å‡†ï¼Œå³: [es æ¨¡å—](https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/)ã€ [web ç»„ä»¶](https://developer.mozilla.org/en-US/docs/Web/Web_Components)ã€[å¯¼å…¥-æ˜ å°„](https://github.com/WICG/import-maps)ã€[kv-å­˜å‚¨](https://github.com/WICG/kv-storage)å’Œ[æœåŠ¡äººå‘˜](https://developers.google.com/web/fundamentals/primers/service-workers/)ã€‚

æ‰€ä»¥è®©æˆ‘ä»¬ç»§ç»­å®‰è£…æˆ‘ä»¬çš„ä¾èµ–é¡¹:

```
npm i -S lit-element @vaadin/router
npm i -D snowpack es-dev-server 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¿˜å°†ä¸ºæˆ‘ä»¬çš„`package.json`æ·»åŠ ä¸€ä¸ª`postinstall`é’©å­ï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬è¿è¡Œ snow pack:

```
 "scripts":  {  "start":  "es-dev-server",  "prepare":  "snowpack"  } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ğŸ­é¼ å…”-ç§¯é›ªåœº

Pika æ˜¯ Fred K. Schott çš„ä¸€ä¸ªé¡¹ç›®ï¼Œæ—¨åœ¨å°† 2014 å¹´æ€€æ—§çš„ç®€å•æ€§å¸¦åˆ° 2019 å¹´çš„ç½‘ç»œå¼€å‘ä¸­ã€‚å¼—é›·å¾·æ­£åœ¨åšå„ç§å„æ ·ä»¤äººæ•¬ç•çš„äº‹æƒ…ï¼Œä¾‹å¦‚ï¼Œä»–åˆ¶ä½œäº† [pika.dev](https://www.pika.dev/) ï¼Œè®©ä½ å¯ä»¥åœ¨ npm ä¸Šè½»æ¾æœç´¢ç°ä»£ JavaScript åŒ…ã€‚ä»–æœ€è¿‘è¿˜åœ¨æé¾™åŒ–çŸ³ 2019 ä¸Šå‘è¡¨äº†ä»–çš„æ¼”è®²[é‡å¡‘æ³¨å†Œè¡¨](https://www.youtube.com/watch?v=2Wwx-lF5NhE)ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ è§‚çœ‹ã€‚

`snowpack`æ›´è¿›ä¸€æ­¥ã€‚å¦‚æœæˆ‘ä»¬è¿è¡Œ`snowpack`ï¼Œå®ƒä¼šå°†æˆ‘ä»¬çš„ä¾èµ–é¡¹ä½œä¸ºå•ä¸ª javascript æ–‡ä»¶å®‰è£…åˆ°ä¸€ä¸ªæ–°çš„`web_modules/`ç›®å½•ä¸­ã€‚å¦‚æœæ‚¨çš„ä¾èµ–é¡¹åœ¨å…¶`package.json`æ¸…å•ä¸­å¯¼å‡ºä¸€ä¸ª ESâ€œæ¨¡å—â€å…¥å£ç‚¹ï¼ŒSnowpack æ”¯æŒå®ƒã€‚å¦‚æœä½ æœ‰ä»»ä½•å¯ä¼ é€’çš„ä¾èµ–å…³ç³»ï¼ŒSnowpack å°†ä¸ºä½ çš„ä¾èµ–å…³ç³»ä¸­çš„ä»»ä½•å…±äº«ä»£ç åˆ›å»ºå•ç‹¬çš„å—ã€‚ç®€æ˜“æŸ æª¬æ¦¨æ±æœºã€‚å®ƒç”šè‡³æ”¯æŒ[æ ‘æ‘‡åŠ¨](https://twitter.com/pikapkg/status/1214693540938145792)ï¼

è¿™æ„å‘³ç€ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„è¾“å‡ºçœ‹èµ·æ¥åƒ:

```
â””â”€ web_modules/
   â”œâ”€ lit-element.js
   â””â”€ @vaadin
        â””â”€ router.js 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¤ªæ£’äº†ã€‚å°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†æˆ‘ä»¬çš„ä¾èµ–é¡¹ï¼Œä½œä¸ºå•ä¸ª javascript æ¨¡å—æ–‡ä»¶ï¼Œè¿™å°†ä½¿æˆ‘ä»¬åœ¨è¿™ç¯‡åšæ–‡çš„åé¢å˜å¾—éå¸¸æ–¹ä¾¿ï¼Œæ•¬è¯·å…³æ³¨ï¼

## ğŸ“¥å¯¼å…¥åœ°å›¾

å¥½å§ï¼ç°åœ¨æˆ‘ä»¬å·²ç»è§£å†³äº†ä¾èµ–å…³ç³»ï¼Œè®©æˆ‘ä»¬å¼€å§‹å·¥ä½œå§ã€‚æˆ‘ä»¬å°†åˆ¶ä½œä¸€ä¸ªç±»ä¼¼äºè¿™æ ·çš„`index.html`:

```
<html>
    <!-- head etc -->
    <body>
      <reddit-pwa-app></reddit-pwa-app>
      <script src="./src/reddit-pwa-app.js" type="module"></script>
    </body>
</html> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å’Œ`reddit-pwa-app.js` :

```
 import { LitElement, html } from 'lit-element';

class RedditPwaApp extends LitElement {

  // ...

  render() {
    return html`
      <h1>Hello world!</h1>
    `;
  }
}

customElements.define('reddit-pwa-app', RedditPwaApp); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚è®©æˆ‘ä»¬è¯•ç€çœ‹çœ‹ç›®å‰ä¸ºæ­¢åœ¨æµè§ˆå™¨ä¸­æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè®©æˆ‘ä»¬å¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶...è¿™æ˜¯ä»€ä¹ˆï¼Ÿä¸€ä¸ªé”™è¯¯ï¼Ÿ

[![error](img/deb2ab674181f63632217ff0c65ca799.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--UMsWtcxo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/thepassle/reddit-pwa/master/blog/bare-module-error.png)

å“¦å¤©å•Šã€‚

æˆ‘ä»¬ç”šè‡³è¿˜æ²¡æœ‰å¼€å§‹ã€‚å¥½å§ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ã€‚è¿™é‡Œçš„é—®é¢˜æ˜¯æˆ‘ä»¬çš„æ¨¡å—è¯´æ˜ç¬¦æ˜¯ç©ºçš„ã€‚ä»–ä»¬æ˜¯*è£¸æ¨¡å—è¯´æ˜ç¬¦*ã€‚è¿™æ„å‘³ç€æ²¡æœ‰æŒ‡å®šè·¯å¾„ï¼Œæ²¡æœ‰æ–‡ä»¶æ‰©å±•åï¼Œå®ƒä»¬åªæ˜¯...ç›¸å½“å…‰ç§ƒç§ƒçš„ã€‚æˆ‘ä»¬çš„æµè§ˆå™¨ä¸çŸ¥é“è¯¥æ€ä¹ˆåšï¼Œæ‰€ä»¥å®ƒä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚

> ```
> import { LitElement, html } from 'lit-element'; // <-- bare module specifier
> import { Router } from '@vaadin/router'; // <-- bare module specifier
> 
> import { foo } from './bar.js'; // <-- not bare!
> import { html } from 'https://unpkg.com/lit-html'; // <-- not bare! 
> ```

å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ­¤ä½¿ç”¨ä¸€äº›å·¥å…·ï¼Œæ¯”å¦‚ webpackï¼Œæˆ–è€… rollupï¼Œæˆ–è€…ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œå®ƒå¯ä»¥å°†è£¸æ¨¡å—è¯´æ˜ç¬¦é‡å†™ä¸ºå¯¹æµè§ˆå™¨æœ‰æ„ä¹‰çš„ä¸œè¥¿ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åŠ è½½æˆ‘ä»¬çš„å¯¼å…¥ã€‚ä½†è¿™æ„å‘³ç€æˆ‘ä»¬å¿…é¡»å¼•å…¥ä¸€å †å·¥å…·ï¼ŒæŠ•å…¥é…ç½®ï¼Œæˆ‘ä»¬è¯•å›¾åœ¨è¿™é‡Œä¿æŒæœ€å°åŒ–ã€‚æˆ‘ä»¬åªæƒ³å†™ä»£ç ï¼ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†çœ‹ä¸€çœ‹[å¯¼å…¥åœ°å›¾](https://github.com/WICG/import-maps)ã€‚

Import maps æ˜¯ä¸€ä¸ªæ–°æè®®ï¼Œå®ƒå…è®¸æ‚¨æ§åˆ¶ JavaScript å¯¼å…¥çš„è¡Œä¸ºã€‚ä½¿ç”¨å¯¼å…¥æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶ JavaScript `import`è¯­å¥å’Œ`import()`è¡¨è¾¾å¼è·å–å“ªäº› URLï¼Œå¹¶å…è®¸åœ¨éå¯¼å…¥ä¸Šä¸‹æ–‡ä¸­é‡ç”¨è¯¥æ˜ å°„ã€‚è¿™å¾ˆå¥½ï¼Œæœ‰å‡ ä¸ªåŸå› :

*   å…è®¸æˆ‘ä»¬çš„è£¸æ¨¡å—è¯´æ˜ç¬¦å·¥ä½œ
*   æä¾›ä¸€ä¸ªå›é€€è§£å†³æ–¹æ¡ˆï¼Œè¿™æ ·`import $ from "jquery";`å¯ä»¥å°è¯•å…ˆè¿›å…¥ä¸€ä¸ª CDNï¼Œä½†æ˜¯å¦‚æœ CDN æœåŠ¡å™¨å…³é—­äº†ï¼Œå°±é€€å›åˆ°ä¸€ä¸ªæœ¬åœ°ç‰ˆæœ¬
*   å¯ç”¨å¯¹[å†…ç½®æ¨¡å—](https://github.com/tc39/proposal-javascript-standard-library/)çš„å¤šé‡å¡«å……æˆ–å…¶ä»–æ§åˆ¶(ç¨åå°†è¯¦ç»†ä»‹ç»ï¼Œè¯·æŠ“ç´§ï¼)
*   è§£å†³äº†[åµŒå¥—ä¾èµ–é—®é¢˜](https://dev.to/open-wc/nested-dependencies-in-frontend-558c)(å»çœ‹çœ‹é‚£ä¸ªåšå®¢å§ï¼)

å¬èµ·æ¥å¾ˆç”œèœœï¼Œä¸æ˜¯å—ï¼Ÿå¯¼å…¥åœ°å›¾ç›®å‰åœ¨ Chrome 75+ä¸­å¯ç”¨ï¼Œåœ¨ä¸€é¢æ——å¸œåé¢ï¼Œè®°ä½è¿™äº›çŸ¥è¯†ï¼Œè®©æˆ‘ä»¬å»æˆ‘ä»¬çš„`index.html`ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªå¯¼å…¥åœ°å›¾åˆ°æˆ‘ä»¬çš„`<head>` :

```
 <head>
    <script type="importmap">
      {
        "imports": {
          "@vaadin/router": "/web_modules/@vaadin/router.js",
          "lit-element": "/web_modules/lit-element.js"
        }
      }
    </script>
  </head> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæˆ‘ä»¬è¿”å›æµè§ˆå™¨ï¼Œåˆ·æ–°é¡µé¢ï¼Œå°±ä¸ä¼šå†æœ‰é”™è¯¯äº†ï¼Œæˆ‘ä»¬åº”è¯¥ä¼šåœ¨å±å¹•ä¸Šçœ‹åˆ°æˆ‘ä»¬çš„`<h1>Hello world!</h1>`ã€‚

å¯¼å…¥åœ°å›¾æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„æ–°æ ‡å‡†ï¼Œç»å¯¹æ˜¯ä½ åº”è¯¥å…³æ³¨çš„ä¸œè¥¿ã€‚å¦‚æœä½ æœ‰å…´è¶£å°è¯•å®ƒä»¬ï¼Œå¹¶åŸºäºä¸€ä¸ª`yarn.lock`æ–‡ä»¶ç”Ÿæˆä½ è‡ªå·±çš„å¯¼å…¥åœ°å›¾ï¼Œä½ å¯ä»¥è¯•è¯•æˆ‘ä»¬çš„[open-WC](https://www.open-wc.org)[import-maps-generate](https://github.com/open-wc/open-wc/tree/master/packages/import-maps-generate)åŒ…ã€‚æˆ‘çœŸçš„å¾ˆå…´å¥‹çœ‹åˆ°äººä»¬å°†ç»“åˆè¿›å£åœ°å›¾å¼€å‘ä»€ä¹ˆã€‚

## ğŸ“¡æœåŠ¡è¡Œä¸šäººå‘˜

å¥½äº†ï¼Œæˆ‘ä»¬è¦ç¨å¾®æå‰ä¸€ç‚¹æ—¶é—´ã€‚æˆ‘ä»¬å·²ç»è®©æˆ‘ä»¬çš„ä¾èµ–é¡¹å·¥ä½œï¼Œæˆ‘ä»¬å·²ç»è®¾ç½®äº†æˆ‘ä»¬çš„è·¯ç”±å™¨ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸€äº› API è°ƒç”¨æ¥ä» reddit è·å–æ•°æ®ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨æˆ‘ä»¬çš„å±å¹•ä¸Šã€‚æŸ¥çœ‹æ‰€æœ‰ä»£ç æœ‰ç‚¹è¶…å‡ºäº†è¿™ç¯‡åšå®¢çš„èŒƒå›´ï¼Œä½†æ˜¯è¯·è®°ä½ï¼Œå¦‚æœæ‚¨æƒ³é˜…è¯»å®ç°ç»†èŠ‚ï¼Œæ‚¨å¯ä»¥åœ¨  ä¸­æ‰¾åˆ°æ‰€æœ‰ä»£ç ã€‚

å› ä¸ºæˆ‘ä»¬åˆ¶ä½œè¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯ä¸ºäº†åœ¨é£æœºä¸Šé˜…è¯» reddit å¸–å­ï¼Œå¦‚æœæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç¦»çº¿å·¥ä½œï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä»¥æŸç§æ–¹å¼ä¿å­˜ä¸€äº›å¸–å­æ¥é˜…è¯»ï¼Œé‚£å°±å¤ªå¥½äº†ã€‚

[![service worker](img/65740447c832f54d132058b438e54d09.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--PS9kEGdg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/thepassle/reddit-pwa/master/blog/service-worker.jpg)

æœåŠ¡å·¥ä½œè€…æ˜¯ä¸€ç§åœ¨åå°è¿è¡Œçš„ JavaScript å·¥ä½œè€…ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä½äºç½‘é¡µå’Œç½‘ç»œä¹‹é—´ã€‚æ¯å½“ä½ çš„ç½‘é¡µå‘å‡ºè¯·æ±‚æ—¶ï¼Œå®ƒé¦–å…ˆé€šè¿‡æœåŠ¡äººå‘˜ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ‹¦æˆªè¯·æ±‚ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¤„ç†ï¼æ¯”å¦‚è¯´ï¼›æˆ‘ä»¬å¯ä»¥è®©è¯·æ±‚é€šè¿‡ç½‘ç»œè·å¾—å“åº”ï¼Œå¹¶åœ¨å®ƒè¿”å›æ—¶ç¼“å­˜å®ƒï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨ä»¥åç¦»çº¿æ—¶ä½¿ç”¨ç¼“å­˜çš„æ•°æ®ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æœåŠ¡äººå‘˜æ¥é¢„å…ˆä¿ç®¡æˆ‘ä»¬çš„èµ„äº§ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é¢„å…ˆç¼“å­˜æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦çš„ä»»ä½•å…³é”®èµ„äº§ï¼Œä»¥ä¾¿è„±æœºå·¥ä½œã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰ç½‘ç»œè¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°è¿”å›åˆ°æˆ‘ä»¬ç¼“å­˜çš„èµ„äº§ï¼Œå¹¶ä¸”ä»ç„¶æœ‰ä¸€ä¸ªå·¥ä½œçš„(å°½ç®¡æ˜¯ç¦»çº¿çš„)åº”ç”¨ç¨‹åºã€‚

å¦‚æœä½ æœ‰å…´è¶£äº†è§£æ›´å¤šå…³äºæ¸è¿›å¼ç½‘ç»œåº”ç”¨å’ŒæœåŠ¡å·¥ä½œè€…çš„çŸ¥è¯†ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ é˜…è¯»ç”±[æ°å…‹Â·é˜¿å¥‡åšå°”å¾·](https://twitter.com/jaffathecake)æ’°å†™çš„[ç¦»çº¿é£Ÿè°±](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/)ã€‚ä»¥åŠè¿™ä¸ªè§†é¢‘æ•™ç¨‹[ç³»åˆ—](https://www.youtube.com/watch?v=GSSP5BxBnu0&list=PLIiQ4B5FSuphk6P-zg_E3W9zL3J22U4dT)ä½œè€… [Jad Joubran](https://twitter.com/JoubranJad) ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬ç»§ç»­å®ç°ä¸€ä¸ªæœåŠ¡å·¥ä½œè€…ã€‚åœ¨æˆ‘ä»¬çš„`index.html`ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä»¥ä¸‹ä»£ç ç‰‡æ®µ:

```
 <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').then(() => {
          console.log('ServiceWorker registered!');
        }, (err) => {
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    }
  </script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬è¿˜å°†æ·»åŠ ä¸€ä¸ª  æ–‡ä»¶åˆ°æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å³å°†é¢„ç¼“å­˜æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„èµ„äº§ï¼Œè¿™å°±æ˜¯ Snowpack è®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—éå¸¸ç®€å•çš„åœ°æ–¹ã€‚å¦‚æœä½ çœ‹ä¸€ä¸‹æœåŠ¡å·¥ä½œè€…æ–‡ä»¶ä¸­çš„å®‰è£…å¤„ç†ç¨‹åº:

```
self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHENAME).then((cache) => {
      return cache.addAll([
        '/',
        './web_modules/lit-element.js',
        './web_modules/@vaadin/router.js',
        './src/reddit-pwa-app.js',
        './src/reddit-pwa-comment.js',
        './src/reddit-pwa-search.js',
        './src/reddit-pwa-subreddit.js',
        './src/reddit-pwa-thread.js',
        './src/utils.js',
      ]);
    })
  );
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ ä¼šå‘ç°æˆ‘ä»¬å®Œå…¨æ§åˆ¶äº†æˆ‘ä»¬çš„èµ„äº§ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ï¼Œå¹²å‡€çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæˆ‘ä»¬éœ€è¦ç¦»çº¿å·¥ä½œã€‚

## ğŸ“´ç¦»çº¿

æ²¡é”™ã€‚æ—¢ç„¶æˆ‘ä»¬å·²ç»ç¼“å­˜äº†ç¦»çº¿å·¥ä½œçš„èµ„æºï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä¿å­˜ä¸€äº›å¯ä»¥ç¦»çº¿é˜…è¯»çš„æ–‡ç« ï¼Œé‚£å°±å¤ªå¥½äº†ã€‚é€šå¾€ç½—é©¬çš„é“è·¯æœ‰å¾ˆå¤šï¼Œä½†ç”±äºæˆ‘ä»¬æœ‰ç‚¹å¤„äºè¾¹ç¼˜ï¼Œæˆ‘ä»¬å°†é€‰æ‹©:Kv-å­˜å‚¨ï¼

### ğŸ“¦å†…ç½®æ¨¡å—

è¿™é‡Œæœ‰å‡ ä»¶äº‹è¦è¯´ä¸€ä¸‹ã€‚Kv-storage æ˜¯ä¸€ä¸ª [*å†…ç½®æ¨¡å—*](https://developers.google.com/web/updates/2019/03/kv-storage#what_are_built-in_modules) ã€‚å†…ç½®æ¨¡å—éå¸¸ç±»ä¼¼äºå¸¸è§„çš„ JavaScript æ¨¡å—ï¼Œé™¤äº†å®ƒä»¬æ˜¯æµè§ˆå™¨è‡ªå¸¦çš„ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶æµè§ˆå™¨è‡ªå¸¦å†…ç½®æ¨¡å—ï¼Œä½†å®ƒä»¬æ˜¯*è€Œä¸æ˜¯*åœ¨å…¨å±€èŒƒå›´å†…å…¬å¼€çš„ï¼Œå¹¶ä»¥`std:`å‘½å(æ˜¯çš„ï¼ŒçœŸçš„ã€‚).è¿™æœ‰å‡ ä¸ªä¼˜ç‚¹:å®ƒä»¬ä¸ä¼šå¢åŠ å¯åŠ¨æ–°çš„ JavaScript è¿è¡Œæ—¶ä¸Šä¸‹æ–‡çš„ä»»ä½•å¼€é”€(ä¾‹å¦‚ï¼Œæ–°çš„é€‰é¡¹å¡ã€å·¥ä½œå™¨æˆ–æœåŠ¡å·¥ä½œå™¨)ï¼Œå¹¶ä¸”å®ƒä»¬ä¸ä¼šæ¶ˆè€—ä»»ä½•å†…å­˜æˆ– CPUï¼Œé™¤éå®ƒä»¬è¢«å®é™…å¯¼å…¥ï¼Œå¹¶ä¸”é¿å…äº†ä¸ç°æœ‰ä»£ç çš„å‘½åå†²çªã€‚

å¦ä¸€ä¸ªæœ‰è¶£çš„ï¼Œå¦‚æœä¸æ˜¯æœ‰ç‚¹äº‰è®®çš„ï¼Œä½œä¸ºå†…ç½®æ¨¡å—çš„æè®®æ˜¯ [std-toast](https://github.com/jackbsteinberg/std-toast) å…ƒç´ å’Œ [std-switch](https://github.com/tkent-google/std-switch/blob/master/README.md) å…ƒç´ ã€‚

### ğŸ—ƒåƒä¼-å‚¨

å¥½äº†ï¼Œå…ˆä¸è¯´è¿™ä¸ªï¼Œè®©æˆ‘ä»¬æ¥è°ˆè°ˆ[kv-å­˜å‚¨](https://github.com/WICG/kv-storage)ã€‚Kv-storage(æˆ–â€œ*é”®å€¼*å­˜å‚¨â€)ä¸ localStorage éå¸¸ç›¸ä¼¼ï¼Œé™¤äº†ä¸€äº›**çš„ä¸»è¦åŒºåˆ«**ï¼Œå®ƒä½äº IndexedDB ä¹‹ä¸Šã€‚

kv-storage çš„åŠ¨æœºæ˜¯ localStorage æ˜¯åŒæ­¥çš„ï¼Œè¿™ä¼šå¯¼è‡´ç³Ÿç³•çš„æ€§èƒ½å’ŒåŒæ­¥é—®é¢˜ã€‚å®ƒè¿˜ä»…é™äºå­—ç¬¦ä¸²é”®/å€¼å¯¹ã€‚å¦ä¸€ç§æ–¹æ³• IndexedDb æ˜¯...[éš¾ç”¨](https://youtu.be/cmGr0RszHc8?t=1927)ã€‚å®ƒå¦‚æ­¤éš¾ä»¥ä½¿ç”¨çš„åŸå› æ˜¯å®ƒæ—©äºæ‰¿è¯ºï¼Œè¿™å¯¼è‡´äº†éå¸¸ç³Ÿç³•çš„å¼€å‘è€…ä½“éªŒã€‚ä¸å¥½ç©ã€‚ç„¶è€Œï¼ŒKv-storage éå¸¸æœ‰è¶£ï¼Œå¼‚æ­¥ã€*å’Œ*æ˜“äºä½¿ç”¨ï¼è€ƒè™‘ä¸‹é¢çš„ä¾‹å­:

```
import { storage, /* StorageArea */ } from "std:kv-storage";

(async () => {
  await storage.set("mycat", "Tom");
  console.log(await storage.get("mycat")); // Tom
})(); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•ä»`std:kv-storage`å¯¼å…¥çš„ï¼Ÿè¿™ä¸ªå¯¼å…¥è¯´æ˜ç¬¦ä¹Ÿæ˜¯ç©ºçš„ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹æ²¡å…³ç³»ï¼Œå› ä¸ºå®ƒå®é™…ä¸Šæ˜¯æµè§ˆå™¨é™„å¸¦çš„ã€‚

ç›¸å½“æ•´æ´ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå¥½åœ°ä½¿ç”¨å®ƒæ¥æ·»åŠ ä¸€ä¸ªâ€œç¦»çº¿ä¿å­˜â€æŒ‰é’®ï¼Œå¹¶ç®€å•åœ°å­˜å‚¨ reddit çº¿ç¨‹çš„ JSON æ•°æ®ï¼Œå¹¶åœ¨éœ€è¦æ—¶è·å–å®ƒã€‚

`reddit-pwa-thread.js:52` :

```
const savedPosts = new StorageArea("saved-posts");

// ...

async saveForOffline() {
  await savedPosts.set(this.location.params.id, this.thread); // id of the post + thread as json
  this.isPostSaved = true;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬ç‚¹å‡»â€œä¿å­˜ä»¥ä¾›è„±æœºä½¿ç”¨â€æŒ‰é’®ï¼Œè½¬åˆ°å¼€å‘äººå‘˜å·¥å…·çš„â€œåº”ç”¨ç¨‹åºâ€é€‰é¡¹å¡ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä¿å­˜è¿™ç¯‡æ–‡ç« çš„ JSON æ•°æ®çš„`kv-storage:saved-posts`:

[![save](img/d88b7f82adc8b3783567eddd349766d1.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--WlnbwT3f--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/thepassle/reddit-pwa/master/blog/save.png)

å¦‚æœæˆ‘ä»¬è¿”å›åˆ°æˆ‘ä»¬çš„æœç´¢é¡µé¢ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªå·²ä¿å­˜å¸–å­çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬åˆšåˆšä¿å­˜çš„å¸–å­:

[![saved](img/c168babee93213b2964a2cd4e6ea5550.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--fVH0dYdQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/thepassle/reddit-pwa/master/blog/saved.png)

### ğŸ”®èšåˆå¡«å……

éå¸¸å¥½ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å³å°†é‡åˆ°å¦ä¸€ä¸ªé—®é¢˜ã€‚ç”Ÿæ´»åœ¨è¾¹ç¼˜å¾ˆæœ‰è¶£ï¼Œä½†ä¹Ÿå¾ˆå±é™©ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œé‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œkv-storage åªæ˜¯åœ¨ Chrome ä¸­çš„ä¸€ä¸ªæ ‡å¿—åé¢å®ç°çš„ã€‚è¿™æ˜¾ç„¶ä¸å¤ªå¥½ã€‚å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ª polyfill å¯ç”¨ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥å±•ç¤ºå¦ä¸€ä¸ªçœŸæ­£æœ‰ç”¨çš„å¯¼å…¥ç‰¹æ€§â€”â€”åœ°å›¾ï¼›å¤šå¡«å……ï¼

é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®‰è£… kv-storage-polyfill:

`npm i -S kv-storage-polyfill`

> è¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„`prepare`é’©å­å°†å†æ¬¡ä¸ºæˆ‘ä»¬è¿è¡Œ Snowpack

è®©æˆ‘ä»¬å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æˆ‘ä»¬çš„`index.html` :
ä¸­çš„å¯¼å…¥æ˜ å°„

```
<script type="importmap">
  {
    "imports": {
      "@vaadin/router": "/web_modules/@vaadin/router.js",
      "lit-element": "/web_modules/lit-element.js",
      "/web_modules/kv-storage-polyfill.js": [
        "std:kv-storage",
        "/web_modules/kv-storage-polyfill.js"
      ]
    }
  }
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥è¿™é‡Œå‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼Œæ¯å½“è¯·æ±‚æˆ–å¯¼å…¥`/web_modules/kv-storage-polyfill.js`æ—¶ï¼Œæµè§ˆå™¨å°†é¦–å…ˆ*å°è¯•æŸ¥çœ‹`std:kv-storage`æ˜¯å¦å¯ç”¨ï¼›ç„¶è€Œï¼Œå¦‚æœå¤±è´¥äº†ï¼Œå®ƒä¼šåŠ è½½`/web_modules/kv-storage-polyfill.js`ã€‚*

æ‰€ä»¥åœ¨ä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å¯¼å…¥:

```
import { StorageArea } from '/web_modules/kv-storage-polyfill.js'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™æ˜¯å°†è¦å‘ç”Ÿçš„äº‹æƒ…:

```
"/web_modules/kv-storage-polyfill.js": [     // when I'm requested
  "std:kv-storage",                      // try me first!
  "/web_modules/kv-storage-polyfill.js"      // or fallback to me
] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ğŸ‰ç»“è®º

æˆ‘ä»¬ç°åœ¨åº”è¯¥æœ‰ä¸€ä¸ªç®€å•çš„ã€åŠŸèƒ½æ€§çš„ PWAï¼Œå…·æœ‰æœ€å°çš„ä¾èµ–æ€§ã€‚è¿™ä¸ªé¡¹ç›®æœ‰ä¸€äº›æˆ‘ä»¬å¯ä»¥æŠ±æ€¨çš„å¹æ¯›æ±‚ç–µçš„åœ°æ–¹ï¼Œå®ƒä»¬å¯èƒ½éƒ½æ˜¯å…¬å¹³çš„ã€‚æ¯”å¦‚è¯´ï¼›æˆ‘ä»¬å¯èƒ½ä¸éœ€è¦ä½¿ç”¨ç§¯é›ªåœºï¼Œä½†å®ƒç¡®å®è®©æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—å¾ˆå®¹æ˜“ã€‚å…³äºæ·»åŠ ä¸€ä¸ªç®€å•çš„ Webpack é…ç½®ï¼Œæ‚¨å¯ä»¥æå‡ºåŒæ ·çš„è®ºç‚¹ï¼Œä½†æ˜¯æ‚¨æ²¡æœ‰æŠ“ä½è¦ç‚¹ã€‚è¿™é‡Œçš„é‡ç‚¹æ˜¯åšä¸€ä¸ªå¥½ç©çš„åº”ç”¨ï¼ŒåŒæ—¶ä½¿ç”¨ä¸€äº›æœ€æ–°çš„åŠŸèƒ½ï¼Œå»æ‰ä¸€äº›æµè¡Œè¯­ï¼Œå…¥é—¨é—¨æ§›ä½ã€‚æ­£å¦‚å¼—é›·å¾·Â·è‚–ç‰¹æ‰€è¯´:â€œåœ¨ 2019 å¹´ï¼Œä½ åº”è¯¥ä½¿ç”¨æ†æ‰æœºï¼Œå› ä¸ºä½ æƒ³è¿™æ ·åšï¼Œè€Œä¸æ˜¯å› ä¸ºä½ éœ€è¦è¿™æ ·åšã€‚â€

ç„¶è€Œï¼Œå¦‚æœä½ å¯¹å¹æ¯›æ±‚ç–µæ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥é˜…è¯»[è¿™ç¯‡å…³äºä½¿ç”¨ Webpack vs Pika vs buildless çš„ç²¾å½©è®¨è®º](https://github.com/lukejacksonn/perflink/issues/15)ï¼Œä½ ä¼šä» Webpack æ ¸å¿ƒå›¢é˜Ÿçš„[è‚–æ©Â·æ‹‰é‡‘](https://twitter.com/TheLarkInn)ä»¥åŠ Pika çš„åˆ›é€ è€…[å¼—é›·å¾·Â·kÂ·è‚–ç‰¹](https://twitter.com/FredKSchott)é‚£é‡Œè·å¾—ä¸€äº›æ·±åˆ»çš„è§è§£ã€‚

æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡åšæ–‡ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½å­¦åˆ°ä¸€äº›ä¸œè¥¿ï¼Œæˆ–è€…å‘ç°ä¸€äº›æ–°çš„æœ‰è¶£çš„äººã€‚ç°åœ¨è¿™ä¸ªé¢†åŸŸæœ‰è®¸å¤šä»¤äººå…´å¥‹çš„å‘å±•ï¼Œæˆ‘å¸Œæœ›æˆ‘èƒ½è®©ä½ å’Œæˆ‘ä¸€æ ·å¯¹å®ƒä»¬æ„Ÿåˆ°å…´å¥‹ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ã€è¯„è®ºã€åé¦ˆæˆ–æŒ‘å‰”ï¼Œè¯·éšæ—¶åœ¨ twitter ä¸Šè”ç³»æˆ‘ï¼Œç”µè¯: [@passle_](https://twitter.com/passle_) æˆ– [@openwc](https://twitter.com/openwc) ï¼Œåˆ«å¿˜äº†æŸ¥çœ‹ open-wc.orgğŸ˜‰ã€‚

## ä¼˜ç§€å¥–

åœ¨ç»“æŸè¿™ç¯‡åšå®¢ä¹‹å‰ï¼Œæˆ‘æƒ³å¯¹ä¸€äº›éå¸¸æœ‰è¶£çš„äººè¯´å‡ å¥è¯ï¼Œä»–ä»¬æ­£åœ¨åšä¸€äº›ä¼Ÿå¤§çš„äº‹æƒ…ï¼Œä½ å¯èƒ½æƒ³å…³æ³¨ä¸€ä¸‹ã€‚

å¼€å§‹:[ç›–ä¼ŠÂ·è´å¾·ç¦å¾·](https://twitter.com/guybedford)ï¼Œä»–å†™äº†[es-æ¨¡å—-å«ç‰‡](https://github.com/guybedford/es-module-shims)ï¼Œå—¯ï¼Œå«ç‰‡ es æ¨¡å—ï¼Œå¹¶å¯¼å…¥åœ°å›¾ã€‚å¦‚æœä½ é—®æˆ‘ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“æƒŠäººçš„å£®ä¸¾ï¼Œå¹¶å…è®¸æˆ‘å®é™…ä¸Šä½¿ç”¨è¿™äº›æ–°æŠ€æœ¯ä¸­çš„ä¸€äº›å°šæœªåœ¨æ‰€æœ‰æµè§ˆå™¨ä¸Šå®ç°ã€‚

å¦‚æœä½ å¯¹åŒæ ·çš„ä¸œè¥¿æ„Ÿå…´è¶£ï¼Œä½ ä¸€å®šè¦å»çœ‹çœ‹[å¢ä¿®æ–¯Â·æ°å…‹é€Š](https://twitter.com/lukejacksonn)çš„æ¼”è®²[ä¸è¦å¼€å‘é‚£ä¸ªåº”ç”¨ï¼](https://www.youtube.com/watch?v=mVjZQrsXBQE)æ²¡æœ‰ç½‘ç»œåŒ…ï¼Œæ²¡æœ‰çƒ¦æ¼ğŸ¤“ğŸ¤™æ­£å¦‚è·¯åŠ æ‰€è¯´ã€‚

æˆ‘è¿˜è¦æ„Ÿè°¢æœ¬å°¼Â·é²å°”æ–¯(Benny Powers)å’Œ T2Â·æ‹‰å°”æ–¯Â·ç™»Â·è´å…‹(Lars den Bakker)æä¾›çš„æœ‰ç›Šè¯„è®ºå’Œåé¦ˆã€‚