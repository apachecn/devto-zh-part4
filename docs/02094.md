# å¸¦æœ‰ Ruby çš„ LightGBM

> åŸæ–‡ï¼š<https://dev.to/kojix2/lightgbm-with-ruby-438>

LightGBM æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¢¯åº¦æ¨è¿›æ¡†æ¶ã€‚

## è¦æ±‚

*   [LightGBM](https://github.com/ankane/lightgbm) (çº¢å®çŸ³ç»‘å®š)
    *   `lib_lightgbm.so`ã€`lib_lightgbm.dylib`ã€`lib_lightgbm.dll`åŒ…å«åœ¨[å®çŸ³](https://github.com/ankane/lightgbm/tree/master/vendor)ä¸­ã€‚
*   [çº¢è‰²æ•°æ®é›†](https://github.com/red-data-tools/red-datasets)
    *   MNIST æ•°æ®é›†ã€‚

```
gem install red-datasets
gem install lightgbm 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## è¿è¡Œ

```
require 'lightgbm'
require 'datasets'

train_mnist = Datasets::MNIST.new(type: :train)
test_mnist  = Datasets::MNIST.new(type: :test)

train_x = train_mnist.map(&:pixels)
train_y = train_mnist.map(&:label)

test_x  = test_mnist.map(&:pixels)
test_y  = test_mnist.map(&:label)

params = {
  task: :train,
  boosting_type: :gbdt,
  objective: :multiclass,
  num_class: 10
}

train_set = LightGBM::Dataset.new(train_x, label: train_y)
booster = LightGBM.train(params, train_set)

result = booster.predict(test_x)
result.map! { |i| i.index(i.max) }
accuracy = test_y.zip(result).count { |i, j| i == j } / test_y.size.to_f
puts accuracy 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

0.9727

å¾ˆå¥½ï¼ğŸŒŸ