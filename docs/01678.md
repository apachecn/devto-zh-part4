# é€šè¿‡æ„å»ºç®€å•çš„ç¿»è¯‘åº”ç”¨ç¨‹åºäº†è§£ React ä¸Šä¸‹æ–‡ç³»ç»Ÿ

> åŸæ–‡:[https://dev . to/nabe NDU 82/understanding-react-context-system-by-building-simple-translation-app-1 end](https://dev.to/nabendu82/understanding-react-context-system-by-building-simple-translation-app-1end)

æ¬¢è¿æ¥åˆ°å…¨æ–°ç³»åˆ—ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ReactJS ä¸­çš„æ–°ä¸Šä¸‹æ–‡ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªå°çš„ç¿»è¯‘åº”ç”¨ç¨‹åºã€‚

è¿™ä¸ªç³»åˆ—çš„çµæ„Ÿæ¥è‡ªäº Stephen Grider åœ¨ [udemy](https://www.udemy.com/react-redux/learn/lecture/12700535#overview) çš„â€œModern React with Reduxâ€ç³»åˆ—ä¸­çš„ä¸€ä¸ªä¾‹å­ã€‚

æ‰€ä»¥ï¼Œæ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ react åº”ç”¨**ç¿»è¯‘**ã€‚

[![translation app](img/3d90a36d6b1c9d8c8e3e23e88730579c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--3RhRn8Ip--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2AmKl26AeDXV6jD0UN1lcNOg.png)T3ã€‘ç¿»è¯‘ app

ä¸‹ä¸€å¼  cd è¿›å…¥ç¿»è¯‘ï¼Œåœ¨é‚£ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰“å¼€ä½ çš„ä»£ç ç¼–è¾‘å™¨ï¼Œåšä¸€ä¸ª **npm start**

ç„¶åè½¬åˆ°ä»£ç ç¼–è¾‘å™¨ä¸­çš„ **src** ç›®å½•ï¼Œåˆ é™¤å…¶ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚

[![Delete everything](img/be244ed162469fb219d31d19dc43da43.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--TRnYUn2v--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2AaLx18PhK22K2pas4KoUXFA.png) *åˆ é™¤ä¸€åˆ‡*

æ¥ä¸‹æ¥åœ¨ **src** ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª **index.js** ï¼Œå¹¶æ·»åŠ  React çš„æ ·æ¿ä»£ç ã€‚

```
import React from 'react';
import ReactDOM from 'react-dom';
import App from './components/App';

ReactDOM.render(
    <App />, document.querySelector('#root')
); 
```

ç„¶åæˆ‘ä»¬åœ¨ **src** ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª**ç»„ä»¶**æ–‡ä»¶å¤¹ã€‚åœ¨è¿™é‡Œï¼Œåˆ›å»ºä¸€ä¸ª **App.js** æ–‡ä»¶ã€‚

[![components foler](img/a20c4037a7d7cf6907c291db9e4a4e41.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--64oSNaPZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2ABplNKKM-6jqdjwYTIuE7XA.png) *ç»„ä»¶ foler*

**App.js** å†…å®¹å¦‚ä¸‹ã€‚

```
import React, { Component } from 'react'

class App extends Component {
    render() {
        return (
            <div>
               App is rendered
            </div>
        )
    }
}

export default App; 
```

åœ¨æ­¤ä¹‹åï¼Œåªéœ€ç¡®è®¤ï¼Œåœ¨æµè§ˆå™¨ä¸­æ£€æŸ¥ï¼ŒåŸºæœ¬è®¾ç½®å·²ç»å®Œæˆã€‚

[![App is rendered](img/13d4d726060148fb8e08aa81d70b5d02.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--TkBTLp-V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2A8UtT6VcqkHQczqKZLO6tWQ.png) * App æ¸²æŸ“*

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ›´æ–°æˆ‘ä»¬çš„ **App.js** æ¥åŒ…å«ä¸€ä¸ªåŸºæœ¬è¯­è¨€é€‰æ‹©å™¨

```
import React, { Component } from 'react';
import './App.css';

class App extends Component {
    state = { language: 'english' };

    onLangChange = (lang) => {
        this.setState({ language: lang });
    }

    render() {
        return (
            <div className="main__container">
               <div className="lang__flags">
                <span>Select a language :</span>
                <span onClick={() =>  this.onLangChange('english')}>ğŸ‡ºğŸ‡¸</span>
                <span onClick={() => this.onLangChange('hindi')}>ğŸ‡®ğŸ‡³</span>
               </div>
               {this.state.language}
            </div>
        )
    }
}

export default App; 
```

å¦å¤–ï¼Œåœ¨åŒä¸€ä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ **App.css** å¹¶æ·»åŠ ä¸‹é¢çš„ä»£ç ã€‚

```
.main__container {
    display: grid;
    place-content: center;
    grid-gap: 10px;
}

.lang__flags {
    font-size: 1.5rem;
    font-weight: bold;
} 
```

æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç°åœ¨çœ‹èµ·æ¥å¦‚ä¸‹ï¼Œæœ‰ä¸¤ä¸ªå¯ç‚¹å‡»çš„æ”¹å˜æ–‡æœ¬çš„æ ‡å¿—ã€‚

[![Basic layout](img/00f5d23897d5a6d5f48e49508a56e8c8.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--fsMcF1FZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2AVnNfc5-bEjVUG9TC1BLbkg.png) *åŸºæœ¬å¸ƒå±€*

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ç›®å½•ä¸­åˆ›å»ºä¸‰ä¸ªæ–°æ–‡ä»¶â€” **UserCreate.js** ã€ **Button.js** å’Œ **Field.js** ã€‚

[![New files](img/b8973f8437fbb90e9b41cca8d676e5e9.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--qKsmh9lC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2ARYFHX5nFbiPK8hrBUxrueg.png) *æ–°æ–‡ä»¶*

ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨è¿™äº›æ–‡ä»¶ä¸­å¿«é€Ÿæ·»åŠ ä»£ç ï¼Œä»¥æ˜¾ç¤ºåŒ…å«è¾“å…¥æ¡†å’Œæäº¤æŒ‰é’®çš„åŸºæœ¬è¡¨å•ã€‚

å°†ä»¥ä¸‹ä»£ç æ”¾å…¥ **UserCreate.js**

```
import React from 'react';
import Field from './Field';
import Button from './Button';

const UserCreate = () => {
    return (
        <div className="ui__form">
            <Field />
            <Button />
        </div>
    )
}

export default UserCreate 
```

ç„¶ååœ¨ **Field.js** ä¸­æ”¾å…¥è¿™æ®µä»£ç ã€‚

```
import React, { Component } from 'react'

class Field extends Component {
    render() {
        return (
            <div>
                <label>Name </label>
                <input />
            </div>
        )
    }
}

export default Field; 
```

ç„¶ååœ¨ **Button.js** ä¸­æ”¾å…¥ä»¥ä¸‹ä»£ç ã€‚

```
import React, { Component } from 'react';

class Button extends Component {
  render() {
    return (
      <button>Submit</button>
    )
  }
}

export default Button; 
```

æˆ‘ä»¬è¿˜å°†åœ¨ **App.css** ä¸­ä¸ºè¿™ä¸ªè¡¨å•æ·»åŠ ä¸€äº›æ ·å¼

```
â€¦
â€¦

.ui__form {
    display: grid;
    grid-gap: 10px;
    background: #f9f9f9;
    border: 1px solid #c1c1c1;
    margin: 2rem auto 0 auto;
    width: 600px;
    padding: 1em;
  }

  .ui__form input {
    background: #fff;
    border: 1px solid #9c9c9c;
    font-size:1rem;
    padding: 0.7em;
  }
  .ui__form input:focus {
    outline: 3px solid gold;
    width:80%;
  }
  .ui__form label {
      font-size:1.2rem;
      font-weight: 900;
  }
  .ui__form button {
    background: lightgrey;
    border-radius: 2%;
    font-size:1.2rem;
    padding: 0.7em;
    width: 30%;
    border: 0;
  }
  .ui__form button:hover {
    background: gold;
  }
  .err__msg{
      font-size: 1rem;
      color:red;
  }

  h3{
    text-align: center;
  } 
```

ç°åœ¨ï¼Œè½¬åˆ° **App.js** æ¥è¿æ¥ **UserCreate** ç»„ä»¶ã€‚

```
render() {
        return (
            <div className="main__container">
               <div className="lang__flags">
                <span>Select a language :</span>
                <span onClick={() => this.onLangChange('english')}>ğŸ‡ºğŸ‡¸</span>
                <span onClick={() => this.onLangChange('hindi')}>ğŸ‡®ğŸ‡³</span>
               </div>
               **<UserCreate />**
            </div>
        )
    } 
```

ç°åœ¨ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ˜¾ç¤ºäº†è¿™ä¸ªç¾ä¸½çš„å½¢å¼ã€‚

[![Beautiful form](img/60ef81f4a010142e2b7acfa306d88392.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--kzQlla2Q--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2AFr6NB2q4RacM-GZWT1xXpg.png) *ç¾ä¸½å½¢æ€*

ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸Šä¸‹æ–‡ç³»ç»Ÿå°†æ•°æ®ä» **App** ç»„ä»¶ä¼ é€’åˆ°**æŒ‰é’®**å’Œ**å­—æ®µ**ç»„ä»¶ã€‚

å¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡ç³»ç»Ÿï¼Œæˆ‘ä»¬å¿…é¡»å°†å®ƒä» **App** ä¼ é€’åˆ° **UserCreate** ï¼Œå†ä»é‚£é‡Œä¼ é€’åˆ°**æŒ‰é’®**å’Œ**å­—æ®µ**ç»„ä»¶ã€‚

ç°åœ¨ï¼Œåœ¨ **src** ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ **contexts** å’Œä¸€ä¸ªæ–‡ä»¶ **LanguageContext.js** ã€‚

[![LanguageContext](img/0b02af71548f361b608fccb10970f5a9.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--IXG9wdzP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2Aus5HxW40-zax_mBvv6cdhw.png) *è¯­è¨€è¯­å¢ƒ*

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨æ–‡ä»¶ **LanguageContext.js** ä¸­åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¹¶å°†**è‹±è¯­**ä½œä¸ºé»˜è®¤å€¼ä¼ é€’ã€‚

```
import React from 'react';

export default React.createContext('english'); 
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ **Button.js** æ–‡ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚

```
import React, { Component } from 'react';
import LanguageContext from '../contexts/LanguageContext';

class Button extends Component {
  static contextType = LanguageContext;

  render() {
    const text = this.context === 'english' ? 'Submit' : 'à¤œà¤®à¤¾ à¤•à¤°à¥‡à¤‚';
    return (
      <button>{text}</button>
    )
  }
}

export default Button; 
```

ç°åœ¨ï¼Œæ˜¯æ—¶å€™æ›´æ–°æˆ‘ä»¬çš„ **Field.js** æ–‡ä»¶æ¥ä½¿ç”¨è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡äº†ã€‚

```
import React, { Component } from 'react';
import LanguageContext from '../contexts/LanguageContext';

class Field extends Component {
    static contextType = LanguageContext;

    render() {
        const text = this.context === 'english' ? 'Name' : 'à¤¨à¤¾à¤®';

        return (
            <div>
                <label>{text}</label>
                <input />
            </div>
        )
    }
}

export default Field; 
```

è¯­å¥`static contextType = LanguageContext`æ˜¯ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡çš„æ ·æ¿æ–‡ä»¶ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿”å›åˆ°æˆ‘ä»¬çš„ **App.js** æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ **LanguageContext** å¯¹è±¡ã€‚æˆ‘ä»¬éœ€è¦ç”¨**æä¾›è€…**åŒ…è£…**ç”¨æˆ·åˆ›å»º**æˆ‘ä»¬çš„ç»„ä»¶ï¼Œå¹¶ä¼ é€’å€¼ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯è¯­è¨€çš„å½“å‰å€¼ã€‚

```
import React, { Component } from 'react';
import UserCreate from './UserCreate';
import LanguageContext from '../contexts/LanguageContext';
import './App.css';

class App extends Component {
    state = { language: 'english' };

    onLangChange = (lang) => {
        this.setState({ language: lang });
    }

    render() {
        return (
            <div className="main__container">
               <div className="lang__flags">
                <span>Select a language :</span>
                <span onClick={() => this.onLangChange('english')}>ğŸ‡ºğŸ‡¸</span>
                <span onClick={() => this.onLangChange('hindi')}>ğŸ‡®ğŸ‡³</span>
               </div>
               <LanguageContext.Provider value={this.state.language}>
                <UserCreate />
               </LanguageContext.Provider>
            </div>
        )
    }
}

export default App; 
```

åœ¨æˆ‘ä»¬çš„å­ç»„ä»¶(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯å­—æ®µå’ŒæŒ‰é’®)ä¸­æœ‰å¦ä¸€ç§æ¶ˆè´¹æˆ–æ˜¾ç¤ºæ•°æ®çš„æ–¹å¼ï¼Œå®ƒæ˜¯é€šè¿‡æ¶ˆè´¹è€…è€Œä¸æ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚æˆ‘ä»¬ä¸åœ¨è¿™é‡Œæ¢ç´¢å®ƒã€‚

æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç°åœ¨å·²ç»å®Œæˆï¼Œæ‰€ä»¥å‰å¾€ [http://localhost:3000/](http://localhost:3000/) å¹¶ç‚¹å‡»å°åº¦å›½æ——ï¼Œæ–‡æœ¬ä¼šå˜ä¸ºå°åœ°è¯­ã€‚

[![Text Translated.](img/27927f8e0617e403428f283ce1d633f1.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--I4dCFytk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2880/1%2AbuhlqlH28RbHDbjYMa-5ig.png) *æ–‡å­—ç¿»è¯‘è¿‡æ¥ã€‚*

è¿™å°±å®Œæˆäº†æˆ‘ä»¬çš„å°åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æºä»£ç ã€‚