# TypeScript:ç±»å‹ä¸æ¥å£

> åŸæ–‡ï¼š<https://dev.to/stereobooster/typescript-type-vs-interface-2n0c>

åœ¨æˆ‘æœ€è¿‘çš„ä¸€æ¬¡ pr ä¸­ï¼Œæˆ‘å°†æ‰€æœ‰çš„`interface`éƒ½æ”¹æˆäº†`type`ï¼Œå› ä¸º`type`å·²ç»æ¯”`interface`å¤šäº†ã€‚åœ¨è¯„ä¼°ä¸­ï¼Œæˆ‘è¢«è¦æ±‚æ¢å¤æ›´æ”¹ã€‚æˆ‘åšåˆ°äº†ï¼Œä½†æˆ‘ä¹Ÿæƒ³çŸ¥é“`interface`å’Œ`type`ä¹‹é—´çš„å®é™…åŒºåˆ«ã€‚è®©æˆ‘ä»¬æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨äº†æœ€æ–°çš„ TS (v3.5.1)ä½œä¸ºä¾‹å­ã€‚

## ç›¸ä¼¼ä¹‹å¤„

### è®°å½•

```
interface IAnimal {
  name: string;
}

type Animal = {
  name: string;
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ä»¿åˆ¶è¯

```
interface IAnimal<P = string> {
  name: P;
}

type Animal<P = string> = {
  name: P;
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### è·¯å£

```
type Robot = {
  power: number;
};

interface IRobot {
  name: string;
}

interface IRoboAnimal1 extends IAnimal, IRobot {}
interface IRoboAnimal2 extends IAnimal, Robot {}
interface IRoboAnimal3 extends Animal, IRobot {}
interface IRoboAnimal4 extends Animal, Robot {}

type RoboAnimal1 = Animal & Robot;
type RoboAnimal2 = Animal & IRobot;
type RoboAnimal3 = IAnimal & Robot;
type RoboAnimal4 = IAnimal & IRobot; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### `implements`

```
class Dog implements IAnimal {
  name: string = "good dog";
}

class Cat implements Animal {
  name: string = "Where is my food, human?";
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### æ‰©å±•ç±»

```
class Control {
  private state: any;
}

interface ISelectableControl extends Control {
  select(): void;
}

type SelectableControl = Control & {
  select: () => void;
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### åŠŸèƒ½

```
type Bark = (x: Animal) => void;

interface iBark {
  (x: Animal): void;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å’Œæ³›å‹:

```
type Bark = <P = Animal>(x: P) => void;

interface iBark {
  <P = Animal>(x: P): void;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### é€’å½’å£°æ˜

```
type Tree<P> = {
  node: P;
  leafs: Tree<P>[];
};

interface ITree<P> {
  node: P;
  leafs: ITree<P>[];
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ç²¾ç¡®

```
type Close = { a: string };
const x: Close = { a: "a", b: "b", c: "c" };
// Type '{ a: string; b: string; c: string; }' is not assignable to type 'Close'.

interface IClose {
  a: string;
}
const y: IClose = { a: "a", b: "b", c: "c" };
// Type '{ a: string; b: string; c: string; }' is not assignable to type 'IClose'. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### å¯è½¬ä½

```
type StringRecord = {
  [index: string]: number;
};

interface IStringRecord {
  [index: string]: number;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## å·®å¼‚

### åŸå§‹ç±»å‹

æ‚¨åªèƒ½ä½¿ç”¨ç±»å‹æ¥åˆ«ååŸºæœ¬ç±»å‹

```
type NewNumber = number;

interface INewNumber extends number {}
// 'number' only refers to a type, but is being used as a value here.

// this works
interface INewNumber extends Number {}
// but don't forget that 1 instanceof Number === false; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### å…ƒç»„

ä¸èƒ½ç”¨æ¥å£
å£°æ˜å…ƒç»„

```
type Tuple = [number, number];

interface ITuple {
  0: number;
  1: number;
}

[1, 2, 3] as Tuple; // Conversion of type '[number, number, number]' to type '[number, number]' may be a mistake

[1, 2, 3] as ITuple; // Ok 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ä¸ç›¸äº¤çš„å¹¶é›†

åˆ†ç¦»è”åˆä»…å¯¹ç±»å‹æœ‰æ•ˆ:

```
type DomesticAnimals = { type: "Dog" } | { type: "Cat" }; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¶ä¸”ä¸èƒ½å°†ä¸ç›¸äº¤çš„è”åˆç±»å‹ä¸`extends`
ä¸€èµ·ä½¿ç”¨

```
interface IDomesticAnimals extends DomesticAnimals {}
// An interface can only extend an object type or intersection of object types with statically known members 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### `new`

ä½ å¯ä»¥å£°æ˜`new`çš„ç±»å‹

```
interface IClassyAnimal {
  new (name: string);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å®ƒä¸åƒä½ é¢„æœŸçš„é‚£æ ·å·¥ä½œ

```
class Parrot implements IClassyAnimal {
  name: string;
  constructor(name: string) {
    this.name = name;
  }
}
// Class 'Parrot' incorrectly implements interface 'IClassyAnimal'.
//  Type 'Parrot' provides no match for the signature 'new (name: string): void'. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`constructor`å¥½åƒä¹Ÿä¸è¡Œ

```
interface IClassyAnimal {
  constructor(name: string): void;
}

class Parrot implements IClassyAnimal {
  name: string;
  constructor(name: string) {
    this.name = name;
  }
}
// Class 'Parrot' incorrectly implements interface 'IClassyAnimal'.
//  Types of property 'constructor' are incompatible.
//    Type 'Function' is not assignable to type '(name: string) => void'.
//      Type 'Function' provides no match for the signature '(name: string): void'. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### æ¯ä¸ªä½œç”¨åŸŸåªæœ‰ä¸€ä¸ªå£°æ˜

æ¯ä¸ªä½œç”¨åŸŸåªèƒ½å£°æ˜ä¸€æ¬¡ç±»å‹

```
type Once = { a: string };
type Once = { b: string };
// Duplicate identifier 'Once'. 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‚¨å¯ä»¥åœ¨æ¯ä¸ªä½œç”¨åŸŸä¸­å¤šæ¬¡å£°æ˜æ¥å£(æœ€ç»ˆç»“æœå°†æ˜¯æ‰€æœ‰å£°æ˜çš„æ€»å’Œ)

```
interface IOnce {
  a: string;
}
interface IOnce {
  b: string;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### æ•ˆç”¨ç±»å‹

å¤§å¤šæ•°æ—¶å€™ä½ ä¼šä½¿ç”¨ç±»å‹è€Œä¸æ˜¯æ¥å£æ¥åˆ›å»ºå®ç”¨ç¨‹åºç±»å‹ï¼Œä¾‹å¦‚:

```
export type NonUndefined<A> = A extends undefined ? never : A; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ç»“è®º

åœ¨ TS çš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå¹¶éæ‰€æœ‰è¿™äº›éƒ½æ˜¯å¯èƒ½çš„ï¼Œæ‰€ä»¥äººä»¬ä¹ æƒ¯äº†æ¥å£ã€‚ä½†åœ¨ TS çš„æœ€æ–°ç‰ˆæœ¬ä¸­ï¼Œä¼¼ä¹ç±»å‹æ›´æœ‰èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥éšæ—¶ä½¿ç”¨å®ƒä»¬ğŸ¤”ã€‚è¿˜æ˜¯æˆ‘é”™è¿‡äº†ä»€ä¹ˆï¼Ÿ

TS ä¸­æœ‰è®¸å¤šç»†å¾®çš„å·®åˆ«â€”â€”å¯¹äºä¸€ä¸ªå°ä¾‹å­(æˆ‘å·²ç»å±•ç¤ºè¿‡äº†)å¯èƒ½æœ‰ç”¨ï¼Œä½†æ˜¯å¯¹äºå¤§ä¾‹å­å°±ä¸è¡Œäº†ã€‚ **[å¦‚æœ‰é—æ¼è¯·æŒ‡æ­£](https://github.com/stereobooster/stereobooster.com/edit/master/content/posts/typescript-type-vs-interface/index.md)ã€‚**

[çŒ®ç»™@thekitze](https://twitter.com/thekitze/status/1150793200510148614) ã€‚