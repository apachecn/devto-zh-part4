# å¦‚ä½•åœ¨ React æœ¬æœºåº”ç”¨ç¨‹åºä¸­ä¼˜é›…åœ°ä½¿ç”¨ç¯å¢ƒå˜é‡

> åŸæ–‡:[https://dev . to/aman his/how-to-graceful-use-environment-variables-in-a-react-native-app-5bk 0](https://dev.to/amanhimself/how-to-gracefully-use-environment-variables-in-a-react-native-app-5bk0)

API å¯†é’¥å’Œç§˜å¯†æ€»æ˜¯åŒ…å«ä¸€äº›æ•æ„Ÿæ•°æ®æˆ–ä»¤ç‰Œï¼Œéœ€è¦ä¼˜é›…åœ°ä¿å­˜ã€‚ä¸ºä¸åŒçš„ç¯å¢ƒ(æ¯”å¦‚å¼€å‘æˆ–ç”Ÿäº§)ç®¡ç†ä¸åŒçš„é”®æ˜¯ JavaScript å¼€å‘äººå‘˜çš„ä¸€ç§å¸¸è§åšæ³•ã€‚å› æ­¤ï¼Œ`.env`æ–‡ä»¶çš„æœºåˆ¶å­˜åœ¨ã€‚

React æœ¬åœ°åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨ä¸é›†æˆä»»ä½•æœ¬åœ°ä»£ç çš„æƒ…å†µä¸‹ä¿å­˜ API å¯†é’¥å’Œå…¶ä»–æ•æ„Ÿä¿¡æ¯ã€‚åœ¨è¿™ç¯‡çŸ­æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•å®‰è£…å’Œé›†æˆä¸€ä¸ªå°çš„åº“ï¼Œå¸®åŠ©æ‚¨ä½¿ç”¨ç¯å¢ƒå˜é‡è€Œä¸æš´éœ²æ•æ„Ÿä¿¡æ¯ã€‚

è¯·æ³¨æ„ï¼Œæœ¬æ–‡ä¸­æåˆ°çš„å®‰è£…å’Œé›†æˆ [`react-native-dotenv`](https://www.npmjs.com/package/react-native-dotenv) çš„æ­¥éª¤å¯ä»¥ä»¥ç±»ä¼¼äºä¸‹é¢æè¿°çš„æ–¹å¼ç”¨äºä¸–åšä¼šé¡¹ç›®ã€‚

## [](#requirements)è¦æ±‚

è¦å­¦ä¹ æœ¬æ•™ç¨‹ï¼Œè¯·ç¡®ä¿æ‚¨åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒä¸­å®‰è£…äº†ä»¥ä¸‹è½¯ä»¶ï¼Œå¹¶ä¸”èƒ½å¤Ÿè®¿é—®ä¸‹é¢æåˆ°çš„æœåŠ¡ã€‚

*   å®‰è£…äº† npm/yarn çš„ [Nodejs](https://nodejs.org/en/) ( > = 8.x.x)
*   [react-native-cli](https://www.npmjs.com/package/react-native-cli)
*   `watchman`:React åŸç”Ÿé¡¹ç›®çš„æ–‡ä»¶å˜æ›´ç›‘è§†å™¨

## [](#getting-started)å…¥é—¨

é¦–å…ˆï¼Œåœ¨ç»ˆç«¯çª—å£ä¸­ä½¿ç”¨`react-native-cli`åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚

```
react-native init RNEnvVariables

# navigate inside the project directory
cd RNEnvVariables 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åˆ›å»ºé¡¹ç›®ç›®å½•åï¼Œå¯¼èˆªå®ƒã€‚åˆ›å»ºä¸€ä¸ªåä¸º`.env`çš„æ–°æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å°†ä¿å­˜æ‰€æœ‰ API å¯†é’¥æˆ–ä»»ä½•æ•æ„Ÿä¿¡æ¯ã€‚ç¡®ä¿å°†è¿™ä¸ªæ–‡ä»¶æ·»åŠ åˆ°`.gitignore`ä¸­ï¼Œè¿™æ ·å°±ä¸ä¼šåœ¨ Github è¿™æ ·çš„ç‰ˆæœ¬æ§åˆ¶ç½‘ç«™ä¸Šæš´éœ²ä»»ä½•ç§˜å¯†å¯†é’¥ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬å‘æ–‡ä»¶`.env`æ·»åŠ ä¸€ä¸ªåä¸º`SOME_KEY`çš„æ¨¡æ‹Ÿå¯†é’¥ã€‚

```
SOME_KEY=something 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¯·æ³¨æ„ï¼Œ`.env`æ–‡ä»¶è®¤ä¸ºä»»ä½•å¼•å·å†…çš„å­—ç¬¦ä¸²éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚æ­¤å¤–ï¼Œç”¨å¤§å†™å­—æ¯å†™`SOME_KEY`åªæ˜¯ä¸€ä¸ªéå¸¸æ™®ééµå¾ªçš„å‘½åçº¦å®šã€‚

## [](#install-reactnativedotenv)å®‰è£… react-native-dotenv

æ¥ä¸‹æ¥ï¼Œå®‰è£…ä¾èµ–é¡¹ [`react-native-dotenv`](https://www.npmjs.com/package/react-native-dotenv) ï¼Œå®ƒå°†å¸®åŠ©ä½ åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ä¼˜é›…åœ°ç®¡ç†ä½ çš„ç¯å¢ƒå˜é‡ã€‚è½¬åˆ°ç»ˆç«¯çª—å£ï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚

```
yarn add react-native-dotenv 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ¨¡å—`react-native-dotenv`å…è®¸æ‚¨ä»`.env`æ–‡ä»¶å¯¼å…¥ç¯å¢ƒå˜é‡ã€‚è¦ä½¿å®ƒå·¥ä½œï¼Œæ‰“å¼€`babel.config.js`æ–‡ä»¶å¹¶ä¿®æ”¹`presets`ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```
module.exports = {
    presets: ['module:metro-react-native-babel-preset', 'module:react-native-dotenv']
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#running-the-app)è¿è¡Œ app

ä¸ºäº†éªŒè¯å®ƒæ­£åœ¨å·¥ä½œï¼Œæ‰“å¼€`App.js`å¹¶ä»åŒ…æœ¬èº«å¯¼å…¥`SOME_KEY`ã€‚`react-native-dotenv`è§£æ`.env`æ–‡ä»¶ï¼Œè®©æ‚¨å¯¼å…¥æ–‡ä»¶ä¸­æåˆ°çš„ç¯å¢ƒå˜é‡ã€‚

```
// after other imports

import { SOME_KEY } from 'react-native-dotenv' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæ‚¨ä½¿ç”¨ iOS æ¨¡æ‹Ÿå™¨æˆ– Android æ¨¡æ‹Ÿå™¨åœ¨å½“å‰çŠ¶æ€ä¸‹æ‰“å¼€æ­¤æ¼”ç¤º React æœ¬æœºåº”ç”¨ç¨‹åºï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å±å¹•ã€‚

[![ss1](../Images/86e1514c3d56b2ea65fd72c05ac3741f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--pZHSlN19--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ipd8xusfc9lqy19n1lr8.png)

ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„ç¯å¢ƒå˜é‡ç¼–è¾‘`App.js`æ–‡ä»¶ä¸­æ˜¾ç¤º**æ­¥éª¤ä¸€**çš„é‚£ä¸€è¡Œã€‚

```
<Text style={styles.sectionTitle}>{SOME_KEY}</Text> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨å›åˆ°æ¨¡æ‹Ÿå™¨ï¼Œä½ ä¼šæ³¨æ„åˆ°å˜åŒ–ã€‚

[![ss2](../Images/ffd36a177ee40f170478ce0c7912d71d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hA6qBuR9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vujrarjvsnubqac67phw.png)

## [](#conclusion)ç»“è®º

ä½¿ç”¨`react-native-dotenv`å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚æ‚¨ä¸å¿…æ·»åŠ ä»»ä½•æœ¬æœºä»£ç æ¥åˆ†åˆ«é›†æˆæ¯ä¸ªç§»åŠ¨æ“ä½œç³»ç»Ÿå¹³å°ã€‚å¯¹äºä¸€ä¸ªæ›´å®é™…çš„ä¾‹å­ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘æœ€è¿‘åœ¨ React Native å’Œ Expo åº”ç”¨ä¸­å‘å¸ƒçš„å…³äº [Firebase è®¤è¯çš„å¸–å­ã€‚æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œåœ¨ Expo åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æˆ‘ä»¬ä¸Šé¢è®¨è®ºè¿‡çš„ç›¸åŒæ¨¡å—ã€‚](https://heartbeat.fritz.ai/how-to-build-an-email-authentication-app-with-firebase-firestore-and-react-native-a18a8ba78574)

* * *

æˆ‘åœ¨...æœ‰ç©ºğŸ¦è¿è¡Œä¸€ä¸ªå…è´¹çš„æ¯å‘¨ç®€è®¯(å·²ç»æœ‰ 600 å¤šä¸ªå¼€å‘è€…åŠ å…¥äº†),åœ¨é‡Œé¢æˆ‘åˆ†äº«å…³äº Nodejsã€Reactjsã€GraphQL å’Œ React Native çš„æŠ€å·§å’Œæ–°å¸–å­ã€‚

âœ‰ï¸ [åŠ å…¥æˆ‘çš„ä¸ªäººæ¯å‘¨ç®€è®¯ğŸ‘‰](https://tinyletter.com/amanhimself)