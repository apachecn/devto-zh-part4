# Windows10 WSL ssh æƒé™æ‹’ç»æ–°ä¼šè¯ä¸Šçš„å…¬é’¥

> åŸæ–‡:[https://dev . to/kapilgorve/windows 10-wsl-ssh-permission-denied-public-key-on-new-session-2i3b](https://dev.to/kapilgorve/windows10-wsl-ssh-permission-denied-public-key-on-new-session-2i3b)

[![](../Images/f85d903221249ee387eece6f4bcc7e05.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ixpJ00b9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://friendly-heyrovsky-86d9f9.netlify.app/opengraph%3F%26author%3Dkapilgorve%26title%3DWindows10%2520WSL%2520ssh%2520Permission%2520denied%2520public%2520key%2520on%2520new%2520session%26tags%3DWindows10%2CWSL%2CLinux)

é—®é¢˜â€”â€”å½“å°è¯•ä½¿ç”¨ ssh è¿æ¥æ—¶ï¼ŒWSL shell æ— æ³•è¯†åˆ«ç°æœ‰çš„å¯†é’¥ã€‚æˆ‘ä¸å¾—ä¸åœ¨æ¯æ¬¡ä¼šè¯ä¸­æ‰‹åŠ¨æ·»åŠ å¯†é’¥ã€‚

TLDR-å°†æ‚¨çš„ä¸»æœºåå’Œå¯†é’¥æ·»åŠ åˆ°~/ä¸­ã€‚ssh/config

```
Host 49.35.99.253
IdentityFile ~/.ssh/id_work_digitalocean
AddKeysToAgent yes 
```

æˆ‘ä½¿ç”¨ WSL å·²ç»å¾ˆé•¿æ—¶é—´äº†ã€‚å¤§éƒ¨åˆ†åªæ˜¯ä¸ºäº†å®éªŒç›®çš„ã€‚

åœ¨è¿™ä¸ªé¡¹ç›®çš„æ•´ä¸ªæŠ€æœ¯å †æ ˆä¸­ï¼Œæ€»æœ‰ä¸€äº›ä¸œè¥¿åœ¨ WSL ä¸Šæ— æ³•å·¥ä½œã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åªå¯¹å‰ç«¯é¡¹ç›®ä½¿ç”¨ Windowsï¼Œè€Œå¯¹åç«¯é¡¹ç›®ä½¿ç”¨å®‰è£…åœ¨å…¶ä»–é©±åŠ¨å™¨ä¸Šçš„ Ubunutuã€‚

å¯¹äºå·¥ä½œï¼Œæˆ‘ä»¬ä½¿ç”¨ DigitalOcean droplets ä¸ºå®¢æˆ·æ¼”ç¤ºéƒ¨ç½²é¡¹ç›®ã€‚ç›´åˆ°æœ€è¿‘æˆ‘æ‰å¼€å§‹é‡è§†å®‹æ‰¿å®ªã€‚æˆ‘ä»¬æ­£åœ¨ä¸ºå®¢æˆ·éƒ¨ç½²å¤šä¸ªå•é¡µå•†ä¸šç½‘ç«™ã€‚è¿™æ„å‘³ç€æˆ‘å¿…é¡»ä½¿ç”¨ ssh å¯†é’¥è¿æ¥åˆ° dropletsã€‚ä½¿ç”¨å¯†ç å˜å¾—ä»¤äººå…´å¥‹ã€‚æ‰€ä»¥æˆ‘æ¢æˆäº† ssh é”®ã€‚

ä¸è¿‡ï¼Œæœ‰ä¸€ä¸ªå°é—®é¢˜ã€‚å®ƒå¾ˆå¿«å˜å¾—ä»¤äººè®¨åŒã€‚

å½“å°è¯•ä½¿ç”¨ ssh è¿æ¥æ—¶ï¼ŒWSL shell æ— æ³•è¯†åˆ«ç°æœ‰çš„å¯†é’¥ã€‚æˆ‘ä¸å¾—ä¸åœ¨æ¯æ¬¡ä¼šè¯ä¸­æ‰‹åŠ¨æ·»åŠ å¯†é’¥ã€‚

è§£å†³æ–¹æ¡ˆ-åœ¨ ssh é…ç½®ä¸­æ·»åŠ æ‚¨çš„å¯†é’¥ã€‚

é¦–å…ˆåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚

```
$ touch ~/.ssh/config 
```

è¯¥æ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ›å»ºå®ƒã€‚å¦‚æœè¿™ä¸ªæ–‡ä»¶å­˜åœ¨ï¼Œè·³è¿‡è¿™ä¸€æ­¥ã€‚

ä½¿ç”¨ vim æ‰“å¼€`config`æ–‡ä»¶ã€‚

```
$ vim ~/.ssh/config 
```

è¾“å…¥`i`è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œä»¥ä¾¿ç¼–è¾‘ã€‚æ·»åŠ æ‚¨çš„ä¸»æœºåå’Œç§é’¥ä½ç½®ã€‚

```
Host 49.35.99.253
IdentityFile ~/.ssh/id_work_digitalocean
AddKeysToAgent yes 
```

*   è¾“å…¥`ESC`é”®é€€å‡ºæ’å…¥æ¨¡å¼ï¼ŒæŒ‰`:wq`ä¿å­˜æ›´æ”¹ã€‚

ç°åœ¨é‡æ–°æ‰“å¼€ bash å¹¶ä½¿ç”¨ ssh è¿æ¥åˆ°æ‚¨çš„ä¸»æœºã€‚è¿™æ¬¡ä½ ä¸éœ€è¦æ·»åŠ  ssh å¯†é’¥äº†ã€‚

ç¥ä½ åœ¨ Windows ä¸Šæ„‰å¿«ï¼ï¼ï¼

å¥½ç©çš„äº‹å®- `ssh`æ”¯æŒ 2018 å¹´ç™»é™†`Powershell`ã€‚æ‚¨ä¸å†éœ€è¦ä½¿ç”¨ bash æ¥ä½¿ç”¨ sshã€‚æˆ‘åœ¨è¯•ç”¨æ–°æ¨å‡ºçš„`Windows Terminal`æ—¶å‘ç°äº†è¿™ä¸€ç‚¹ã€‚

æœ¬å¸–æœ€åˆå‘å¸ƒäº[https://www . jskap . com/blog/windows 10-wsl-ssh-permission-denied-new-session/](https://www.jskap.com/blog/Windows10-wsl-ssh-permission-denied-new-session/)

ğŸ‘‹å—¨ï¼æˆ‘æ˜¯å¡çš®å°”ã€‚æˆ‘æ€»æ˜¯å–‹å–‹ä¸ä¼‘åœ°è°ˆè®ºå»ºé€ ä¸œè¥¿ï¼Œåˆ†äº«æˆ‘çš„çŸ¥è¯†ï¼Œè‡ªç”±èŒä¸šã€‚æ¥ https://twitter.com/kapilgorve å’Œæˆ‘æ‰“æ‹›å‘¼å§