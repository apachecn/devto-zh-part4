# ååº”ä¸­çš„å½¢å¼ğŸš§æœ€ç®€å•çš„

> åŸæ–‡:[https://dev.to/droidmakk/forms-in-react-the-simplest-39pe](https://dev.to/droidmakk/forms-in-react-the-simplest-39pe)

> è¡¨å•éªŒè¯æœ‰æ—¶å¯èƒ½æ˜¯ä¸€åœºå™©æ¢¦ã€‚åœ¨å°è¯•äº†ä¸€äº›ä»£ç æ¨¡å¼åï¼Œæˆ‘å¾—å‡ºäº†ä¸€ä¸ªç»“è®ºã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ’ä»¶çš„æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚
> **æ³¨æ„**:æ›´å¥½çš„æ–¹æ³•æ€»æ˜¯å—æ¬¢è¿çš„&æˆ‘åœ¨å¯»æ‰¾å®ƒâŒ›

[![Preview](../Images/4e926754d8206abadd5b638200212837.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dPHCD2dT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i.imgur.com/sbdfwZD.gif)

[ä»£ç æ²™ç›’é“¾æ¥](%5Bhttps://codesandbox.io/s/simple-form-oio3w%5D(https://codesandbox.io/s/simple-form-oio3w))

## [](#inputfield)InputField

> è®©æˆ‘ä»¬å¼€å§‹å§ã€‚é‡è¦çš„äº‹æƒ…å…ˆæ¥ã€‚è®©æˆ‘ä»¬ä¸ºè¾“å…¥å­—æ®µåˆ›å»ºä¸€ä¸ªç»„ä»¶ã€‚
> 
> *   æ¥å—ç”¨æˆ·è¾“å…¥å¹¶ä¼ é€’å…¶ä»–å…¬å…±å±æ€§çš„è¾“å…¥å­—æ®µ
> *   *handle æ— æ•ˆçš„*æ–¹æ³•åœ¨æ£€æµ‹åˆ°é”™è¯¯æ—¶æ–½å±•é­”æ³•
> *   *onChange* æ–¹æ³•é‡ç½®é”™è¯¯å¹¶å°†æ§åˆ¶æƒä¼ é€’ç»™çˆ¶ç»„ä»¶

```
import React from "react";

/** We'll be using this only for username and password **/
export const InputField = props => {
  const { message, ...rest } = props; // Filter what you need and transfer rest to input
  let [error, setError] = React.useState(false); //display error message

  const handleInvalid = e => {
    e.preventDefault();
    setError(true);
    props.handleInvalid(e);
  }; // Handle error
  const onChange = e => {
    setError(false);
    props.handleChange(e);
  }; // Reset error

  // The Component
  return (
    <div className="input-container">
      <input {...rest} onInvalid={handleInvalid} onChange={onChange} />
      {error ? <span className="error-message">{message}</span> : ""}
    </div>
  );
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#form-component)è¡¨å•ç»„ä»¶

> ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¡¨å•ç»„ä»¶ï¼Œå®ƒå°†æŠŠæˆ‘ä»¬çš„è¾“å…¥å­—æ®µåŒ…è£…åœ¨ä¸€ä¸ªè¡¨å•å‘¨å›´ï¼Œå¹¶æä¾›ä¸€äº›æ–¹æ³•æ¥å¤„ç†å®ƒã€‚
> 
> *   æˆ‘ä»¬æœ‰ä¸€ä¸ªçŠ¶æ€å˜é‡æ¥ä¿å­˜è¡¨å•å¯¹è±¡
> *   *handleChange* æ–¹æ³•æ ¹æ®åç§°å¤„ç†è¾“å…¥å­—æ®µçš„ç‰¹å®šæ›´æ–°ã€‚
> *   *handleSubmit* æ–¹æ³•ï¼Œä¸€æ—¦æ‰€æœ‰å­—æ®µéƒ½è¢«æ­£ç¡®å¡«å……ï¼Œè¯¥æ–¹æ³•å°†å¸®åŠ©æˆ‘ä»¬ç‚¹å‡» API
> *   **action = " JavaScript:void(0)"**å½“æˆ‘è¯•å›¾æ‰¾å‡ºå¤„ç†è¡¨å•çš„æœ€ä½³æ–¹å¼æ—¶ï¼Œè¿™æ˜¯æˆ‘ç‰¹åˆ«æ„Ÿå…´è¶£çš„ã€‚è¿™å°†é˜»æ­¢è¡¨å•å…ƒç´ æ‰§è¡Œé»˜è®¤å·¥ä½œã€‚

```
import React from "react";
import { InputField } from "./InputField";

export const Form = props => {

  const [state, setState] = React.useState({ mail: "", password: "" });

  const handleChange = e =>
    setState({ ...state, [e.target.name]: e.target.value });

  const handleSubmit = e => console.info("FORMDATA", state);

  return (
    <form
      action="javascript:void(0)"
      onChange={handleChange}
      onSubmit={handleSubmit}
    >
      <InputField name="mail" type="email" message="We need a proper mail id" />
      <InputField name="password" minLength="9" type="password" message="Not a valid password"
      />
      <input type="submit" value="Login" />
    </form>
  );
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#appcss)App.css

ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ ä¸€äº› cssï¼Œè®©å®ƒçœ‹èµ·æ¥è‡³å°‘æœ‰ä¸€ç‚¹ç‚¹æ¼‚äº®

```
.error-message {
  color: darkred;
  text-align: right;
  font-size: 12px;
}

.input-container {
  display: flex;
  flex-direction: column;
  width: 40%;
  margin: auto;
}

.input-container > input {
  border-top: none;
  border-right: none;
  border-left: none;
  margin-bottom: 5px;
  margin-top: 20px;
}

input:invalid {
  border-color: darkred;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥æˆ‘å¸Œæœ›åœ¨ React ä¸­å¤„ç†è¡¨å•æœ‰å¤šç®€å•ã€‚éƒ½æ˜¯æ¨¡å¼ã€‚æ‰¹è¯„æ˜¯æœ€å—æ¬¢è¿çš„ï¼Œå› ä¸ºæˆ‘æ­£åœ¨å¯»æ‰¾è¿›ä¸€æ­¥çš„æœ€ä½³å®è·µå½¢å¼ã€‚å¦‚æœæœ‰æ¯”è¿™æ›´å¥½çš„åœ°æ–¹ï¼Œè¯·å‘Šè¯‰æˆ‘