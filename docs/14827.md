# æ›´æ–° Vim (MacOS)

> åŸæ–‡:[https://dev.to/trisha114/updating-vim-macos-797](https://dev.to/trisha114/updating-vim-macos-797)

## Vim æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¼€æºæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå…è®¸ä½ åœ¨å‘½ä»¤è¡Œç¼–è¾‘ä½ çš„æ–‡æœ¬æ–‡ä»¶ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨ä¸éœ€è¦ç¦»å¼€ç»ˆç«¯å»ç¼–ç ã€‚

## [](#setup)è®¾ç½®

å½“æˆ‘ç¬¬ä¸€æ¬¡å¬è¯´ Vim çš„æ—¶å€™ï¼Œæˆ‘èŠ±äº† 30 åˆ†é’Ÿè¯•å›¾å¼„æ¸…æ¥šå¦‚ä½•å®‰è£…å®ƒï¼Œæ‰€ä»¥æˆ‘å¸®ä½ çœäº†è¿™ä¸ªåŠ›æ°”:Vim æ˜¯é¢„è£…åœ¨ MacOS ä¸­çš„ã€‚å¦‚æœæ‚¨çš„å½“å‰ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼Œåˆ™æ— éœ€å®‰è£…ã€‚æ’°å†™æœ¬æ–‡æ—¶çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ Vim **8.1** ã€‚åœ¨ vim.org/download.php çš„[æŸ¥çœ‹æœ€æ–°ç¨³å®šçš„ Vim ç‰ˆæœ¬ã€‚](https://www.vim.org/download.php)

[![latest vim version](../Images/8b6bddc2f49d7a05bd40c2d6b594d467.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--a6Q1ApiN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://drive.google.com/uc%3Fexport%3Dview%26id%3D1VBHhfqg-ipk-k_GwYuFrzbv0dF7QRDO3)

## [](#updating-vim)æ›´æ–° Vim

æˆ‘ç›®å‰çš„ Vim ç‰ˆæœ¬æ˜¯ 8.0.1283 ã€‚å¯æ‚²çš„æ˜¯ï¼Œè¿™ä¸æ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘è¦æ›´æ–°åˆ° **^ 8.1.x** ã€‚ä»…ä¾›å‚è€ƒ:æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘æ˜¯ MacOS Mojave 10.14.4ã€‚å¦‚æœä½ ä¸æ˜¯ Mac ç”¨æˆ·ï¼Œç‚¹å‡»[è¿™é‡Œ](https://www.vim.org/download.php)è·å¾—è®¾å¤‡ç‰¹å®šçš„æŒ‡ä»¤(Unix æˆ– MS-Windows)ã€‚

**è·å–æœ¬åœ° Vim çš„å½“å‰ç‰ˆæœ¬**
è¦å¼„æ¸…æ¥šæ‚¨çš„æœ¬åœ° Vim ç‰ˆæœ¬ï¼Œè¯·è¾“å…¥å‘½ä»¤`vim -v`ã€‚

å®ƒåº”è¯¥è¿”å›å¦‚ä¸‹æ‰€ç¤ºçš„å†…å®¹:

[![local vim version](../Images/2738d1066bb083f1f0c9d17e9d4e4ec1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hJFPNorb--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://drive.google.com/uc%3Fexport%3Dview%26id%3D1AU8WreMRGQR_HrNxBCYkGWSNAVYevR6W)

### [](#macvim-for-os)MacVim for OS

æˆ‘å†³å®šç”¨ [MacVim](https://github.com/macvim-dev) æ›´æ–°ã€‚ä¸è¿‡è¿˜æœ‰å…¶ä»–çš„[é€‰é¡¹](https://www.vim.org/download.php)ï¼å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œä½ ä¼šæƒ³ MacVim å’Œ Vim æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚è°·æ­Œè¯´æ²¡æœ‰åŒºåˆ«ğŸ˜

[![macvim vs vim](../Images/328d57e95b0e465b815c74e8a169e21b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--axn_mWxr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://drive.google.com/uc%3Fexport%3Dview%26id%3D1fALK6gy5FeI7sR2t04kls_WMwm2wYFgD)

[å…³äº MacVim çš„æ›´å¤šä¿¡æ¯è¯·è§å¸¸è§é—®é¢˜è§£ç­”](https://github.com/macvim-dev/macvim/wiki/FAQ)ã€‚

### [](#installing-macvim)å®‰è£… MacVim

*   å‰å¾€[https://github.com/macvim-dev/macvim/releases/latest](https://github.com/macvim-dev/macvim/releases/latest)è·å–æœ€æ–°ç‰ˆæœ¬çš„ MacVim å¹¶ä¸‹è½½ **MacVim.dmg**
*   æ‰“å¼€**ã€‚dmg** æ–‡ä»¶ï¼Œå¹¶å°† MacVim.app å¤åˆ¶åˆ°**/åº”ç”¨**

[![copy macvim to applications](../Images/08e2f04308511c366662e8a9f8dede40.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--D-xTUmid--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://drive.google.com/uc%3Fexport%3Dview%26id%3D1e55IYBZ65kp29xyYUflKVZ3vb4qUM6MB)

*   æ­¤æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡åŒå‡»å›¾æ ‡æ¥è¿è¡Œ MacVim GUIã€‚
*   åŒå‡»å›¾æ ‡åï¼Œæ‚¨å°†è¿›å…¥ **vim å‘½ä»¤æ¨¡å¼**ã€‚
*   è¦é€€å‡º vim å‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥`:q`å¹¶æŒ‰å›è½¦é”®ã€‚

### [](#heres-a-list-of-common-vim-commands-below)ä»¥ä¸‹æ˜¯å¸¸è§çš„ Vim å‘½ä»¤åˆ—è¡¨:

```
- type `:q<ENTER>` to **EXIT** out of MacVim mode
- type `:help mvim` for help
- type `:wq<ENTER>` to save and exit
- type `:q!` to exit without saving changes
- type `i` to enter insert mode
- press **ESC** to exit insert mode 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

Vim æœ‰ä¸¤ç§æ¨¡å¼**æ’å…¥æ¨¡å¼**å’Œ**å‘½ä»¤æ¨¡å¼**ã€‚å¦‚éœ€åˆå§‹åˆ—è¡¨ï¼Œè¯·è®¿é—® [coderwall - basic vim å‘½ä»¤](https://coderwall.com/p/adv71w/basic-vim-commands-for-getting-started)ã€‚

### [](#add-mvim-as-a-terminal-command)æ·»åŠ  mvim ä½œä¸ºç»ˆç«¯å‘½ä»¤

æ‚¨å¹¶ä¸çœŸçš„å¸Œæœ›æ¯æ¬¡ä½¿ç”¨ MacVim æ—¶éƒ½è¦åŒå‡» GUIã€‚å› æ­¤ï¼Œä¸‹ä¸€æ­¥æ˜¯å°† **mvim** *è„šæœ¬æ·»åŠ åˆ°æ‚¨çš„è·¯å¾„ä¸­ã€‚è¿™æ ·ï¼Œæ— è®ºæ‚¨ä½•æ—¶è¿è¡Œå‘½ä»¤`mvim`ï¼Œæ‚¨çš„æœºå™¨éƒ½å°†çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ° MacVim å¯æ‰§è¡Œæ–‡ä»¶ã€‚

æœ€ç®€å•çš„æ–¹æ³•æ˜¯è¿è¡Œå‘½ä»¤:

```
sudo ln -s /Applications/MacVim.app/Contents/bin/mvim /usr/local/bin/mvim 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸Šé¢çš„å‘½ä»¤ä¼šå°† mvim è„šæœ¬é“¾æ¥åˆ° **/usr/local/bin/mvim** ã€‚

[![mvim script in /usr/local/bin](../Images/b6a3979ce6b75892e8a15d9ab1d241be.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--wmaQfixO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://drive.google.com/uc%3Fexport%3Dview%26id%3D1-kD3Fpl-OsYgrwPpwuT4RrJVXMblRgsc)

*   ä¸€æ—¦è¿™æ ·åšäº†ï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨`mvim`æ¥è¿è¡Œ MacVim shellã€‚

*   è¦æ£€æŸ¥æ‰€æœ‰çš„é“¾æ¥æ˜¯å¦æ­£ç¡®ï¼Œè¯·åœ¨å‘½ä»¤è¡Œä¸Šè¾“å…¥`/usr/local/bin/mvim`ã€‚å®ƒåº”è¯¥èƒ½æ‰“å¼€éº¦å…‹ç»´ã€‚

*   è¦æ£€æŸ¥æ‚¨çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®ï¼Œè¯·è¿è¡Œ:`mvim -v`ã€‚ä½ åº”è¯¥ä¼šçœ‹åˆ°ä½ åˆšåˆšä¸‹è½½çš„æœ€æ–°ç‰ˆæœ¬(æ—§ 8.0.x = >æ–° 8.1.x)ã€‚

[![newer macvim version](../Images/0ad1a2243697f64aaa6a2ecddb2fa171.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--xDI5-ZEH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://drive.google.com/uc%3Fexport%3Dview%26id%3D1aOzwZS5EqB_cTFl10oL4_QCpE3Zdm66o)

### [](#optional-make-mvim-your-default-vim)å¯é€‰-å°† mvim è®¾ä¸ºæ‚¨çš„é»˜è®¤ vim

æƒ³åœ¨å‘½ä»¤è¡Œä½¿ç”¨ MacVim è€Œä¸æ˜¯ Vim çš„è€ç‰ˆæœ¬ï¼Ÿè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤:

*   å¦‚æœä½ å·²ç»æœ‰äº†ä¸€ä¸ª**ã€‚bash_profile** ä½¿ç”¨å‘½ä»¤`<bash_profile_path>; open .bash_profile;`æ‰“å¼€å®ƒã€‚
*   æ¯”å¦‚æˆ‘çš„**ã€‚bash_profile** ä½äºæˆ‘çš„ **Users/** ç›®å½•ä¸­ï¼Œæ‰€ä»¥æˆ‘è¿è¡Œå‘½ä»¤`cd Users/<user_name>; open .bash_profile;`ã€‚
*   è¿™å°†æ‰“å¼€ã€‚bash_profile æ–‡æœ¬æ–‡ä»¶ã€‚åœ¨ä¸‹é¢æ·»åŠ åˆ«å:

```
# ----------------------
# MacVim alias
# ----------------------
# use mvim as a default text editor, assuming you already have mvim installed
alias vim="mvim -v" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**æ³¨æ„:**å¦‚æœä½ ä¸çŸ¥é“ä½ çš„ **`<user_name>`** ï¼Œåœ¨å‘½ä»¤è¡Œè¿è¡Œ`whoami`ã€‚

*   ç»´å¥¥æ‹‰ã€‚ä½ éƒ½å‡†å¤‡å¥½äº†ã€‚æ£€æŸ¥`vim -v`å¹¶æŸ¥çœ‹ Vim çš„æ›´æ–°ç‰ˆæœ¬ã€‚
*   **æ³¨æ„:**æ‚¨éœ€è¦æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯å¤–å£³æˆ–é‡å¯æ‚¨çš„ç»ˆç«¯æ¥æŸ¥çœ‹æ‚¨å¯¹å¤–å£³æ‰€åšçš„ä»»ä½•æ›´æ”¹ã€‚

## [](#troubleshooting)æ•…éšœæ’é™¤

æœ‰å›°éš¾å—ï¼Ÿè°·æ­Œä¸€ä¸‹ï¼StackOverflow ä¼šç»™ä½ ä¸€ä¸ªå¦‚ä½•è°ƒè¯•çš„çº¿ç´¢ã€‚æˆ–è€…ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä¸€äº›èµ„æºã€‚

*   [Vim ä¸»é¡µ](https://www.vim.org)
*   [MacVim å¸¸è§é—®é¢˜è§£ç­”](https://github.com/macvim-dev/macvim/wiki/FAQ)

å¸Œæœ›è¿™èƒ½å¸®åŠ©åˆ°æŸä¸ªäººï¼è¿™æ˜¯â€œä½¿ç”¨ Vim æ„å»º Docker é¡¹ç›®â€ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚æ•¬è¯·å…³æ³¨æ›´å¤šå†…å®¹ï¼