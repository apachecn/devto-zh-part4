# ğŸ› è®¾ç½® WildFly SSL

> åŸæ–‡:[https://dev.to/orestispantazos/setup-wildfly-ssl-45om](https://dev.to/orestispantazos/setup-wildfly-ssl-45om)

å‡ºäºå®‰å…¨åŸå› ï¼ŒDevOps åº”è¯¥åœ¨ WildFly åº”ç”¨æœåŠ¡å™¨ä¸Šé…ç½® SSL æ”¯æŒã€‚ä»¥ä¸‹æ­¥éª¤æè¿°äº†å¦‚ä½•åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šä¸º web åº”ç”¨ç¨‹åºé…ç½® HTTPS:

**ç¬¬ä¸€æ­¥:**

*ç”Ÿæˆå¯†é’¥åº“å’Œè‡ªç­¾åè¯ä¹¦*

ç¡®ä¿åœ¨`JAVA_HOME`ä¸Šæ­£ç¡®å®‰è£…å’Œè®¾ç½® Javaï¼Œå› ä¸º JRE keytool å°†ç”¨äºæ­¤ç›®çš„ã€‚

åˆ‡æ¢åˆ°å‘½ä»¤è¡Œå¹¶æ‰§è¡Œå¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤:

`$ keytool -genkey -alias mycert -keyalg RSA -keystore mycert.keystore -validity 365`

å‰é¢æåˆ°çš„å‘½ä»¤æœ‰ä¸€äº›é»˜è®¤è®¾ç½®ï¼Œä¹Ÿæç¤ºå¼€å‘äººå‘˜è¾“å…¥å¦‚ä¸‹æ‰€ç¤ºçš„é™„åŠ ä¿¡æ¯:

```
What is your first and last name?
  [Unknown]:  Orestis Pantazos
What is the name of your organizational unit?
  [Unknown]:  Open DevOps
What is the name of your organization?
  [Unknown]:  opendevops.dev
What is the name of your City or Locality?
  [Unknown]:  Athens
What is the name of your State or Province?
  [Unknown]:  Greece
What is the two-letter country code for this unit?
  [Unknown]:  GR
Is CN=Orestis Pantazos, OU=Open DevOps, O=opendevops.dev, L=Athens, ST=Greece, C=GR correct?
  [no]:  yes 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**ç¬¬äºŒæ­¥:**

è¯¥å‘½ä»¤åœ¨æ‚¨å½“å‰å·¥ä½œçš„æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆ mycert.keystore æ–‡ä»¶ã€‚å°†å®ƒå¤åˆ¶åˆ°ä½ çš„ WildFly é…ç½®ç›®å½•(`%JBOSS_HOME%/standalone/config`)

**ç¬¬ä¸‰æ­¥:**

*é…ç½®é¢å¤–çš„ WildFly å®‰å…¨é¢†åŸŸ*

ä¸‹ä¸€æ­¥æ˜¯åœ¨`standalone.xml`çš„ wildly security-realm éƒ¨åˆ†å°†æ–°çš„ keystore é…ç½®ä¸º SSL çš„æœåŠ¡å™¨æ ‡è¯†ã€‚æ‚¨å¯ä»¥åœ¨ XML æ–‡ä»¶ä¸­çš„`<management>`æ ‡ç­¾ä¹‹åä»¥åŠ`<security-realms>`æ ‡ç­¾å†…éƒ¨æ’å…¥æºä»£ç ã€‚

```
<management>
    <security-realms>
        <security-realm name="UndertowRealm">
            <server-identities>
                <ssl>
                    <keystore path="mycert.keystore" relative-to="jboss.server.config.dir" keystore-password="secret" alias="mycert" key-password="secret"/>
                </ssl>
            </server-identities>
        </security-realm> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**ç¬¬å››æ­¥:**

*ä¸º SSL é…ç½®å›æµå­ç³»ç»Ÿ*

å¦‚æœé»˜è®¤æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼Œå°† https ç›‘å¬å™¨æ·»åŠ åˆ°å›æµå­ç³»ç»Ÿ:

```
<subsystem xmlns="urn:jboss:domain:undertow:1.2">
    <server name="default-server">
        <https-listener name="https" socket-binding="https" security-realm="UndertowRealm"/> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¯¹äºç»™å®šåç§°ç©ºé—´ä¸­çš„ https ä¾¦å¬å™¨ï¼Œä»…å°†å•è¯`UndertowRealm`æ›¿æ¢ä¸ºå‰é¢çš„å•è¯`security-realm="..."`ã€‚

**ç¬¬äº”æ­¥:**

å½“å‰å®ä¾‹çš„ SSL ç«¯å£å·²ç»ç”¨äº`https://localhost:8443/`ä¸­çš„è¿æ¥ã€‚å¦åˆ™ï¼Œå¯ä»¥å°† SSL ç«¯å£æ›´æ”¹ä¸º 443ï¼Œä½œä¸ºæ–‡ä»¶ç»“å°¾/åº•éƒ¨çš„é»˜è®¤ç«¯å£å·ã€‚

æ¥æº:
[https://opendevops.dev/setup-wildfly-ssl/](https://opendevops.dev/setup-wildfly-ssl/)