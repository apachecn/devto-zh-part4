# ä½¿ç”¨å­—æ®µé›†åœ¨è¿è¡Œä¸­ç¦ç”¨ HTML è¡¨å•

> åŸæ–‡:[https://dev . to/chromiumdev/disable-a-html-form-while-in-flight-using-fieldset-61b](https://dev.to/chromiumdev/disable-a-html-form-while-in-flight-using-fieldset-61b)

æˆ‘éå¸¸å–œæ¬¢é‚£äº›èƒ½å¤Ÿå¾ˆå¥½åœ°æ§åˆ¶ç”¨æˆ·ä¸é¡µé¢äº¤äº’èƒ½åŠ›çš„ ui:æ¯”å¦‚åœ¨è¡¨å•æäº¤è¿‡ç¨‹ä¸­æ›´æ”¹ä¸€äº›å€¼ã€‚æˆ‘ä»¬éƒ½è§è¿‡*â€œåœ¨å®Œæˆä¹‹å‰ä¸è¦æ”¹å˜è¿™ä¸ªè¡¨å•ï¼â€*æ¶ˆæ¯ã€‚ğŸ™„

åœ¨`<fieldset disabled>`ä¸­æœ‰ä¸€ä¸ªæ ‡å‡†çš„ HTML ç‰¹æ€§å¯ä»¥å¸®åŠ©ä½ åšåˆ°è¿™ä¸€ç‚¹ã€‚é¦–å…ˆï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ¼”ç¤º:

[https://codepen.io/samthor/embed/LKYRGy?height=600&default-tab=result&embed-version=2](https://codepen.io/samthor/embed/LKYRGy?height=600&default-tab=result&embed-version=2)

å°è¯•æäº¤è¡¨å•ï¼Œç‚¹å‡»å…¶ä¸­ä¸€ä¸ªè“è‰²é“¾æ¥(å®ƒä»¬ä¸ä¼šå»ä»»ä½•åœ°æ–¹ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤º)ï¼Œç„¶åæŒ‰ Tab é”®ã€‚è¾“å…¥æ— æ³•èšç„¦ï¼ğŸ¤¯

## [](#the-feature)ç‰¹æ€§

å½“æ‚¨çš„æµè§ˆå™¨çœ‹åˆ°ä¸€ä¸ªè®¾ç½®äº†`disabled`å±æ€§çš„`<fieldset>`æ—¶:ä¾‹å¦‚`<fieldset disabled>`ï¼Œå®ƒå°†å®Œå…¨ç¦ç”¨å…¶ä¸­çš„æ¯ä¸ª`<input>`ã€`<textarea>`å’Œ`<button>`å…ƒç´ ã€‚ğŸš«ğŸ“

è¿™æ˜¯éå¸¸å¼ºå¤§çš„ã€‚æ‚¨çš„ä»£ç å¯èƒ½çœ‹èµ·æ¥åƒ:

```
yourForm.addEventListener('submit', (event) => {
  event.preventDefault();  // disable normal submit

  const body = new FormData(yourForm);
  const p = fetch('/foo', {method: 'POST', body}).then((response) => {
    // ...
  });

  // important bit here
  yourFieldset.disabled = true;
  p.finally(() => {
    // .finally runs even if the fetch fails
    yourFieldset.disabled = false;
  });
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#other-uses-for-raw-fieldset-endraw-)å…¶ä»–ç”¨é€”ä¸º`fieldset`

`fieldset`å…ƒç´ è¿˜å…è®¸æ‚¨å¯¹ HTML è¡¨å•å…ƒç´ è¿›è¡Œåˆ†ç»„ï¼ŒåŒ…æ‹¬æ·»åŠ ä¸€ä¸ª`legend` (-ary)ã€‚è¿™å¯¹äºå¯è®¿é—®æ€§å¾ˆæœ‰ç”¨ï¼Œä¹Ÿæ˜¯ä¸€ç§è§†è§‰åŒ–åœ°è®¾è®¡ç»„çš„æ–¹å¼ã€‚å¯¹äºä¸€ä¸ªç®€å•çš„æ¼”ç¤ºï¼Œè¯·æŸ¥çœ‹ MDN ä¸Šçš„[è¿™ä¸€é¡µã€‚](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset)

## [](#alternatives)æ›¿ä»£å“

çœŸæ­£ç®€å•çš„ç»å…¸æ›¿ä»£å“ï¼Œ*å¼ºå¤§çš„*åŠŸèƒ½å¦‚`<fieldset disabled>`å¾€å¾€åŒ…æ‹¬:

*   æ·»åŠ ä¸€ä¸ªè¦†ç›–è¡¨å•çš„å·¨å¤§å…ƒç´ ï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸èƒ½ç‚¹å‡»å®ƒ
*   éå†æ¯ä¸ª`<input>`å¹¶æ ‡è®°ä¸º`disabled`
*   åªæ˜¯æŠŠè¡¨æ ¼è—èµ·æ¥ã€‚

ä¸`<fieldset disabled>`ç›¸æ¯”ï¼Œæ‰€æœ‰è¿™äº›éƒ½éå¸¸ç—›è‹¦ã€‚ğŸ¤®

## [](#thanks)è°¢è°¢ï¼

å¦‚æœä½ å¯¹æ§åˆ¶ç”¨æˆ·äº¤äº’å¾ˆæ„Ÿå…´è¶£ï¼Œä¸€å®šè¦ä»”ç»†é˜…è¯»â€œæƒ°æ€§â€å±æ€§ï¼Œå®ƒæ›´è¿›äº†ä¸€æ­¥ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®Œå…¨çš„æµè§ˆå™¨æ”¯æŒã€‚

Eleven