# å‘ Hugo ç«™ç‚¹æ·»åŠ ç»“æ„åŒ–æ•°æ®

> åŸæ–‡ï¼š<https://dev.to/pdwarkanath/adding-structured-data-to-your-hugo-site-58db>

å¦‚æœä½ åœ¨è°·æ­Œä¸Šæœç´¢ä¸€ä¸ªçƒ­é—¨è¯é¢˜ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€äº›æ–°é—»æ–‡ç« çªå‡ºæ˜¾ç¤ºåœ¨è°·æ­Œæœç´¢ç»“æœçš„é¡¶éƒ¨ã€‚åƒè¿™æ ·:

[![](img/79455ea445c76e868ed0e1dcb0b653f6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--jg_Q8yIM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/i5dtg7ldl584gvb12nj0.png)

Google è®¤ä¸ºç½‘ç»œä¸Šçš„æŸä¸ªé¡µé¢æ˜¯ä¸€ç¯‡æ–‡ç« ï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯ä¸€ç¯‡ä¸æ‚¨æœç´¢çš„ä¸»é¢˜ç›¸å…³çš„æ–‡ç« ï¼Œå› ä¸ºå‡ºç‰ˆå•†(å¦‚æœ¬ä¾‹ä¸­çš„ã€Šå°åº¦æ—¶æŠ¥ã€‹)å·²ç»å°†ç»“æ„åŒ–æ•°æ®æ·»åŠ åˆ°ä»–ä»¬çš„é¡µé¢ä¸­ã€‚ç»“æ„åŒ–æ•°æ®æ˜¯ä¸€ç»„è§„åˆ™ï¼Œç”¨æ¥é€šçŸ¥æœç´¢å¼•æ“ä½ çš„ç½‘ç«™ä¸Šçš„ç‰¹å®šé¡µé¢æ˜¯å…³äºä»€ä¹ˆçš„ã€‚

å‘ç½‘ç«™æ·»åŠ ç»“æ„åŒ–æ•°æ®æœ‰ä¸€äº›æ˜æ˜¾çš„å¥½å¤„ã€‚ä½ å¯ä»¥åœ¨ä¸Šé¢çœ‹åˆ°ï¼Œç»“æ„åŒ–æ•°æ®çš„æ–‡ç« çœ‹èµ·æ¥ä¸åŒäºæ™®é€šçš„æœç´¢ç»“æœï¼Œå³æœ‰å‡ºç‰ˆå•†åç§°(å¦‚å°åº¦æ—¶æŠ¥)ï¼Œç¼©ç•¥å›¾ï¼Œæ‘˜è¦ç­‰ã€‚å®ƒä»¬æ¯”æ™®é€šçš„æœç´¢ç»“æœå ç”¨æ›´å¤šçš„ç©ºé—´ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œè¿™äº›ç»“æœè¢«æ˜¾ç¤ºåœ¨æœç´¢ç»“æœçš„é¡¶éƒ¨ï¼Œç»™äº†å®ƒä»¬æœ€å¤§çš„å¯è§æ€§ã€‚åœ¨æœç´¢ç»“æœä¸­æ›´é«˜çš„å¯è§åº¦æ„å‘³ç€æ›´å¤šçš„ç‚¹å‡»å’Œæµé‡ã€‚

å¦‚æœä½ æœ‰åšå®¢ï¼Œä½ çš„æ–‡ç« å°†ä¼šæ˜¯â€œæ–‡ç« â€æˆ–â€œåšå®¢æ–‡ç« â€ç±»å‹ã€‚è°·æ­Œçš„ç½‘ç«™ä¸Šæåˆ°äº†ä¸€ç¯‡æ–‡ç« æ‰€éœ€çš„ç»“æ„åŒ–æ•°æ®:[https://developers . Google . com/search/docs/data-types/article](https://developers.google.com/search/docs/data-types/article)

å®Œæ•´çš„è§„åˆ™åˆ—è¡¨(é€‚ç”¨äºå„ç§é¡µé¢)å¯ä»¥åœ¨å®˜æ–¹æ¨¡å¼æ–‡æ¡£ç½‘ç«™ä¸Šæ‰¾åˆ°:[https://schema.org/docs/full.html](https://schema.org/docs/full.html)

ç°åœ¨ï¼Œä¸ºç½‘ç«™ä¸Šçš„æ¯ä¸ªé¡µé¢ç¼–å†™ç»“æ„åŒ–æ•°æ®æ˜¯å¾ˆä¹å‘³çš„ï¼Œå°¤å…¶æ˜¯å¦‚æœæ¯ä¸ªé¡µé¢éƒ½æ˜¯å…³äºä¸åŒçš„ä¸»é¢˜ã€‚å¹¸è¿çš„æ˜¯ï¼Œé™æ€ç«™ç‚¹ç”Ÿæˆå™¨å…è®¸ä½ åˆ›å»ºè‡ªå·±çš„`partials`ï¼Œä¹Ÿå°±æ˜¯åœ¨ç«™ç‚¹ä¸­é‡å¤çš„ HTML ä»£ç ç‰‡æ®µã€‚é€šè¿‡å…è®¸éƒ¨åˆ†å˜é‡ï¼Œæœ‰å¯èƒ½ä¸ºæ‰€æœ‰é¡µé¢åˆ›å»ºå”¯ä¸€çš„æ¨¡å¼ã€‚æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤æ¥åšã€‚

## æ¿æ¡ç®±ä¸€ä¸ª`schema.html`æ–‡ä»¶

å¦‚æœæ‚¨æœ‰ä¸€ä¸ªä½¿ç”¨ Hugo æ„å»ºçš„é™æ€ç«™ç‚¹ï¼Œæ‚¨éœ€è¦åšçš„å°±æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º`schema.html`çš„åˆ†éƒ¨ã€‚Google å»ºè®®æ‚¨ç”¨ JSON-LD ç¼–å†™ç»“æ„åŒ–æ•°æ®ã€‚ä¸éœ€è¦å¤ªäº†è§£ JSON-LDã€‚ç…§åŸæ ·å¤åˆ¶ä¸‹é¢çš„ä»£ç ç‰‡æ®µï¼Œä½ å°±æˆåŠŸäº†ğŸ˜›

```
<script type="application/ld+json">
{{ if eq .Section "posts" }}
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": {{ .Title }},
  "image": {{ .Params.featuredImage | absURL }},
  "datePublished": {{ .PublishDate }},
  "dateModified": {{ .Lastmod }},
  "author": {
    "@type": "Person",
    "name": {{ .Site.Params.author }}
  },
  "mainEntityOfPage": { "@type": "WebPage" },
   "publisher": {
    "@type": "Organization",
    "name": {{ .Site.Params.header }},
    "logo": {
      "@type": "ImageObject",
      "url": {{ .Site.Params.logo }}
    }
  },
  "description": {{ .Summary | plainify | safeHTML }},
  "keywords": [{{ range $i, $e := .Params.tags }}{{ if $i }}, {{ end }}{{ $e }}{{ end }}]
}
{{ end }}
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": {{ .Site.Params.header }},
  "url": {{ .Site.BaseURL }},
  "sameAs": [
    "https://www.facebook.com/{{ .Site.Params.facebook }}",
    "https://www.instagram.com/{{ .Site.Params.instagram }}",
    "https://twitter.com/{{ .Site.Params.twitter }}",
    "https://github.com/{{ .Site.Params.github }}"
  ]
}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªæ–‡ä»¶éœ€è¦åœ¨ä½ çš„ä¸»é¢˜çš„`partials`æ–‡ä»¶å¤¹ä¸­ã€‚

## æ·»åŠ å˜é‡å€¼åˆ°`config`æ–‡ä»¶

åœ¨æ‚¨ç«™ç‚¹çš„ config.toml æ–‡ä»¶ä¸­ï¼Œæ‚¨éœ€è¦æ·»åŠ æ‚¨åœ¨ä¸Šé¢çš„`schema.html`æ–‡ä»¶ä¸­ä½¿ç”¨çš„å˜é‡å€¼ã€‚å¯¹äºæˆ‘çš„ç½‘ç«™ï¼Œ [WeekInMemes](https://weekinmemes.com) ï¼Œæˆ‘ä¼šä½¿ç”¨æˆ‘è‡ªå·±çš„åå­—ä½œä¸ºä½œè€…ï¼Œç¤¾ä¼šåª’ä½“å¤„ç†ç­‰ã€‚å¯¹äºä½ çš„ç½‘ç«™æ¥è¯´ï¼Œç”¨ä½ è‡ªå·±çš„ä»·å€¼è§‚æ¥å–ä»£å®ƒä»¬ã€‚

```
baseURL = "https://weekinmemes.com"

[params]
author = "DK"
logo = "img/logo.jpg"
header = "Week In Memes"

facebook = "weekinmemes"
twitter = "weekinmemes"
instagram = "weekinmemes"
github = "weekinmemes" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## æ·»åŠ éƒ¨åˆ†åˆ°`head`æ ‡ç­¾

æœ€åï¼Œæ‚¨éœ€è¦å°†è¿™ä¸ªéƒ¨åˆ†æ·»åŠ åˆ°æ‚¨çš„`<head>`æ ‡ç­¾ä¸­ã€‚é€šå¸¸ä½ çš„ Hugo ä¸»é¢˜ä¼šæœ‰ä¸€ä¸ª`head.html`ç‰‡æ®µï¼Œä½ å¯ä»¥åœ¨ç»“æŸ`<head>`æ ‡ç­¾ä¹‹å‰æ·»åŠ ä¸‹é¢ä¸€è¡Œ:

```
{{ partial schema.html . }} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## æµ‹è¯•

ä¸€æ—¦æ‰€æœ‰è¿™äº›éƒ½å‡†å¤‡å°±ç»ªï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨å¸¸è§„çš„æ„å»ºå‘½ä»¤(`hugo -D`æˆ–`hugo server -D`)æ¥æŸ¥çœ‹ç”Ÿæˆçš„ HTML æ–‡ä»¶ã€‚

ä½¿ç”¨ Google çš„[ç»“æ„åŒ–æ•°æ®æµ‹è¯•å·¥å…·](https://search.google.com/structured-data/testing-tool/u/0/)æ¥æµ‹è¯• Google æ˜¯å¦æ­£ç¡®è¯»å–äº†æ‰€æœ‰å†…å®¹ã€‚å®ƒåº”è¯¥æŒ‡å‡ºæ‚¨å¯èƒ½éœ€è¦çº æ­£çš„é”™è¯¯(å¦‚æœæœ‰)ã€‚

å°±æ˜¯è¿™æ ·ï¼