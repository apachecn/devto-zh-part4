# ä½ åº”è¯¥çŸ¥é“çš„å¦å¤– 10 ä¸ª Git æŠ€å·§

> åŸæ–‡:[https://dev . to/Jacob herrington/10-more-git-tricks-the-you-should-know-3 BBP](https://dev.to/jacobherrington/10-more-git-tricks-that-you-should-know-3bbp)

<sup>å°é¢å›¾ç‰‡:[ä¸¤ä¸ªäººæ‹¿ç€ Macbook Pro](https://www.pexels.com/photo/two-people-holding-macbook-pro-1181275/)by[Christina Morillo](https://www.pexels.com/@divinetechygirl)</sup>
æˆ‘æœ€è¿‘å†™äº†ä¸€ç¯‡æ–‡ç« ï¼Œå«åš [10 ä¸ª Git æ‹›æ•°æ¥èŠ‚çœä½ çš„æ—¶é—´å’Œç†æ™º](https://dev.to/jacobherrington/10-git-tricks-to-save-your-time-and-sanity-289h)ã€‚äººä»¬ä¼¼ä¹å¾ˆå–œæ¬¢å®ƒï¼Œæ‰€ä»¥è¿™é‡Œæœ‰æ›´å¤šçš„ git æŠ€å·§ï¼Œå®ƒä»¬ä½œä¸ºåˆ«åä¿å­˜åœ¨æˆ‘çš„æœºå™¨ä¸Šã€‚

### [](#1-get-the-date-of-the-earliest-commit-in-a-repository)1ã€‚è·å–å­˜å‚¨åº“ä¸­æœ€æ—©æäº¤çš„æ—¥æœŸ

æœ‰æ—¶å€™ï¼Œå½“æˆ‘æƒ³çŸ¥é“ä¸€ä¸ªå¼€æºé¡¹ç›®åˆ°åº•æœ‰å¤šè€äº†ï¼Œæˆ–è€…æˆ‘æƒ³çŸ¥é“å›è´­æ˜¯ä»€ä¹ˆæ—¶å€™è¿›è¡Œçš„ï¼Œæˆ‘ä¼šè®© git å‘Šè¯‰æˆ‘ç¬¬ä¸€æ¬¡æäº¤æ˜¯ä»€ä¹ˆæ—¶å€™ã€‚

```
git log --date-order --format=%cI | tail -1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#2-see-the-number-of-commits-each-person-has-made-in-the-last-month)2ã€‚æŸ¥çœ‹æ¯ä¸ªäººä¸Šä¸ªæœˆæäº¤çš„æ•°é‡

è¿™æ˜¯æˆ‘é€šå¸¸ä¸éœ€è¦çš„ä¸œè¥¿ï¼Œä½†å¶å°”æˆ‘ä¼šè¢«ä¸€ä¸ªé¡¹ç›®å¡ä½ï¼Œéœ€è¦å¼„æ¸…æ¥šæˆ‘åº”è¯¥å‘è°å¯»æ±‚å¸®åŠ©ã€‚

å¯¹æˆ‘æ¥è¯´ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ‰¾å‡ºè°æœ€è¿‘åœ¨è¿™ä¸ªå­˜å‚¨åº“ä¸Šå·¥ä½œã€‚ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œæ‚¨å¯ä»¥å°†`--since='1 month ago'`åˆ‡æ¢åˆ°æ‚¨è®¤ä¸ºæœ€æœ‰æ„ä¹‰çš„æ—¶é—´èŒƒå›´ã€‚

```
git shortlog --summary --since='1 month ago' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#3-add-all-untracked-files-to-gitignore)3ã€‚å°†æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶æ·»åŠ åˆ°ã€‚gitignore

æœ‰æ—¶å€™ï¼Œå½“ä½ å»ºç«‹ä¸€ä¸ªæ–°çš„ git åº“æ—¶ï¼Œå°†ä¸€å †ä¸œè¥¿è½¬å‚¨åˆ°`.gitignore`æ–‡ä»¶å¤¹ä¸­æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå¹¶ä¸”é”®å…¥æ‰€æœ‰çš„å†…å®¹å¯èƒ½æ˜¯ä¹å‘³çš„ã€‚

æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„è¿™ä¸ªç‰‡æ®µå°†æŠŠ git å½“å‰æ²¡æœ‰è·Ÿè¸ªçš„æ‰€æœ‰å†…å®¹æ·»åŠ åˆ°ã€‚gitignore æ–‡ä»¶ã€‚

```
git status 
| grep -P \"^\\t\" 
| grep -vF .gitignore 
| sed \"s/^\\t//\" >> .gitignore" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#4-show-all-ignored-files)4ã€‚æ˜¾ç¤ºæ‰€æœ‰å¿½ç•¥çš„æ–‡ä»¶

æ¥ä¸‹æ¥æœ€æ˜æ˜¾çš„äº‹æƒ…å°±æ˜¯åˆ—å‡ºé‚£äº›è¢«å¿½ç•¥çš„æ–‡ä»¶ã€‚

è¿™æ­£æ˜¯ä¸‹ä¸€ä¸ªä»£ç ç‰‡æ®µè¦åšçš„:

```
git ls-files --others -i --exclude-standard 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#5-list-all-unmerged-branches-branches)5ã€‚åˆ—å‡ºæ‰€æœ‰æœªåˆå¹¶çš„åˆ†æ”¯

è¿™ä¸ªä»£ç ç‰‡æ®µåˆ—å‡ºäº†å°šæœªåˆå¹¶çš„æ¯ä¸ªåˆ†æ”¯ã€‚å¦‚æœæ‚¨ä¸æƒ³åœ¨é¥æ§å™¨ä¸ŠåŒ…å«åˆ†æ”¯ï¼Œå¯ä»¥ç§»é™¤`-a`æ ‡å¿—ã€‚

æˆ‘åœ¨ [Solidus](https://solidus.io) extensions ä¸Šä½¿ç”¨è¿™ä¸ªæ¥ç¡®ä¿å‘¨å›´æ²¡æœ‰ä»»ä½•åŒ…å«åºŸå¼ƒå·¥ä½œçš„é¢å¤–åˆ†æ”¯ã€‚

```
git checkout master && git branch -a --no-merged 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#6-list-all-changes-to-a-specific-file-even-if-its-been-renamed)6ã€‚åˆ—å‡ºå¯¹ç‰¹å®šæ–‡ä»¶çš„æ‰€æœ‰æ›´æ”¹ï¼Œå³ä½¿å®ƒå·²è¢«é‡å‘½å

è¿™æ˜¯ä¸€ä¸ªè¶…çº§æ–¹ä¾¿çš„æŠ€å·§ã€‚ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ¶‰åŠæ–‡ä»¶çš„æäº¤ã€‚

å› ä¸º git å¾ˆæ£’ï¼Œå®ƒä¼šå‘æ‚¨æ˜¾ç¤ºå¯¹è¯¥æ–‡ä»¶çš„æ›´æ”¹ï¼Œå³ä½¿åœ¨å…¶å†å²çš„æŸä¸ªç‚¹ä¸Šåç§°å·²ç»è¢«æ›´æ”¹ã€‚

```
git log --follow -p -- <file_path> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#7-delete-local-branches-that-have-been-merged-into-master)7ã€‚åˆ é™¤å·²åˆå¹¶åˆ°ä¸»æœåŠ¡å™¨çš„æœ¬åœ°åˆ†æ”¯

å¦‚æœæ‚¨å‘ç°æ‚¨çš„æœºå™¨ä¸Šæœ‰è®¸å¤šä¸å†éœ€è¦çš„éšæœºåˆ†æ”¯ï¼Œæ‚¨å¯ä»¥é€šè¿‡åˆ é™¤å®ƒä»¬æ¥å®è·µè‰¯å¥½çš„ git å«ç”Ÿã€‚

è¯¥ä»£ç ç‰‡æ®µå°†æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•åˆ†æ”¯å·²ç»è¢«åˆå¹¶åˆ° master ä¸­ï¼Œå¹¶ä¸ºæ‚¨è‡ªåŠ¨åˆ é™¤å®ƒä»¬ã€‚

å°å¿ƒè¿™ä¸€ä¸ªï¼Œå¦‚æœä½ å®³æ€•åˆ é™¤æ—§çš„åˆ†æ”¯ã€‚

```
git checkout master 
&& git branch --merged master 
| grep -v "master" 
| xargs -n 1 git branch -d 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#8-show-the-last-time-each-local-branch-changed)8ã€‚æ˜¾ç¤ºæ¯ä¸ªæœ¬åœ°åˆ†æ”¯ä¸Šæ¬¡æ›´æ”¹çš„æ—¶é—´

åœ¨é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸€äº›åˆ†æ”¯å¯èƒ½ä¼šè¢«æ”¾å¼ƒã€‚

ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ˜¯ä¸€ç§å¿«é€Ÿåˆ¤æ–­æœ¬åœ°æ˜¯å¦æœ‰å¾ˆé•¿æ—¶é—´æ²¡æœ‰æ›´æ–°çš„åˆ†æ”¯çš„æ–¹æ³•ã€‚

```
git for-each-ref --sort=committerdate refs/heads/ 
--format='%(HEAD) %(color:yellow)%(refname:short)%(color:reset) - (%(color:green)%(committerdate:relative)%(color:reset))' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#9-spin-a-folder-out-into-a-new-repo)9ã€‚å°†æ–‡ä»¶å¤¹æ—‹è½¬æˆæ–°çš„å›è´­

å¦‚æœæ‚¨çš„é¡¹ç›®è¶³å¤Ÿå¤æ‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤åœ¨å½“å‰å­˜å‚¨åº“ä¸­çš„ç›®å½•å¤–åˆ›å»ºä¸€ä¸ªæ–°çš„ repoã€‚

è¿è¡Œè¿™ä¸ªå‘½ä»¤åï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†æ‚¨çš„æ›´æ”¹æ¨é€åˆ°æ–°å­˜å‚¨åº“çš„è¿œç¨‹ä½ç½®ã€‚

```
git filter-branch --prune-empty --subdirectory-filter <folder_name> master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#10-add-a-coauthor-to-your-last-commit)10ã€‚åœ¨ä½ æœ€åä¸€æ¬¡æäº¤æ—¶æ·»åŠ ä¸€ä¸ªåˆè‘—è€…

å½“å¤šäººå‚ä¸æäº¤æ—¶ï¼ŒGitHub å’Œ GitLab æ”¯æŒåœ¨æäº¤ä¸­æ·»åŠ åˆä½œè€…ã€‚

è¿™æ ·åšåº”è¯¥å°† GitHub ä¸Šçš„æäº¤é“¾æ¥åˆ°å¤šä¸ªä½œè€…ã€‚

```
OLD_MSG=$(git log --format=%B -n1) 
&& git commit --amend -m "$OLD_MSG" 
-m "Co-authored-by: jacobherrington <jacobherringtondeveloper@gmail.com>" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°±æ˜¯è¿™æ ·ï¼ä½ åº”è¯¥çŸ¥é“çš„å¦å¤– 10 ä¸ª Git æŠ€å·§ğŸ¤ 

å¯¹äºæˆ‘åœ¨è¯„è®ºä¸­åˆ†äº«çš„ä¸œè¥¿ï¼Œæˆ‘å¾ˆä¹æ„å¬åˆ°æ›´å¤šæ•´æ´çš„ git æŠ€å·§æˆ–æ›¿ä»£æ–¹æ³•ï¼ğŸ‘‡