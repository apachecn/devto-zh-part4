# è®©æˆ‘ä»¬è°ˆè°ˆæµ‹è¯•:å…³äºæµ‹è¯•å“²å­¦çš„ 4 å ‚å¿«é€Ÿè¯¾

> åŸæ–‡:[https://dev . to/kball/let-s-talk-testing-4-quick-lessons-on-the-philosophy-of-testing-3a0j](https://dev.to/kball/let-s-talk-testing-4-quick-lessons-on-the-philosophy-of-testing-3a0j)

æµ‹è¯•æ˜¯å‰ç«¯å¼€å‘çš„ä¸€ä¸ªé¢†åŸŸï¼Œåœ¨è¿‡å»å‡ å¹´ä¸­æœ‰äº†å¿«é€Ÿçš„æ”¹è¿›ï¼Œä½†æ˜¯åœ¨é‚£é‡Œå®ƒä»ç„¶è®©äººæ„Ÿè§‰åŠ¿ä¸å¯æŒ¡ã€‚

åƒ[æ‘©å¡](https://mochajs.org/)ã€[èŒ‰è‰](https://jasmine.github.io/)å’Œ [Jest](https://jestjs.io/) è¿™æ ·çš„å·¥å…·è®©å†™ä½œæµ‹è¯•å˜å¾—å®¹æ˜“å¤šäº†â€¦

ä½†è¿˜æ˜¯æœ‰å·®è·ã€‚å¾ˆéš¾æ‰¾åˆ°å…³äºæµ‹è¯•å“²å­¦çš„ä¿¡æ¯ã€‚æµ‹è¯•ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆã€‚å¤šå°‘æ‰å¤Ÿï¼Ÿæˆ‘åº”è¯¥å†™ä»€ä¹ˆç±»å‹çš„æµ‹è¯•ï¼Œå®ƒä»€ä¹ˆæ—¶å€™é€‚åˆæˆ‘çš„è¿‡ç¨‹ï¼Ÿ

æœ‰ä¸€äº›å¾ˆæ£’çš„æ–‡ç« ã€‚æˆ‘çœŸçš„å¾ˆå–œæ¬¢ Max Kanat-Alexander çš„è¿™ç¯‡æ–‡ç« ï¼Œè™½ç„¶æˆ‘ä¸ªäººä¸æ˜¯ TDD çš„å®è·µè€…ï¼Œä½†æˆ‘å‘ç°[è¿™ç¯‡å…³äº TDD å¦‚ä½•èå…¥æ›´å¹¿æ³›ç³»ç»Ÿçš„æ–‡ç« å¾ˆæœ‰å¯å‘æ€§ã€‚](https://qualitycoding.org/dont-give-up-tdd/)

ä½†æ˜¯ä¸å¤šã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“æˆ‘æœ€è¿‘åœ¨ [JSParty #70](https://changelog.com/jsparty/70) ä¸Šä¸ [Christopher Hiller](https://twitter.com/b0neskull) (æ‘©å¡çš„ç»´æŠ¤è€…)å’Œ [Nick Nisi](https://twitter.com/nicknisi) è¿›è¡Œäº†ä¸€æ¬¡è°ˆè¯ï¼Œç»“æŸæ—¶è°ˆè®ºäº†å¾ˆå¤šå…³äºæµ‹è¯•å“²å­¦çš„è¯é¢˜ï¼Œæˆ‘è®¤ä¸ºæå–ä¸€äº›å…³é”®ç‚¹æ˜¯å€¼å¾—çš„ã€‚ä»–ä»¬åœ¨è¿™é‡Œ:

## [](#1-testing-best-practices-change-over-the-lifespan-of-your-project)1ã€‚æµ‹è¯•æœ€ä½³å®è·µåœ¨é¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå‘ç”Ÿå˜åŒ–

æˆ‘è®¤ä¸ºè¿™æ˜¯å…³äºæµ‹è¯•çš„å†²çªå’Œæ··ä¹±çš„æœ€å¤§æ¥æºä¹‹ä¸€â€”â€”æœ€ä½³å®è·µæ ¹æ®ä½ çš„é¡¹ç›®çš„æ ·å­å’Œå®ƒæ‰€å¤„çš„é˜¶æ®µè€Œå˜åŒ–å¾ˆå¤§ï¼

æ­£å¦‚å°¼å…‹æ‰€è¯´:

> æˆ‘è®¤ä¸ºï¼Œå¦‚æœä»£ç ä¸­æœ‰å¾ˆå¤šå˜åŒ–ï¼Œé‚£ä¹ˆå¤ªå¤šçš„æµ‹è¯•å°¤å…¶ä¸å¥½ï¼Œå› ä¸ºé‚£æ ·çš„è¯ï¼Œäº‹æƒ…æ€»æ˜¯ä¼šå‡ºé”™ï¼Œå°¤å…¶æ˜¯åƒå•å…ƒæµ‹è¯•è¿™æ ·çš„äº‹æƒ…ï¼Œæˆ–è€…æˆ‘ä»¬ç°åœ¨ç»“æŸç¼–å†™çš„å¾ˆå¤šæµ‹è¯•ï¼Œæµ‹è¯•è™šæ‹Ÿ DOM çš„è¾“å‡ºï¼Œå¹¶è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹æŸå¤„çš„çŠ¶æ€è¿›è¡Œæ›´æ”¹ï¼Œç„¶åä¸æˆ‘ä»¬é¢„æœŸçš„è™šæ‹Ÿ DOM çš„æ ·å­è¿›è¡Œæ¯”è¾ƒâ€¦â€¦è¯¸å¦‚æ­¤ç±»ã€‚

åœ¨æ—©æœŸï¼Œå½“ä½ çš„é¡¹ç›®éœ€æ±‚å¿«é€Ÿå˜åŒ–æ—¶ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè¿‡å¤šåœ°å…³æ³¨æµ‹è¯•å°†ä¼šæ˜¯çº¯ç²¹çš„å¼€é”€ã€‚éšç€äº‹æƒ…çš„ç¨³å®šå’Œæˆç†Ÿï¼Œè¶Šæ¥è¶Šå¤šçš„æµ‹è¯•å˜å¾—åˆé€‚ã€‚æ­£å¦‚æˆ‘åœ¨è¿™ä¸€é›†ä¸­æåˆ°çš„ï¼Œè¿™ä¸æ‚¨å°†åœ¨ä»£ç çš„å…¶ä»–éƒ¨åˆ†è¿›è¡Œçš„é‡æ„å’Œç»†åŒ–æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„:

> æˆ‘è®¤ä¸ºè¿™ä¹Ÿå’Œâ€œä½ æœ‰å¤šæ‹…å¿ƒè®©ä½ çš„ä»£ç å˜å¹²ï¼Ÿâ€æˆ‘ä»¬åœ¨ 4-5 ä¸ªæœˆå‰æœ‰ä¸€ä¸ªæ’æ›²ï¼Œæˆ‘å’Œ React æ’­å®¢çš„é™ˆå®¸(chantastic)è¿›è¡Œäº†ä¸€æ¬¡å¯¹è¯ï¼Œä»–è°ˆåˆ°äº†â€œå¹²ä»£ç æ˜¯è„†å¼±çš„ä»£ç â€å¦‚æœä½ å¯¹ä½ çš„ä»£ç åšäº†å¾ˆå¤šæ”¹åŠ¨ï¼Œä½ åšçš„è¶Šå¤šï¼Œä½ æ·»åŠ çš„æµ‹è¯•è¶Šå¤šï¼Œå°±è¶Šéš¾æ”¹åŠ¨ã€‚
> 
> è¿™ä¸ Chris å…³äº Mocha ç°åœ¨æ˜¯ä¸€ä¸ªæ›´æˆç†Ÿçš„é¡¹ç›®çš„è§‚ç‚¹ç›¸å»åˆã€‚å®ƒæ›´æˆç†Ÿäº†ï¼Œè‡³å°‘åœ¨åŠŸèƒ½å±‚é¢ä¸Šå˜åŒ–æ›´æ…¢äº†ï¼›è¿™å°†æ„å‘³ç€ä¸€äº›æ›´ä¼ ç»Ÿçš„ä»£ç è´¨é‡åº¦é‡æ ‡å‡†ï¼Œå¦‚æµ‹è¯•è¦†ç›–ç‡å’Œå¹²ç‡¥ç¨‹åº¦ç­‰ï¼Œå®é™…ä¸Šå¯èƒ½æ¯”ä¸€åˆ‡éƒ½åœ¨å˜åŒ–çš„æ—©æœŸé¡¹ç›®æ›´æœ‰ä»·å€¼å’Œæ›´é€‚ç”¨ã€‚

## [](#2-emphasize-functional-tests-over-unit-tests)2ã€‚å¼ºè°ƒåŠŸèƒ½æµ‹è¯•è€Œä¸æ˜¯å•å…ƒæµ‹è¯•

å•å…ƒæµ‹è¯•â€œå®¹æ˜“â€ç¼–å†™ï¼Œå¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹å¯¹ä½ å¦‚ä½•æ€è€ƒä½ çš„ä»£ç éå¸¸æœ‰å¸®åŠ©ï¼Œä½†æ˜¯å®ƒä»¬é”™è¿‡äº†å¾ˆå¤šï¼Œå¹¶ä¸”å®ƒä»¬æ‰€æä¾›çš„ä¹Ÿç»å¸¸å¯ä»¥é€šè¿‡åŠŸèƒ½æµ‹è¯•æ¥è¦†ç›–ã€‚

ç›´æ¥æ¥è‡ªæ‘©å¡å¤§å¸ˆå…‹é‡Œæ–¯:

> ç„¶åæˆ‘ä»¬çœ‹åˆ°ï¼Œå¦‚æœæ•´ä¸ªç«¯åˆ°ç«¯çš„è¿‡ç¨‹æ²¡æœ‰èµ°åˆ°ä¸€èµ·ï¼Œé‚£äº›å•å…ƒæµ‹è¯•ä¸ä¸€å®šæ„å‘³ç€å¤ªå¤šã€‚ä½ å¯èƒ½æœ‰ 100%çš„ä»£ç è¦†ç›–ç‡ï¼Œè€Œä½ çš„åº”ç”¨ç¨‹åºå¯èƒ½ 100%å´©æºƒã€‚ä½†æ˜¯åœ¨ Mocha ä¸­ï¼Œä¾‹å¦‚ï¼Œæˆ‘å‘ç°æˆ‘ä»¬æ²¡æœ‰ 100%çš„å•å…ƒæµ‹è¯•è¦†ç›–ç‡â€¦è¿™æ²¡å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰å¤ªå¤šçš„åŠŸèƒ½æµ‹è¯•ä» Mocha æœ¬èº«è°ƒç”¨ï¼Œå¹¶æµ‹è¯• Mocha çš„è¾“å‡ºã€‚è¿™äº›éå¸¸æœ‰ä»·å€¼ï¼Œè¿™è®©æˆ‘æƒ³åˆ°â€”â€”æˆ‘å¯ä»¥ä» TDD ä¸­çœ‹åˆ°å•å…ƒæµ‹è¯•ï¼Œæœ‰äººå–œæ¬¢å®ƒï¼Œæœ‰äººè®¨åŒå®ƒï¼Œæœ‰äººä»‹äºä¸¤è€…ä¹‹é—´â€¦â€¦å½“é›†æˆæµ‹è¯•å·²ç»å¾ˆå¥½åœ°è¦†ç›–äº†å•å…ƒæµ‹è¯•æ—¶ï¼Œæˆ‘çœ‹ä¸åˆ°åœ¨ Mocha ä¸­å›å»ç»™ä¸€å †ä¸œè¥¿æ·»åŠ å¤§é‡å•å…ƒæµ‹è¯•è¦†ç›–çš„ä»·å€¼ã€‚

## [](#3-have-the-same-teams-writing-your-tests-as-your-code)3ã€‚è®©ç›¸åŒçš„å›¢é˜Ÿç¼–å†™æ‚¨çš„æµ‹è¯•å’Œä»£ç 

è™½ç„¶åœ¨ä½ çš„å›¢é˜Ÿä¸­æœ‰ä¸€äº›å…·æœ‰æµ‹è¯•ä¸“ä¸šçŸ¥è¯†çš„äººä¼šéå¸¸æœ‰å¸®åŠ©ï¼Œä½†æ˜¯è®©ä»–ä»¬èå…¥å›¢é˜Ÿæ¯”ä¸€ä¸ªç‹¬ç«‹çš„ QA å›¢é˜Ÿæ›´å¥½ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå†™ä»£ç çš„äººéƒ½åœ¨å†™æµ‹è¯•ã€‚

Nick è°ˆåˆ°å½“ä¸åŒçš„å›¢é˜Ÿç¼–å†™ç«¯åˆ°ç«¯æµ‹è¯•æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ:

> æˆ‘è®¤ä¸ºï¼Œå¦‚æœä¸æ˜¯å¼€å‘äººå‘˜åœ¨è€ƒè™‘ï¼Œè¿™äº›æµ‹è¯•é€šå¸¸æ˜¯éå¸¸è„†å¼±çš„â€¦â€¦æˆ–è€…è‡³å°‘æ˜¯å¼€å‘é‚£äº›ç‰¹å®šåŠŸèƒ½çš„å¼€å‘äººå‘˜ï¼Œæˆ–è€…æ˜¯åº”ç”¨ç¨‹åºçš„ç‰¹å®šéƒ¨åˆ†ï¼Œå¦‚æœæ›´å¤šçš„æ˜¯ä¸€ä¸ªå›¢é˜Ÿåœ¨ç¼–å†™è¿™äº›æµ‹è¯•çš„è¯ï¼›æˆ‘è§è¿‡é‚£äº›æµ‹è¯•å˜å¾—æ›´åŠ è„†å¼±ï¼Œéå¸¸å®¹æ˜“å´©æºƒâ€¦è¿™æ€»æ˜¯å¾ˆå¯æ€•ï¼Œå› ä¸ºæ¯å½“ç«¯åˆ°ç«¯æµ‹è¯•å´©æºƒæ—¶ï¼Œæˆ‘æƒ³åˆ°çš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯â€œæµ‹è¯•å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿâ€ï¼Œè€Œä¸æ˜¯â€œæµ‹è¯•åäº†å—ï¼Ÿâ€æˆ–è€…â€œæ–‡æœ¬å®é™…ä¸Šæ˜¯åœ¨å‘æˆ‘æ˜¾ç¤ºä¸€ä¸ªé”™è¯¯ï¼Œè¿˜æ˜¯æµ‹è¯•å¤±è´¥äº†ï¼Ÿâ€

## [](#4-even-manual-tests-can-help-when-refactoring-legacy-code)4ã€‚å½“é‡æ„é—ç•™ä»£ç æ—¶ï¼Œç”šè‡³æ‰‹å·¥æµ‹è¯•ä¹Ÿä¼šæœ‰æ‰€å¸®åŠ©

ä½œä¸ºå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬å€¾å‘äºæƒ³è¦è‡ªåŠ¨åŒ–ä¸€åˆ‡ã€‚æ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä»¶å¥½äº‹ã€‚ä½†æ˜¯æœ‰æ—¶å€™â€”â€”ä¾‹å¦‚å½“é‡æ„åŠ£è´¨çš„é—ç•™ä»£ç æ—¶â€”â€”è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚å¦‚æœä½ æ­£è¯•å›¾é‡æ„å®ƒï¼Œå³ä½¿æœ‰ä¸€ç»„è®°å½•è‰¯å¥½çš„æ‰‹åŠ¨æµ‹è¯•ä¹Ÿèƒ½å¸®åŠ©ä½ åœ¨æ¥è§¦ä»£ç ä¹‹å‰ä¸éœ€è¦èŠ±è´¹æ•°å‘¨çš„æ—¶é—´å°±èƒ½è·å¾—ä¸€äº›å®‰å…¨ä¿æŠ¤ã€‚

å…‹é‡Œæ–¯:

> æ˜¯å•Šã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨çš„é—ç•™åº”ç”¨ç¨‹åºæ²¡æœ‰è¿™äº›åŠŸèƒ½æµ‹è¯•ï¼Œå¯èƒ½ä¼šå¾ˆéš¾åšåˆ°è¿™ä¸€ç‚¹â€¦ç‰¹åˆ«æ˜¯å¦‚æœæ‚¨çš„ä»£ç æ˜¯æ„å¤§åˆ©é¢æ¡ï¼Œæˆ–è€…ä¸æ˜¯ä»¥ä¸€ç§éå¸¸å¯æµ‹è¯•çš„æ–¹å¼ç¼–å†™çš„ï¼Œç„¶åæ‚¨å¯èƒ½æƒ³â€¦å“¦ï¼Œå¤©å“ªã€‚æ˜¯çš„ï¼Œæ‰€ä»¥ä½ å®³æ€•æ¨è¿›ç°ä»£åŒ–ï¼Œé™¤éä½ æœ‰è¿™äº›æµ‹è¯•ï¼›è€Œä¸”è¿›è¡Œæµ‹è¯•æ˜¯å¾ˆç—›è‹¦çš„ï¼Œå› ä¸ºä»£ç å¾ˆç³Ÿç³•ã€‚[ç¬‘å£°]

æˆ‘:

> ä½ ç”šè‡³å¯ä»¥åšæ‰‹å·¥æµ‹è¯•ã€‚â€œå®ƒè¯•å›¾æ”¯æŒçš„åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœæˆ‘ç°åœ¨æµ‹è¯•å®ƒï¼Œå®ƒä¼šåšä»€ä¹ˆï¼Ÿå¥½å§ï¼Œæˆ‘éƒ½å†™ä¸‹æ¥äº†ã€‚æˆ‘å†™äº†æˆ‘æ˜¯å¦‚ä½•æµ‹è¯•å®ƒçš„ï¼Œç°åœ¨æˆ‘æ”¹å˜äº†ä¸€äº›ä¸œè¥¿â€”â€”å®ƒè¿˜èƒ½æ­£å¸¸å·¥ä½œå—ï¼Ÿâ€œå› ä¸ºç†æƒ³æƒ…å†µä¸‹ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œä½†æœ‰ä¸€äº›ä»£ç éœ€è¦ç¼–å†™æµ‹è¯•â€”â€”ä½ å°†åœ¨è¿™ä¸Šé¢èŠ±è´¹æ•°å¤©æ—¶é—´ã€‚

* * *

å¥½äº†ï¼Œè¿™æ˜¯å…³äºæµ‹è¯•å“²å­¦çš„å››ä¸ªå¿«é€Ÿè¯¾ç¨‹çš„æ¦‚è¦ã€‚ä½ è¿˜æœ‰å—ï¼ŸæŠŠå®ƒä»¬æ”¾åœ¨ä¸‹é¢çš„è¯„è®ºé‡Œå§ï¼

* * *

å¯¹è¿™äº›æ¨èèƒŒåçš„äººæ„Ÿå…´è¶£ï¼Ÿæƒ³å¬å¬ä»–ä»¬å¯¹å¼€å‘çš„å…¶ä»–éƒ¨åˆ†å¦‚ä½•éšé¡¹ç›®ç±»å‹è€Œå˜åŒ–çš„æƒ³æ³•ï¼Œä»¥åŠä¸€äº›å…³äºä½¿ç”¨é—ç•™ä»£ç çš„ç»éªŒæ•™è®­å—ï¼Ÿåœ¨è¿™é‡Œå¬å®Œæ•´é›†ğŸ‘‡

 [# é‡æ„è„šæœ¬æ±¤](/jsparty/refactoring-script-soup)  [## JS å…š](/jsparty) ![play](../Images/da55340508c383dd96223748725e7fff.png) ![pause](../Images/b2e500349dc3cd65ea44585f746d2a0d.png) ![JS Party](../Images/9be2c799f00ba0cbc824a6f52797d0e2.png)

<audio id="audio" data-episode="refactoring-script-soup" data-podcast="jsparty"><source src="https://cdn.changelog.com/uploads/jsparty/70/js-party-70.mp3" type="audio/mpeg"> Your browser does not support the audio element.</audio>

[![Refactoring script soup](../Images/a3afdb93fb4ce5d8157822b6dd99b01e.png) ![animated volume bars](../Images/b4c6951c950232cdfef32ac750ed6d92.png) ](/jsparty/refactoring-script-soup)  ![play](../Images/da55340508c383dd96223748725e7fff.png) ![pause](../Images/b2e500349dc3cd65ea44585f746d2a0d.png)     ![volume](../Images/64c7607b77476eb3d924254262a5bca4.png)   <input type="range" name="points" id="volumeslider" value="50" min="0" max="100" data-show-value="true">    ![mute](../Images/53eef5aa80ab0610ec1ea90b95d54171.png)  1x  initializing... Ã— 

* * *

å¦‚æœå‰ç«¯å¼€å‘æ˜¯ä½ å…³å¿ƒçš„äº‹æƒ…ï¼Œä½ å¯èƒ½ä¹Ÿä¼šå¯¹æˆ‘çš„æ¯å‘¨æ—¶äº‹é€šè®¯ã€Šæ˜ŸæœŸäº”å‰ç«¯ã€‹æ„Ÿå…´è¶£ã€‚æ¯å‘¨äº”æˆ‘ä¼šå‘å‡º 15 ä¸ªé“¾æ¥ï¼Œé“¾æ¥åˆ° CSS/SCSSã€JavaScript å’Œå…¶ä»–å„ç§ç²¾å½©çš„å‰ç«¯æ–°é—»ä¸­çš„æœ€ä½³æ–‡ç« ã€æ•™ç¨‹å’Œå…¬å‘Šã€‚åœ¨è¿™é‡ŒæŠ¥å:[https://zendev.com/friday-frontend.html](https://zendev.com/friday-frontend.html)