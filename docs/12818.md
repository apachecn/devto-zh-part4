# ç©ºæ‰‹é“æ¡†æ¶:è®©æˆ‘ä»¬å†æ¬¡è®© API æµ‹è¯•å˜å¾—ä¼Ÿå¤§

> åŸæ–‡:[https://dev . to/Apium _ hub/ç©ºæ‰‹é“-æ¡†æ¶-let-s-make-API-tests-great-again-538 b](https://dev.to/apium_hub/karate-framework-let-s-make-api-tests-great-again-538b)

æˆ‘æœ€è¿‘è°ˆåˆ°äº†ä¸€ä¸ªå«åš Cypress çš„[æµ‹è¯•æ¡†æ¶ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è°ˆè®ºå¦ä¸€ä¸ª:ä¸€ä¸ªéå¸¸ç®€å•çš„ç”¨äº **REST API è‡ªåŠ¨åŒ–**çš„æµ‹è¯•æ¡†æ¶ï¼Œå«åš](https://apiumhub.com/tech-blog-barcelona/cypress-framework-swiss-knife-tests/)[ç©ºæ‰‹é“](https://github.com/intuit/karate)ã€‚ä¸ºäº†æ›´å¥½åœ°æè¿°å®ƒï¼Œä¸‹é¢æ˜¯æ¥è‡ªå®˜æ–¹æ¥æºçš„ä¸€æ®µéå¸¸æœ‰æè¿°æ€§çš„æ‘˜å½•:

> ç©ºæ‰‹é“æ¡†æ¶æ˜¯å”¯ä¸€ä¸€ä¸ªå°† API æµ‹è¯•è‡ªåŠ¨åŒ–ã€æ¨¡æ‹Ÿå’Œæ€§èƒ½æµ‹è¯•æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€æ¡†æ¶ä¸­çš„å¼€æºå·¥å…·ã€‚Cucumber æ¨å¹¿çš„ BDD è¯­æ³•æ˜¯è¯­è¨€ä¸­ç«‹çš„ï¼Œå³ä½¿å¯¹äºéç¨‹åºå‘˜ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ã€‚é™¤äº†å¼ºå¤§çš„ JSON & XML æ–­è¨€ï¼Œæ‚¨è¿˜å¯ä»¥å¹¶è¡Œè¿è¡Œæµ‹è¯•ä»¥æé«˜é€Ÿåº¦â€”â€”è¿™å¯¹ HTTP API æµ‹è¯•è‡³å…³é‡è¦ã€‚

å…ˆæ¥å¯¹æ¯”ä¸€ä¸‹**ç©ºæ‰‹é“**æµ‹è¯•ä¸é»„ç“œ[æ”¾å¿ƒ](http://rest-assured.io)ã€‚

ç©ºæ‰‹é“:

[![Karate Test](../Images/d56ddc367d7805bf74dff1afb7b85368.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QD-kurur--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/karate-test-1024x246.jpg)

é»„ç“œ:+æˆ‘ä»¬å¿…é¡»å®ç°æ­¥éª¤å’Œ POJO:

[![Cucumber Test](../Images/f44f80accbd7acb353224ca7056be8b1.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--8LeODVnn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/cucumber-test-1024x193.jpg)

æ”¾å¿ƒ:

[![Rest Assured](../Images/0ff16680be2a9a1f810f25b4f56c64b8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--uVd_fOus--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/rest-assured-1024x303.jpg)

ç©ºæ‰‹é“ä¼˜åŠ¿:ä¸€å¤„ BDD(ç›¸æ¯”é»„ç“œ+æ­¥éª¤+å•†ä¸šé€»è¾‘+POJO)ã€‚å¦‚æœä½ éœ€è¦å¤æ‚æ€§ï¼Œç©ºæ‰‹é“æœ‰ Javascript æ”¯æŒã€‚

å¯¹äºå…ˆå†³æ¡ä»¶ä½¿ç”¨ï¼Œç©ºæ‰‹é“å»ºè®®ä½¿ç”¨å¦ä¸€ä¸ªç‰¹å¾æ–‡ä»¶:

[![Karate Preconditions](../Images/e572cea265bee0ef002d78e98d67a4f9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--2FAMwf8Y--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/karate-preconditions1-1024x248.jpg)

ç”±äºç©ºæ‰‹é“æ˜¯ç”¨ java å†™çš„ï¼Œæ‰€ä»¥æœ‰ Java é›†æˆã€‚

ä» API æµ‹è¯•è°ƒç”¨ Java æ–¹æ³•ï¼Œe.x ç”Ÿæˆ uniqueId:

[![Generate uniqueId](../Images/e84ee558fd370c8c7236a83a11640dcc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--_1OcP7UA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/generate-uniqueid-1024x137.jpg)

ä½¿ç”¨ç©ºæ‰‹é“çš„å¦ä¸€ä¸ªä¼˜åŠ¿æ˜¯å®ƒçš„æ–­è¨€èƒ½åŠ›:

[![Karate Assertion Capabilities](../Images/a1440a7b9f77e7250c6fb75f43766fc3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--GNU5CkzX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/karate-assertion-capabilities-1024x334.jpg)

æ¶æ„éªŒè¯ã€‚ç”¨æˆ·å‹å¥½çš„å“åº”éªŒè¯æ ¼å¼ã€‚å°† json ä½œä¸ºå˜é‡é‡ç”¨ã€‚ç©ºæ‰‹é“æ ‡è®°ã€‚æ»´æ»´æ¶•ã€‚ç±»ä¼¼äº Cucumberï¼Œä½†æ˜¯ä¸ Cucumber ç›¸æ¯”ï¼ŒCucumber çš„å˜é‡åœ¨è¡¨ä¸­æ˜¯é™æ€çš„ï¼Œåœ¨ç©ºæ‰‹é“ä¸­æˆ‘ä»¬å¯ä»¥å¯¼å…¥ä¸€ä¸ªåŒ…å«æ•°æ®çš„ csv æ–‡ä»¶ã€‚å¯ä»¥æ˜¯ api ç«¯ç‚¹è¾¹ç•Œæµ‹è¯•ä¸­çš„ç”¨æˆ·å®ä¾‹ã€‚

[![Boundary Testing](../Images/52bf8f83d4bf391ae414378a63db72c6.png) ](https://res.cloudinary.com/practicaldev/image/fetch/s--9rkEd8oa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/boundary-testing-1024x330.jpg) [ ![Boundary Testing](../Images/9c0ebf4af69f35ca08bd3d4ae6bf6118.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--4xyN_HSo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/boundary-testing2-1024x417.jpg)

å¹¶è¡Œæ‰§è¡Œã€‚ä½¿ç”¨ Junit5 è¿è¡Œã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”¨æ ‡ç­¾@regression è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•/ç‰¹æ€§æ–‡ä»¶ã€‚

[![Parallel Execution](../Images/6a8a822ccef6225fa62021b61946439f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--pZqlWdeW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/parallel-execution-1024x275.jpg)

æŠ¥é“ã€‚å€¾åŸï¼Œé»„ç“œæŠ¥å‘Šã€‚ä»ç©ºæ‰‹é“ç›’ä¸­æå‡ºå¦‚ä¸‹æŠ¥å‘Š:

[![Karate API Test](../Images/4cf9e2d8c32bb6acd5ab03e06ad276bf.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--0dhT64QY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/karate-api-test-1.jpg)

è€Œä¸”æˆ‘ä»¬è¿˜å¯ä»¥å¾ˆå®¹æ˜“åœ°æ•´åˆé»„ç“œæŠ¥å‘Šæˆ–è€…è¿˜å€¾åŸ [![ğŸ˜‰](../Images/83c355ff4de5f32d62b7dca10e88e2a6.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--_JWCkMEY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://s.w.org/images/core/emoji/2.2.1/72x72/1f609.png)

åœ¨é»„ç“œæŠ¥å‘Šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—å¦‚ä¸‹å†…å®¹:

[![Karate Framework API Test](../Images/a6492271dcb9449497f621be30bf8f56.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--D9givmDO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://apiumhub.com/wp-content/uploads/2019/07/karate-api-test-2.jpg)

ç©ºæ‰‹é“æ¡†æ¶çš„å…¶ä»–ä¸€äº›å¾ˆé…·çš„ç‰¹æ€§:Json è·¯å¾„ã€UI åˆ†æ­¥è°ƒè¯•ã€ä¸ CI çš„é›†æˆã€å†…ç½® ENV åˆ‡æ¢å™¨ç­‰ã€‚

å¸–å­[ç©ºæ‰‹é“æ¡†æ¶:è®© API æµ‹è¯•å†æ¬¡å˜å¾—ä¼Ÿå¤§](https://apiumhub.com/tech-blog-barcelona/karate-framework-api-tests/)é¦–å…ˆå‡ºç°åœ¨[API hub](https://apiumhub.com)ä¸Šã€‚