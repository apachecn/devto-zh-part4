# ç”¨ Azure å‡½æ•°æ”¯æŒ Slack ChatOpsğŸ¤–âš¡

> åŸæ–‡:[https://dev . to/azure/creating-slack-commands-with-azure-functions-4j7h](https://dev.to/azure/creating-slack-commands-with-azure-functions-4j7h)

æˆ‘æœ€è¿‘ä¸€ç›´åœ¨å¯¹ DDD æ‚‰å°¼çš„åŸºç¡€è®¾æ–½è¿›è¡Œå‡çº§ï¼Œä¸»è¦æ˜¯å°† API ä» Azure Functions v1 å †æ ˆè¿ç§»åˆ° v2(å®é™…ä¸Šæ˜¯ä»å»å¹´å¼€å§‹çš„ä¸€é¡¹æ›´æ”¹ï¼Œç”±äº v2 é¢„è§ˆç‰ˆä¸­çš„ä¸€ä¸ªé”™è¯¯ï¼Œæˆ‘æš‚åœäº†è¿™é¡¹æ›´æ”¹)ã€‚

ä¸€æ—¦æˆ‘å®Œæˆäº†æ ¸å¿ƒåŠŸèƒ½ï¼Œæˆ‘å†³å®šæ˜¯æ—¶å€™è§£å†³æˆ‘ä¸€ç›´æƒ³è¦çš„ä¸œè¥¿äº†ï¼Œä¸€ç§æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¼šè¯ä¿¡æ¯å¹¶åœ¨æˆ‘ä»¬çš„ Slack é€šé“ä¸­æ‰§è¡Œä¸€äº›ä»»åŠ¡çš„æ–¹å¼ã€‚

## [](#extending-slack)å»¶é•¿æ¾å¼›æœŸ

æœ‰å‡ ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥æ‰©å±• Slackï¼Œå› ä¸ºæˆ‘çš„éœ€æ±‚å¾ˆç®€å•ï¼Œæ‰€ä»¥æˆ‘å†³å®šä½¿ç”¨[æ–œæ å‘½ä»¤](https://api.slack.com/slash-commands)ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é”®å…¥`/sessions 2019`å¹¶è·å¾—æŸä¸€å¹´æäº¤çš„æ‰€æœ‰ä¼šè¯çš„åˆ—è¡¨ã€‚

ç¬¬ä¸€æ­¥æ˜¯åœ¨ Slack ä¸­ä¸ºæ‚¨æƒ³è¦çš„å·¥ä½œåŒºåˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åº:

[![Creating a Slack App](../Images/5bc76d154f154beb3ed53f4a1dc16a17.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--uy77jzF_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.aaron-powell.com/images/slack-azure-functions/001.png)

æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå·²ç»å‡†å¤‡å¥½å¼€å§‹åˆ›å»ºå‘½ä»¤ï¼Œä½†åœ¨åˆ›å»ºå‘½ä»¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª URL ä¾›å®ƒè°ƒç”¨ï¼Œä¸ºæ­¤æˆ‘ä»¬å°†ä½¿ç”¨ [Azure Functions](https://azure.microsoft.com/en-us/services/functions/?WT.mc_id=devto-blog-aapowell) ã€‚

## [](#creating-our-function)åˆ›å»ºæˆ‘ä»¬çš„å‡½æ•°

æˆ‘ä½¿ç”¨ [VS ä»£ç åˆ›å»ºå‡½æ•°](https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-function-vs-code?WT.mc_id=devto-blog-aapowell)(ä½†æ˜¯é€‰æ‹©ä½ æƒ³è¦çš„ç¼–è¾‘å™¨)ï¼Œç„¶åæˆ‘ä¿®æ”¹ç”Ÿæˆçš„é¡¹ç›®ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥ä½¿ç”¨ F#(è§[è¿™ç¯‡æ–‡ç« ](https://dev.to/azure/azure-functions-with-f-2l3c)äº†è§£ä½ éœ€è¦åšä»€ä¹ˆ)ã€‚

å®Œæˆæ‰€æœ‰å·¥ä½œåï¼Œå°±è¯¥åˆ›å»ºä¸€ä¸ªå‡½æ•°äº†ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåˆ—å‡ºå·²æ‰¹å‡†ä¼šè¯çš„å‡½æ•°ï¼*å¿«é€Ÿæç¤º:æˆ‘ä»¬ä» Sessionize åŒæ­¥ä¼šè®®ï¼Œä½†å°†å®ƒä»¬æ ‡è®°ä¸ºâ€œæœªæ‰¹å‡†â€,è¿™æ„å‘³ç€æˆ‘ä»¬åœ¨æ‰¹å‡†å®ƒä»¬ä¹‹å‰ä¼šå¯¹å®ƒä»¬è¿›è¡Œå¿«é€Ÿå®¡æŸ¥ï¼Œä»¥ç¡®ä¿å®ƒä»¬æ²¡æœ‰è¿åæˆ‘ä»¬çš„è¡Œä¸ºå‡†åˆ™ã€‚åªèƒ½å¯¹æ‰¹å‡†çš„ä¼šè®®è¿›è¡ŒæŠ•ç¥¨ã€‚*

å½“æ‰§è¡Œ slash å‘½ä»¤æ—¶ï¼Œå®ƒä¼šå‘æ‚¨æä¾›çš„ç«¯ç‚¹å‘é€ä¸€ä¸ª HTTP POSTï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ [HTTP ç»‘å®š](https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-http-webhook?WT.mc_id=devto-blog-aapowell)ã€‚

```
module SlackCommands

open Microsoft.Azure.WebJobs
open Microsoft.Azure.WebJobs.Extensions.Http
open Microsoft.AspNetCore.Http

[<FunctionName("Slack_Approved_Sessions")>]
let approvedSessionsCommand ([<HttpTrigger(AuthorizationLevel.Function, "post", Route = "v2/Slack-ApprovedSession")>] req: HttpRequest)
                            ([<Table("Session", Connection = "EventStorage")>] sessionsTable)
                            ([<Table("Presenter", Connection = "EventStorage")>] presentersTable) =
    ignore() 
```

è®©æˆ‘ä»¬åˆ†è§£ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¼€å§‹åˆ›å»º F#å‡½æ•°ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„ Azure å‡½æ•°ï¼Œå‘½åä¸º`approvedSessionsCommand`ã€‚å®ƒç”¨`FunctionName`å±æ€§æ¥ä¿®é¥°ï¼Œä»¥ä¾¿å‡½æ•°ä¸»æœºçŸ¥é“å®ƒã€‚æœ€åï¼Œæˆ‘ä»¬ä¸ºå®ƒæä¾›ä¸€äº›ç»‘å®šå‚æ•°ï¼Œå¯¹äºè¿™ä¸ªæˆ‘ä»¬éœ€è¦ä¸‰ä¸ªç»‘å®šï¼Œç¬¬ä¸€ä¸ªæ˜¯`HttpTrigger`å±æ€§ï¼Œç„¶åä¸¤ä¸ª`Table`ç»‘å®šè®©æˆ‘ä»¬è®¿é—®ä¿å­˜æ•°æ®çš„è¡¨å­˜å‚¨ã€‚å¯¹äº`HttpTrigger`ï¼Œå®ƒçš„è®¿é—®çº§åˆ«è¢«å®šä¹‰ä¸º`AuthorizationLevel.Function`ï¼Œè¿™æ„å‘³ç€éœ€è¦æä¾›ä¸€ä¸ªå¯†é’¥æ¥è®¿é—®å®ƒ(åŸºæœ¬å®‰å…¨)ï¼Œå®ƒåªç›‘å¬`"post"`è¯·æ±‚ï¼Œè·¯ç”±ä¸º`v2/Slack-ApprovedSessions` ( `v2`æ˜¯å› ä¸ºè¿™æ˜¯ DDD æ‚‰å°¼çš„ç¬¬äºŒä»£ API)ã€‚

### [](#handling-the-incoming-message)å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯

å½“ä¸€ä¸ªæ–œæ å‘½ä»¤è¢«é”®å…¥æ—¶ï¼Œä½ å¯ä»¥å‘å®ƒæä¾›ä¸€æ¡æ¶ˆæ¯ï¼Œè¿™æ¡æ¶ˆæ¯è¢«ä¼ é€’ç»™è¢«è°ƒç”¨çš„å‡½æ•°ã€‚æˆ‘åœ¨æˆ‘ä»¬çš„ç›®çš„ä¸­ä½¿ç”¨å®ƒæ¥è·å¾—å¹´ä»½ï¼Œå› æ­¤è¯¥å‘½ä»¤å¯ä»¥æ¯å¹´ä½¿ç”¨è€Œä¸æ”¹å˜ï¼Œåƒ`/sessions 2019`ä¸€æ ·è°ƒç”¨å®ƒã€‚

è¦è·å–è¿™ä¸ªæ–‡æœ¬ï¼Œæˆ‘ä»¬éœ€è¦ä»ä¼ å…¥çš„æ¶ˆæ¯ä½“ä¸­è·å–å®ƒï¼Œä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸æ˜¯ JSON çš„æœ‰æ•ˆè½½è·ï¼Œè€Œæ˜¯ä¸€ä¸ªæ ‡å‡†å½¢å¼çš„ postï¼Œæ‰€ä»¥å¯¹æˆ‘ä»¬æ¥è¯´æ²¡æœ‰å¥½çš„å¹²å‡€çš„å¯¹è±¡ã€‚ğŸ™

ç›¸åï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä»`HttpRequest`çš„èº«ä½“é‡Œå–å‡ºæ¥:

```
[<FunctionName("Slack_Approved_Sessions")>]
let approvedSessionsCommand ([<HttpTrigger(AuthorizationLevel.Function, "post", Route = "v2/Slack-ApprovedSession")>] req: HttpRequest)
                            ([<Table("Session", Connection = "EventStorage")>] sessionsTable)
                            ([<Table("Presenter", Connection = "EventStorage")>] presentersTable) =
    let year = req.Form.["text"].[0]

    ignore() 
```

è¡¨å•çš„`text`å±æ€§åŒ…å«ç”¨æˆ·è¾“å…¥çš„å†…å®¹(ä¸åŒ…æ‹¬æ–œæ å‘½ä»¤),æ‰€ä»¥æœ€å¥½å¯¹å…¶è¿›è¡Œä¸€äº›éªŒè¯ï¼Œä»¥ç¡®ä¿å®ƒç¬¦åˆæ‚¨æƒ³è¦çš„ç»“æ„ï¼Œå¦‚æœä¸ç¬¦åˆå°±æ‹’ç»å®ƒã€‚

### [](#getting-data)è·å–æ•°æ®

æˆ‘å°†åªå¿«é€Ÿå›é¡¾ä¸€ä¸‹è¿™ä¸ªç‰¹å®šå‡½æ•°æ˜¯å¦‚ä½•è·å–æ•°æ®çš„ï¼Œå› ä¸ºå®ƒæ˜¯ç‰¹å®šäº*çš„ï¼Œæˆ‘çš„*åœºæ™¯å’Œä½ çš„åœºæ™¯å¯èƒ½ä¸åŒã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™æ˜¯**åªæ˜¯ä¸€ä¸ª Azure å‡½æ•°**ï¼Œæ‰€ä»¥ä½ å¯ä»¥åšä»»ä½•ä½ éœ€è¦åšçš„äº‹æƒ…ã€‚

æˆ‘ä»¬çš„ä¼šè®®æ•°æ®å­˜å‚¨åœ¨è·¨ä¸¤ä¸ªè¡¨çš„è¡¨å­˜å‚¨ä¸­ï¼Œä¸€ä¸ªæ˜¯åŒ…å«ä¼šè®®å…ƒæ•°æ®çš„`Session`è¡¨ï¼Œå¦ä¸€ä¸ªæ˜¯åŒ…å«ä¼šè®®å‘è¨€äººçš„`Presenter`è¡¨ï¼Œå› ä¸ºä¸€ä¸ªä¼šè®®å¯èƒ½æœ‰å¤šä¸ªå‘è¨€äºº(æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸å¯¹å‘è¨€äººè¡¨è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤ï¼Œå› æ­¤å¦‚æœæ‚¨æäº¤å¤šä¸ªæ¼”è®²ï¼Œæˆ‘ä»¬ä¼šä¸ºæ‚¨æä¾›å¤šä¸ªè®°å½•)ã€‚è¿™ä¸¤ä¸ªè¡¨ä½¿ç”¨ä¼šè¯ IDâ€œé“¾æ¥â€åœ¨ä¸€èµ·ã€‚

ä¸ºäº†è®¿é—®æ•°æ®ï¼Œæˆ‘ä½¿ç”¨äº† [FSharpã€‚Azure.Storage](https://github.com/fsprojects/FSharp.Azure.Storage) NuGet åŒ…ï¼Œå®ƒä¸ºå¤„ç†è¡¨å­˜å‚¨æä¾›äº†ä¸€ä¸ªæ›´å¥½çš„ F# APIã€‚

```
[<FunctionName("Slack_Approved_Sessions")>]
let approvedSessionsCommand ([<HttpTrigger(AuthorizationLevel.Function, "post", Route = "v2/Slack-ApprovedSession")>] req: HttpRequest)
                            ([<Table("Session", Connection = "EventStorage")>] sessionsTable)
                            ([<Table("Presenter", Connection = "EventStorage")>] presentersTable) =
     async {
         let year = req.Form.["text"].[0]

         let! sessions = Query.all<SessionV2>
                         |> Query.where <@ fun s _ -> s.EventYear = year && s.Status = "Approved" @>
                         |> fromTableToClientAsync sessionsTable

         let! presenters = Query.all<Presenter>
                           |> Query.where<@ fun p _ -> p.EventYear = year @>
                           |> fromTableToClientAsync presentersTable
        return ignore()
    } |> Async.StartAsTask 
```

æˆ‘ä»¬ä½¿ç”¨`Query.all<T>`æ¥å–å›æ•°æ®ï¼Œç„¶åä½¿ç”¨`Query.where`æ¥è¿‡æ»¤æ‰€æä¾›çš„å¹´ä»½å’Œ(åœ¨ä¼šè®®çš„æƒ…å†µä¸‹)`Approved`çš„çŠ¶æ€ã€‚è¿™ä¸æ˜¯è¶…çº§ä¼˜åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬å¾—åˆ°äº†æ‰€æœ‰æ¼”ç¤ºè€…ï¼Œå³ä½¿ä»–ä»¬ä¸æ‰¹å‡†çš„ä¼šè¯æ— å…³ï¼Œä½†æˆ‘ä»¬è°ˆè®ºçš„æ˜¯å¤§çº¦ 100 æ¡è®°å½•ï¼Œæ‰€ä»¥æ€§èƒ½å¹¶ä¸çœŸæ­£ä»¤äººæ‹…å¿§ã€‚

### [](#preparing-our-response)å‡†å¤‡æˆ‘ä»¬çš„åº”å¯¹

æœ‰äº†æˆ‘ä»¬çš„æ•°æ®ï¼Œæ˜¯æ—¶å€™å‘ Slack å‘é€å›å¤äº†ã€‚Slack æ”¯æŒ[è®¸å¤šåˆ›å»ºæ¶ˆæ¯](https://api.slack.com/messaging/composing)çš„æ–¹å¼ï¼Œä½†æ˜¯å½“ä½ ä½¿ç”¨[å¸ƒå±€å—](https://api.slack.com/reference/messaging/blocks)æ—¶ï¼Œä½ è¢«é™åˆ¶åœ¨ 50 å—ä»¥å†…ï¼Œæˆ‘ä»¬ä¼šæœ‰æ›´å¤šçš„å¯¹è¯ï¼Œæ‰€ä»¥è¿™å¹¶ä¸ç†æƒ³ã€‚

ç›¸åï¼Œæˆ‘ä»¬å°†ä¿æŒç®€å•ï¼Œåªä½¿ç”¨åµŒå…¥äº†`mrkdwn`çš„çº¯æ–‡æœ¬å“åº”ã€‚*æ³¨æ„:Slack ä¸ä½¿ç”¨ Markdownï¼Œå®ƒä½¿ç”¨è‡ªå·±çš„å˜ä½“`mrkdwn`ã€‚å¯¹äºå¯ä»¥åº”ç”¨çš„æ ¼å¼ï¼Œæœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ«å’Œé™åˆ¶ã€‚*

```
let sessionToViewMessage session presenters =
    presenters
    |> Seq.map (fun p -> p.FullName)
    |> String.concat ", "
    |> sprintf "(%s) _%s_ by *%s*" session.SessionizeId session.Title

[<FunctionName("Slack_Approved_Sessions")>]
let approvedSessionsCommand ([<HttpTrigger(AuthorizationLevel.Function, "post", Route = "v2/Slack-ApprovedSession")>] req: HttpRequest)
                            ([<Table("Session", Connection = "EventStorage")>] sessionsTable)
                            ([<Table("Presenter", Connection = "EventStorage")>] presentersTable) =
     async {
         let year = req.Form.["text"].[0]

         let! sessions = Query.all<SessionV2>
                         |> Query.where <@ fun s _ -> s.EventYear = year && s.Status = "Approved" @>
                         |> fromTableToClientAsync sessionsTable

         let! presenters = Query.all<Presenter>
                           |> Query.where<@ fun p _ -> p.EventYear = year @>
                           |> fromTableToClientAsync presentersTable

         let resultSessions = sessions
                              |> Seq.map(fun (s, _) ->
                                  presenters
                                  |> Seq.filter (fun (p, _) -> p.TalkId = s.SessionizeId)
                                  |> Seq.map (fun (p, _) -> p)
                                  |> sessionToViewMessage s)

         match Seq.length resultSessions with
         | 0 -> return OkObjectResult("ğŸ’¥ There are no approved sessions") :> IActionResult
         | _ -> return OkObjectResult(resultSessions |> String.concat "\r\n") :> IActionResult
     } |> Async.StartAsTask 
```

æˆ‘å¼•å…¥äº†ä¸€ä¸ªå‡½æ•°è°ƒç”¨`sessionToViewMessage`,å®ƒæ¥å—ä¸€ä¸ªä¼šè¯åŠå…¶æ¼”ç¤ºè€…ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„è¡Œå­—ç¬¦ä¸²:

```
(12345) _My Awesome Session_ by *Aaron Powell* 
```

è¿™æ ·åšçš„ç»“æœæ˜¯ä¸€ä¸ª`seq<string>`ï¼Œå®ƒä¸`\r\n`è¿æ¥åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ–°è¡Œï¼Œå¹¶ä½œä¸º`OkObjectResult`è¿”å›ï¼Œä»¥è¡¨ç¤ºå¯¹ Slack çš„`HTTP 200 OK`å“åº”ã€‚

ç°åœ¨ä½ çš„åŠŸèƒ½å®Œæˆäº†ï¼ŒæŠŠå®ƒéƒ¨ç½²åˆ° Azure(ä½¿ç”¨ç®¡é“ï¼Œä½¿ç”¨ [VS ä»£ç å·¥å…·](https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-function-vs-code?WT.mc_id=devto-blog-aapowell#publish-the-project-to-azure)ç­‰ç­‰ã€‚)å¹¶ä¸”æˆ‘ä»¬å‡†å¤‡å°†å…¶æ’å…¥ Slackã€‚

## [](#wiring-up-our-slash-command)å¸ƒçº¿èµ·æ–œçº¿å‘½ä»¤

éšç€æˆ‘ä»¬çš„å‡½æ•°çš„éƒ¨ç½²ï¼Œæ˜¯æ—¶å€™å°†å®ƒæ’å…¥åˆ°æˆ‘ä»¬çš„ slash å‘½ä»¤ä¸­äº†ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ æœ‰ Azure å‡½æ•°çš„ URL(ä½ å¯ä»¥é€šè¿‡é—¨æˆ·è·å¾—)ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å®ƒæ¥è®¾ç½® slash å‘½ä»¤ã€‚

ç°åœ¨ä½ å·²ç»æœ‰äº†æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ Slack åº”ç”¨çš„ URLï¼Œå¯¼èˆªåˆ°`Features -> Slash Commands -> Create New Command`å¹¶å¡«å†™è¡¨æ ¼ã€‚

[![Create New Command screen](../Images/4eb27a017e7aeb63d23391b6677e3456.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--gAg9e_jl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.aaron-powell.com/images/slack-azure-functions/002.png)

å®Œæˆåç‚¹å‡»`Save`ã€‚

æœ€åï¼Œå¯¼èˆªå›`Basic Information`å¹¶ç¡®ä¿æ‚¨çš„åº”ç”¨ç¨‹åºå·²ç»å®‰è£…åˆ°æ‚¨çš„å·¥ä½œåŒºä¸­:

[![Install Application to Slack Workspace](../Images/e3b99ebae7d94fe9a6940f45098586c5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--2lX1Xeeh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.aaron-powell.com/images/slack-azure-functions/003.png)

ç°åœ¨ä½ çš„æ–œæ å‘½ä»¤ä¼šå‡ºç°ç»™å¤§å®¶ä½¿ç”¨ï¼

[![Slash Command in action](../Images/39cd5e6227761932760800b2bddce47e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--hg4aeLo7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.aaron-powell.com/images/slack-azure-functions/004.png)

ğŸ‰ä½ ç°åœ¨æœ‰äº†ä¸€ä¸ªç”± Azure å‡½æ•°æ”¯æŒçš„ slash å‘½ä»¤ï¼

## [](#conclusion)ç»“è®º

Slack ä¸­çš„ Slash å‘½ä»¤æ˜¯å°†ä¸šåŠ¡ä¸­çš„ä¸€äº›å®šåˆ¶åŠŸèƒ½é›†æˆåˆ°æ ‡å‡†å·¥å…·ä¸­çš„ä¸€ç§éå¸¸ç®€å•çš„æ–¹æ³•ã€‚å¯¹äº DDD æ‚‰å°¼çš„æˆ‘ä»¬æ¥è¯´ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å¿«é€Ÿå®Œæˆä¼šè®®æ‰€éœ€çš„ç®¡ç†ä»»åŠ¡ï¼Œè€Œä¸å¿…æ·±å…¥ Azure é—¨æˆ·ã€‚

Azure å‡½æ•°è®©è¿™ä¸€åˆ‡å˜å¾—éå¸¸ç®€å•ï¼Œä»ç®€å•çš„ HTTP è§¦å‘å™¨ç»‘å®šæ¥å—ä¼ å…¥çš„`POST`ï¼Œåˆ°é¢„è§£æçš„è¡¨å•ä¸»ä½“ä½œä¸ºé”®/å€¼å¯¹ï¼Œå¹¶è®©å‡½æ•°æä¾›æˆ‘ä»¬éœ€è¦é›†æˆçš„å…¶ä»– Azure æœåŠ¡çš„è‡ªåŠ¨è¿æ¥ã€‚ä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„ [GitHub API é¡¹ç›®](https://github.com/dddsydney/dddapi/blob/master/DDDApi.Functions/v2/SlackCommands.fs)çš„ API ä¸­æŸ¥çœ‹æ‰€æœ‰çš„æ–œæ å‘½ä»¤ã€‚

å¸Œæœ›è¿™å·²ç»è®©ä½ å¯¹å¦‚ä½•ç”¨ Slack å’Œ Azure å‡½æ•°åšè‡ªå·±çš„ ChatOps æœ‰äº†ä¸€äº›äº†è§£ã€‚