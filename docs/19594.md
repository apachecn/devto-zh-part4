# è¶…è¶Š appendChild:HTML çš„æ›´å¥½çš„ä¾¿åˆ©æ–¹æ³•

> åŸæ–‡:[https://dev . to/chromium dev/beyond-append child-better-conveniency-methods-for-html-55n 4](https://dev.to/chromiumdev/beyond-appendchild-better-convenience-methods-for-html-55n4)

æˆ‘å·²ç»åœ¨ç½‘ä¸Šå»ºç«‹äº†ä¸€æ®µæ—¶é—´äº†ã€‚ä»¥è‡³äºå½“æˆ‘ç¼–å†™æ™®é€šçš„ HTML/JS æ—¶ï¼Œæˆ‘æ€»æ˜¯ä½¿ç”¨`.appendChild()`æ¥æ·»åŠ æ–°çš„ HTML å…ƒç´ ï¼Œä»¥åŠéšä¹‹è€Œæ¥çš„ä¸€ç³»åˆ—`createElement`è°ƒç”¨ã€‚

ä½†æ˜¯å®é™…ä¸Šæœ‰ä¸€äº›æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨çš„é²œä¸ºäººçŸ¥çš„ä¾¿åˆ©æ–¹æ³•(å—¯ï¼Œåœ¨å IE11 æ—¶ä»£ï¼Œæ‰€æœ‰çš„å¼€å‘äººå‘˜éƒ½åº”è¯¥åœ¨é‚£é‡Œ)ã€‚ğŸŒğŸ‘æˆ‘ä¸æ˜¯åå¯¹ä½ çš„æ¡†æ¶æˆ–ç»„ä»¶ï¼Œä½†æ˜¯æœ‰æ—¶å€™ï¼Œä½ å¿…é¡»å†™æ™®é€šçš„ JSã€‚ğŸ¦

## [](#oneline-element-creation)å•è¡Œå…ƒç´ åˆ›å»º

æˆ‘æ‰¿è®¤ğŸ˜…è¿™å¹¶ä¸æ˜¯çœŸæ­£çš„ä¸€è¡Œï¼Œè€Œæ˜¯ä¸€ä¸ª*è¯­å¥* :

```
const el = Object.assign(document.createElement('div'), {
  textContent: `Your div now has text`,
  className: 'and-is-classy',
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

IE11 ä¸­æ²¡æœ‰åŠ©æ‰‹`Object.assign`ã€‚

## [](#remove-self)æ¸…é™¤è‡ªæˆ‘

è¿™ä¸ªéå¸¸æœ‰åã€‚

```
const el = document.getElementById('something');
el.remove();   // instead of el.parentNode.removeChild(el) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#insert-element-or-text)æ’å…¥å…ƒç´ *æˆ–*æ–‡æœ¬

`.append()`æ–¹æ³•å¯ä»¥é™„åŠ ä»»ä½•çœŸå®çš„å…ƒç´ ï¼Œæˆ–è€…å¦‚æœä½ ç»™å®ƒä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚å®ƒéœ€è¦ä»»æ„æ•°é‡çš„å‚æ•°ã€‚

```
el.append(document.createElement('hr'), 'I get upgraded to a text node!'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿˜æœ‰ä¸`.append()`ç›¸åçš„`.prepend()`ã€‚å®ƒå°†æ‰€æœ‰å…ƒç´ æŒ‰é¡ºåºæ’å…¥åˆ°å…ƒç´ çš„å¼€å¤´:

```
const heading = Object.assign(document.createElement('h2', {
  textContent: 'List Of Awesome HTML Methods',
});
list.prepend(heading, `You Won't Believe How Many We Found!`); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#insert-relative-to-element)ç›¸å¯¹äºå…ƒç´ æ’å…¥

æ¯ä¸ªå…ƒç´ éƒ½æœ‰æ–¹æ³•`.before()`å’Œ`.after()`ã€‚è¿™äº›æ“ä½œä¼šåœ¨å½“å‰èŠ‚ç‚¹æ—è¾¹ç›´æ¥æ’å…¥æ–°çš„ HTML èŠ‚ç‚¹ã€‚å’Œä¸Šé¢çš„æ–¹æ³•ä¸€æ ·ï¼Œå®ƒä»¬æ¥å—ä»»æ„æ•°é‡çš„å…¶ä»–å…ƒç´ æˆ–å­—ç¬¦ä¸²ã€‚

```
myHeading.before(superHeading);
myHeading.after(`Here's a list of awesome stuff`, theList); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

âš ï¸:æœ‰ä¸€ä¸ªè­¦å‘Š:åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå¦‚æœ`myHeading`å®é™…ä¸Šä¸åœ¨é¡µé¢ä¸Šâ€”â€”å®ƒæ˜¯ä¸€ä¸ªä¸´æ—¶å…ƒç´ â€”â€”è¿™äº›æ–¹æ³•å°†ä¼šæ— å£°åœ°å¤±è´¥è€Œä¸ä¼šæŠ›å‡º`Error`ã€‚

## [](#replace-self)æ›¿æ¢è‡ªæˆ‘

æˆ‘ä»¬ç°åœ¨å¯ä»¥è‡ªæ¯ä¸€ä¸ªå…ƒç´ ï¼Œç”¨æ–°çš„ä¸œè¥¿ä»£æ›¿å®ƒï¼Œè€Œä¸æ˜¯è·³ä¸€æ”¯`parentNode.replaceChild`èˆã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»»æ„æ•°é‡çš„å…¶ä»–å…ƒç´ æˆ–å­—ç¬¦ä¸²æ›¿æ¢æˆ‘ä»¬è‡ªå·±(ç”šè‡³æ²¡æœ‰ï¼).

```
const fancyItem = Object.assign(document.createElement('strong'), {
  textContent: 'fancy',
});
someFancyHeading.replaceWith('Less', fancyItem, 'heading');
someFancyHeading.replaceWith();  // although you could just use .remove ğŸ¤· 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#class-force-set)ç­åŠ›è®¾å®š

å¦‚æœæ‚¨æƒ³å°†ç±»çš„çŠ¶æ€è®¾ç½®ä¸ºå˜é‡ true æˆ– falseï¼Œæ‚¨å¯ä»¥å°†ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™`.classList.toggle` :

```
const someState = false;
theDiv.classList.toggle('foo', !someState);  // forces foo on
theDev.classList.toggle('bar', someState);   // forces bar off
// result e.g. <div id="theDiv" class="foo"> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸€ç‚¹*å¤§æ¦‚*ä¼—æ‰€å‘¨çŸ¥ã€‚ä½†æ˜¯å¦‚æœä½ æ˜ç¡®åœ°ä¸æ”¯æŒ IE11ï¼Œç¡®ä¿¡å®ƒç°åœ¨å·¥ä½œæ˜¯å¾ˆå¥½çš„ã€‚ğŸ‰

# [](#done)æå®šï¼

æˆ‘é”™è¿‡äº†ä»€ä¹ˆï¼Ÿè®©æˆ‘çŸ¥é“ä½ æœ€è¿‘æ˜¯å¦å‘ç°äº†å…¶ä»–å¯ä»¥æ”¾å¼ƒçš„æ—§ä¹ æƒ¯ã€‚

nine