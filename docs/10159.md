# ä¸æ˜¯æ•°å­—

> åŸæ–‡:[https://dev.to/atila/not-a-number-3j69](https://dev.to/atila/not-a-number-3j69)

# [](#checking-nan-is-tricky)æŸ¥æ¥ å¾ˆæ£˜æ‰‹

é¦–å…ˆï¼ŒæŸ¥èµ·æ¥ç®€ç›´ä¸æ˜¯å°äº‹ã€‚

```
NaN === NaN // false 
```

è¿™æ˜¯å…¶ä¸­ä¸€ä¸ªè¿™æ ·çš„å¤´åƒã€‚é•¿è¯çŸ­è¯´ï¼Œæµ®ç‚¹æ•°æœ‰ä¸€ä¸ª[è§„èŒƒ](https://en.wikipedia.org/wiki/IEEE_754)ï¼Œå®ƒå†³å®šäº†`NaN`çš„å€¼æ°¸è¿œä¸ç›¸ç­‰ã€‚

ç„¶åï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´æˆ‘ä»¬åªæœ‰`isNaN()`æ–¹æ³•ï¼Œå®ƒæ¶µç›–äº†ä¸Šè¿°æƒ…å†µï¼Œä½†å®ƒä¼šç»™ä½ å¸¦æ¥ä¸€äº›æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

```
isNaN(NaN) // true
isNaN('foo') // true 
```

é‚£æ˜¯ä»¤äººå›°æƒ‘çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ ES5 æ—¶ä»£ï¼Œäººä»¬é€šå¸¸ä¼šè¿™æ ·åš:

```
const isReallyNaN = value => {
  const n = isNaN(value)
  return n !== n
} 
```

å¹¸è¿çš„æ˜¯ï¼Œè‡ªä» ES6 å‡ºç°ä»¥æ¥ï¼Œæˆ‘ä»¬ç°åœ¨åœ¨`Number`åŸå‹ä¸­æœ‰äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼Œå®ƒåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜¯ä¸€è‡´çš„:

```
Number.isNaN('foo') // false
Number.isNaN(NaN) // true 
```

é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œ`isNaN`å’Œ`Number.isNaN`éƒ½æ˜¯å¯ç”¨çš„ï¼Œæ³¨æ„ä¸è¦æ··æ·†ï¼ğŸ’¥

## [](#references)å‚è€ƒæ–‡çŒ®

*   [MDN ä¸Šçš„`isNaN`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN)
*   [MDN ä¸Šçš„`Number.isNaN`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN)