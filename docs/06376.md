# Flappy é¸Ÿï¼Œåœ¨ä¸€ä¸ªæ–°çš„ï¼Œè¶…çº§ç®€å•çš„æ¸¸æˆæ¡†æ¶ğŸ¦

> åŸæ–‡:[https://dev . to/jajoosam/flappy-bird-in-a-new-super-easy-game-framework-2 h15](https://dev.to/jajoosam/flappy-bird-in-a-new-super-easy-game-framework-2h15)

# [](#make-flappy-bird-with-python-play)ç”¨èŸ’è›‡åšæ‹æ‰“é¸Ÿç©

[![](../Images/ed74674c64938f7ba329e3b6394e06bc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--DyHuz1mL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://storage.googleapis.com/replit/images/1566633312709_d7fd16ea4dac17d138efb5825222e7e4.gif)

[æ¼”ç¤ºå’Œä»£ç ](https://repl.it/@jajoosam/flappy-bird)ğŸ‘¨â€ğŸ’»

Flappy bird æ˜¯ç»å…¸ä¹‹ä¸€â€”â€”æ­£å¦‚ä½ å°†çœ‹åˆ°çš„ï¼Œè¶…çº§å®¹æ˜“åˆ›å»ºï¼Œå°¤å…¶æ˜¯å½“ä½ ä½¿ç”¨åœ¨ [repl.it](https://repl.it) å¼€å‘çš„ [Python Play](https://github.com/replit/play) åº“çš„æ—¶å€™ï¼

å¦‚æœä½ ä¹‹å‰æ²¡ç©è¿‡ flappy birdï¼Œé‚£å°±åœ¨ [flappybird.io](https://flappybird.io/) ä¸Šè¯•è¯•å§ï¼

## [](#so-how-exactly-does-flappy-bird-work)ğŸ“é‚£ä¹ˆï¼Œflappy bird åˆ°åº•æ˜¯æ€ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿ

åœ¨æ¸¸æˆä¸­æœ‰ä¸¤ä¸ªç‰©ä½“å¾ˆé‡è¦â€”â€”é¸Ÿå’Œç®¡å­ã€‚åœ¨ä¸Šé¢çš„æ¼”ç¤ºä¸­ï¼Œé¸Ÿæ˜¯é»„è‰²çš„åœ†åœˆï¼Œè€Œç®¡é“æ˜¯è“è‰²çš„çŸ©å½¢ã€‚

**å°é¸Ÿ**åœ¨æ•´ä¸ªæ¸¸æˆä¸­ä¿æŒåœ¨åŒä¸€ä¸ª`x`ä½ç½®ï¼Œä½†æ˜¯å½“ç©å®¶æŒ‰ä¸‹ä¸€ä¸ªé”®æ—¶å¯ä»¥å‘ä¸Šç§»åŠ¨ï¼Œå¹¶ä¸”ç”±äºé‡åŠ›ç»§ç»­ä¸‹è½ã€‚

ç®¡é“æ˜¯ä¸¤ä¸ªé•¿æ–¹å½¢ï¼Œä¸­é—´æœ‰ä¸€ä¸ªé—´éš™â€”â€”é¸Ÿå„¿éœ€è¦åœ¨ä¸æ¥è§¦ç®¡é“çš„æƒ…å†µä¸‹ç©¿è¿‡ç®¡é“ã€‚

## [](#get-started)ğŸ›£ï¸å…¥é—¨

è®©æˆ‘ä»¬ä»åˆ†å‰[repl.it/@jajoosam/play-start](https://repl.it/@jajoosam/play-start)å¼€å§‹â€”â€”è¿™åªæ˜¯ä¸€ä¸ªå®‰è£…äº†`play`ä¾èµ–é¡¹çš„ python ç¯å¢ƒã€‚

è®©æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªé»„è‰²çš„åœ†åœˆæ¥ä»£è¡¨é¸Ÿï¼Œå¼€å§‹åˆ›å»º flappy bird

```
bird = play.new_circle(
    color='yellow',
    x=play.screen.left + 100,
    y=play.screen.top - 40,
    radius=30,
) 
```

è¿è¡Œè¯¥ä»£ç å°†äº§ç”Ÿä¸€ä¸ª`yellow`åœ†ï¼Œé è¿‘å±å¹•çš„`top` `left`è§’ï¼ŒåŠå¾„ä¸º`30`:

[![](../Images/679d15838d4a5cfbcbbd303896db7961.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--jqxViIzQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://storage.googleapis.com/replit/images/1566633408040_02c2a37f0f00bccc75ba7bfabffe1e41.png)

## [](#physics-is-easy)ğŸŒç‰©ç†æ˜¯...è½»æ¾ç‚¹ã€‚

æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„é¸Ÿå—åˆ°é‡åŠ›çš„å½±å“ï¼Œå¹¶åœ¨å®ƒè½åˆ°å±å¹•åº•éƒ¨æ—¶åå¼¹å›æ¥ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ç‰©ç†å¼•æ“æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼

lol jkï¼Œå°±åœ¨ä½ çš„ä»£ç é‡ŒåŠ ä¸Šè¿™ä¸€è¡Œ:`bird.start_physics()`

å¯¹ï¼Œå°±æ˜¯è¿™æ ·ã€‚çœŸçš„ï¼

[![](../Images/10e767d7505d79a1c84b21cc452147db.png)T2ã€‘](https://i.giphy.com/media/3oKIPlifLxdigaD2Y8/giphy.gif)

å¦‚æœä½ ç°åœ¨è¿è¡Œä½ çš„ä»£ç ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé»„è‰²çš„åœ†åœˆæ‰äº†ä¸‹æ¥ï¼Œåˆå¼¹äº†å›æ¥ï¼æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè®©æˆ‘ä»¬çš„é¸Ÿæ‰‡åŠ¨ç¿…è†€â€”â€”è®©å®ƒåœ¨æˆ‘ä»¬æƒ³è·³çš„æ—¶å€™è·³ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`play.repeat_forever`åœ¨æ¸¸æˆçš„æ¯ä¸€å¸§è¿è¡Œä¸€ä¸ªå‡½æ•°â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæŒ‰ä¸‹`up`ç®­å¤´é”®ï¼Œæˆ‘ä»¬çš„`bird`çš„`y`åæ ‡ä¼šå¢åŠ `7.5`T5

```
@play.repeat_forever
def do():
    if play.key_is_pressed('up'):
        bird.y += 7.5 
```

## [](#lets-roll-the-pipes)ğŸš¬è®©æˆ‘ä»¬æ»šåŠ¨ç®¡é“

æˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªä¸€ç»„çš„ç®¡é“ï¼Œç”¨äºé˜»å¡æˆ‘ä»¬çš„é¸Ÿâ€”â€”å¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚

åœ¨ä»£ç é¡¶éƒ¨é™„è¿‘ï¼Œæ·»åŠ ä¸€ä¸ªæ–°è¡Œæ¥åˆ›å»ºè¿™ä¸ªç©ºåˆ—è¡¨ã€‚

```
boxes = [] 
```

æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡ç”Ÿæˆçš„ä¸¤ä¸ªç®¡é“å…·æœ‰ä¸åŒçš„é«˜åº¦ï¼Œå¹¶ä¸”ä¸­é—´æœ‰ä¸€ä¸ªé—´éš™ã€‚æˆ‘ä»¬è¿˜å¸Œæœ›åœ¨éšæœºçš„æŒç»­æ—¶é—´åç”Ÿæˆä¸‹ä¸€å¯¹ç®¡é“ï¼Œä»¥ä½¿æ¸¸æˆæ›´åŠ ä¸å¯é¢„æµ‹ã€‚

åœ¨è¿™é‡Œä½¿ç”¨ python play çš„`random_number`å‡½æ•°å¯¹æˆ‘ä»¬æ¥è¯´ä¼šéå¸¸æœ‰ç”¨ã€‚

```
# Returns a integer between 300 and 500 play.random_number(lowest=300, highest=500)

# Returns a float between 1.0 and 3.0 play.random_number(1.0, 4.0) 
```

æ·»åŠ æ•´ä¸ªä»£ç å—ï¼Œå°±åœ¨`play.start_program()`
ä¹‹å‰

```
@play.repeat_forever
async def block():

    # height of the top block
    top = play.random_number(lowest=300, highest=500)
    # height of the bottom block
    bottom = play.random_number(lowest=300, highest=500)

    # creating the top box of width 50, emerging from behind the current screen
    boxes.append(play.new_box(color="blue", y=play.screen.top,
                              x=play.screen.right+50, width=50, height=top))

    # creating the bottom box of width 50, emerging from behind the current screen
    boxes.append(play.new_box(color="blue", y=play.screen.bottom,
                              x=play.screen.right+50, width=50, height=bottom))

    # creating the next box after a random duration between 1 and 4 seconds
    await play.timer(seconds=play.random_number(1.0, 4.0)) 
```

è¿™æ®µä»£ç åœ¨ä¸€ä¸ª`async`å‡½æ•°ä¸­â€”â€”è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`await`å…³é”®å­—é€šè¿‡`play.timer`å°†æ¯ä¸ªè°ƒç”¨å»¶è¿Ÿä¸€æ®µç‰¹å®šçš„æ—¶é—´â€”â€”è¿™è®©æˆ‘ä»¬å¯ä»¥æ¯éš”ä¸€æ®µæ—¶é—´åˆ›å»ºæ–°çš„ç›’å­ï¼

ç”¨`play.new_box` -æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°ç®¡é“ï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ°`boxes`åˆ—è¡¨ä¸­ã€‚å°è¯•ä½¿ç”¨æˆ‘ä»¬æä¾›ç»™è¿™ä¸ªå‡½æ•°çš„å‚æ•°ã€‚ä»–ä»¬åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼

ä½†æ˜¯å¦‚æœä½ ç°åœ¨è¿è¡Œä»£ç ï¼Œä½ ä¼šå‘ç°ä¸€åˆ‡éƒ½å’Œä»¥å‰ä¸€æ ·ğŸ˜•

## [](#bring-the-pipes-to-the-screen)ğŸ–¥ï¸æŠŠç®¡å­æ‹¿åˆ°å±å¹•ä¸Š

å› ä¸ºæˆ‘ä»¬æ‰€æœ‰çš„ç®¡é“éƒ½åœ¨åŒä¸€ä¸ª`boxes`åˆ—è¡¨ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡å¾ªç¯åˆ—è¡¨æ¥ç§»åŠ¨å®ƒä»¬ã€‚

å°†è¿™ä¸ªå—æ·»åŠ åˆ°ä½ çš„ä»£ç ä¸­ï¼Œåœ¨`def do():`ä¸‹ï¼Œä½¿ç›’å­åœ¨å±å¹•ä¸­ç§»åŠ¨ï¼

```
for box in boxes:
        # make the box move to the left
        box.x -= 1 
```

è¿™æ˜¯ä½ ç‚¹å‡»è¿è¡Œæ—¶åº”è¯¥çœ‹åˆ°çš„ï¼

[![](../Images/ea472d7433d7fd2a5cf750e794be7fb3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YkkE7h2b--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://storage.googleapis.com/replit/images/1566633365697_de64ae43d0249c4bf844465aef5aa4e9.gif)

## [](#but-when-do-you-lose)ğŸ¤”ä½†æ˜¯...ä»€ä¹ˆæ—¶å€™è¾“ï¼Ÿï¼

æˆ‘çœŸçš„è¦é€šè¿‡è§£é‡Šæˆ‘ä»¬å¦‚ä½•æ£€æµ‹å†²çªæ¥å‘ä½ æ¨é”€ python playã€‚

å°±è¿™æ ·ã€‚æ²¡æœ‰ğŸ§¢å¸½

åœ¨åŒä¸€ä¸ªå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å°†ç®¡é“å‘å·¦ç§»åŠ¨ï¼Œåªéœ€æ·»åŠ è¿™ä¸ªæ¡ä»¶å—:

```
if bird.is_touching(box):
            box.color = "red" 
```

å¦‚æœè¿™åªé¸Ÿç¢°åˆ°ç®¡å­ï¼Œå®ƒçš„é¢œè‰²åº”è¯¥æ˜¯çº¢è‰²çš„ï¼

ä¹Ÿåœ¨å¾ªç¯ä¸­æ·»åŠ è¿™ä¸ªå—:

```
if(box.x < (play.screen.left-50)):
            boxes.remove(box)
            box.remove() 
```

æˆ‘ä»¬åªæ˜¯ç”¨è¿™ä¸ªæ¥é˜²æ­¢[å†…å­˜æ³„æ¼](https://en.wikipedia.org/wiki/Memory_leak)â€”â€”å¦‚æœæˆ‘ä»¬çš„ç®¡é“åœ¨å±å¹•ä¹‹å¤–ï¼Œæˆ‘ä»¬å°±æŠŠå®ƒç§»é™¤å§ï¼

## [](#things-to-hack-on)ğŸ”®å¯ä»¥é»‘è¿›å»çš„ä¸œè¥¿

*   ä½¿ç”¨ä¸€åªé¸Ÿçš„åƒç´ è‰ºæœ¯ä»£æ›¿é»„è‰²åœ†åœˆğŸ‘¨â€ğŸ¨
*   å½“å°é¸Ÿç¢°åˆ°çƒŸæ–—â˜ ï¸æ—¶ï¼Œé‡æ–°å¼€å§‹æ¸¸æˆ
*   ç»™æ¸¸æˆå¢åŠ èƒ½é‡ğŸ’ª
*   å‘å±å¹•æ·»åŠ å®æ—¶ä¹è°±ğŸ’¯

è¯·åŠ¡å¿…åœ¨è¯„è®ºä¸­å†™ä¸‹ä»»ä½•é—®é¢˜æˆ–æ”¹è¿›ğŸ’¬

è¿™æ˜¯æ‰€æœ‰çš„ä»£ç ï¼Œä½ å¯ä»¥å†çœ‹ä¸€éâ€”â€”æˆ‘ä¹Ÿç»™ä½ åšäº†æ³¨é‡ŠğŸ˜„

[https://repl.it/@jajoosam/flappy-bird?lite=true](https://repl.it/@jajoosam/flappy-bird?lite=true)