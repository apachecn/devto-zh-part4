# ç›’å­é‡Œçš„ä¼šè®®åº”ç”¨ä»‹ç»

> åŸæ–‡:[https://dev . to/dabi T3/introducing-conference-app-in-a-box-kgj](https://dev.to/dabit3/introducing-conference-app-in-a-box-kgj)

### [](#deploy-a-themeable-customizable-full-stack-and-crossplatform-mobile-app-for-your-next-event-in-minutes)åœ¨å‡ åˆ†é’Ÿå†…ä¸ºæ‚¨çš„ä¸‹ä¸€åœºæ´»åŠ¨éƒ¨ç½²ä¸»é¢˜åŒ–ã€å¯å®šåˆ¶ã€å…¨å †æ ˆå’Œè·¨å¹³å°çš„ç§»åŠ¨åº”ç”¨ã€‚

ğŸ› ç”¨ React Nativeã€GraphQLã€ [AWS Amplify](https://aws-amplify.github.io/) ã€&ã€T2ã€‘ AWS AppSync æ‰“é€ ã€‚

> è¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯å¼€æºçš„ã€‚ç‚¹å‡»æŸ¥çœ‹å›è´­[ã€‚](https://github.com/dabit3/conference-app-in-a-box)

[![](../Images/5bcfd6f1a3ed43de4b572f2c9863f60c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--18oIkUCV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vs7xw4pld1iz54c7ga2e.jpg)

ä¸Šå‘¨åœ¨ [Chain React](https://infinite.red/ChainReactConf) ä¸Šï¼Œæˆ‘åšäº†ä¸€ä¸ªé¢˜ä¸ºâ€œç”¨ GraphQL å®æ—¶ç»„ç»‡ä¼šè®®â€çš„æ¼”è®²ã€‚

> ![unknown tweet media content](../Images/b63cedf1a847e4279eaf442761dc2d9c.png)![Nader Dabit profile image](../Images/e5f4dbee552070447c02ae734d8d58cc.png)çº³å¾·Â·è¾¾æ¯”ç‰¹[@è¾¾æ¯”ç‰¹ 3](https://dev.to/dabit3)![twitter logo](../Images/ad0c7b03deabfe1a161345efb2d537eb.png)ä¸€å¦‚æ—¢å¾€ [@ChainReactConf](https://twitter.com/ChainReactConf) å¤ªæƒŠè‰³äº†ï¼Œå·²ç»æœŸå¾… 2020 å¹´äº†ã€‚è¿™é‡Œæœ‰å‡ å¼ ä¼šè®®çš„ç…§ç‰‡ï¼2019 å¹´ 7 æœˆ 13 æ—¥ä¸‹åˆ 13:50[![Twitter reply action](../Images/269095962147c28351274afdd5486a48.png)](https://twitter.com/intent/tweet?in_reply_to=1150039743981223936)[![Twitter retweet action](../Images/771160ecf06ae3d4d7a7815c29c819c2.png)](https://twitter.com/intent/retweet?tweet_id=1150039743981223936)6[![Twitter like action](../Images/c077611ab2a5e0b4cd0c826ee7ae1e48.png)](https://twitter.com/intent/like?tweet_id=1150039743981223936)54

åœ¨æ¼”ç¤ºä¸­ï¼Œæˆ‘è°ˆåˆ°äº† 2019 å¹´ 1 æœˆä¸¾è¡Œçš„ React åŸç”Ÿäºšé©¬é€Šä¼šè®®ï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•ä»ä»–ä»¬çš„ä¼šè®®åº”ç”¨ç¨‹åºä¸­è·å–ä¸€äº›æƒ³æ³•ï¼Œå¹¶å°†å®ƒä»¬åº”ç”¨åˆ°è¿é” React ä¼šè®®åº”ç”¨ç¨‹åºä¸­ã€‚

[![](../Images/5fdd07a336f7712652d7526c7a145f03.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qrGtnAJ7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/j5fm6qsm0uai4rb1dsz9.JPG)

æˆ‘ä»¬æƒ³è¦æ·»åŠ çš„ä¸»è¦åŠŸèƒ½æ˜¯å®æ—¶èŠå¤©ï¼Œè¿™æ ·ä¸ä¼šè€…å¯ä»¥è®¨è®ºæ¯ä¸ªæ¼”è®²ï¼Œç”šè‡³å¯ä»¥å‘æ¼”è®²è€…æé—®ï¼Œç„¶åæ¼”è®²è€…å¯ä»¥å›ç­”è¿™äº›é—®é¢˜ã€‚

[![](../Images/9dfb7842145cbc86c36e7b49a3dcbd0a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--rQ_IBmvc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/wjuuovz7ugj5euk5o4rg.jpg)

åœ¨æ¼”ç¤ºæœŸé—´ï¼Œæˆ‘å±•ç¤ºäº†æˆ‘ä»¬å¦‚ä½•é‡‡ç”¨ 2018 å¹´ç‰ˆçš„ Chain React ä¼šè®®åº”ç”¨ç¨‹åºï¼Œå¹¶å°†å…¶æ›´æ–°ä¸ºä½¿ç”¨ GraphQL åç«¯æ¥å¤„ç†æ¯æ¬¡æ¼”è®²çš„è¯„è®ºã€‚æˆ‘å’Œæ¥è‡ª[æ— é™çº¢](https://infinite.red/)çš„[ç½—å®¾Â·æµ·å› ç­–](https://twitter.com/robin_heinze?lang=en)ä¸€èµ·å·¥ä½œäº†å‡ å¤©æ¥åšè¿™ä»¶äº‹ã€‚

æˆ‘è¿˜å±•ç¤ºäº†æˆ‘ä»¬å¦‚ä½•é€šè¿‡æ·»åŠ æŠ¥å‘Šè¯„è®ºçš„åŠŸèƒ½å’Œæ„å»ºä¸€ä¸ª[ç®¡ç†é¢æ¿](https://github.com/dabit3/chainreact-admins)æ¥å¤„ç†èº«ä»½å’Œæ»¥ç”¨ï¼Œè¯¥é¢æ¿å…è®¸ç‰ˆä¸»ç›‘æ§æŠ¥å‘Šçš„è¯„è®ºã€é˜»æ­¢è®¾å¤‡å’Œåˆ é™¤æŠ¥å‘Šçš„è¯„è®ºã€‚

åœ¨å¼€å‘è¿™ä¸ªåº”ç”¨çš„æ—¶å€™ï¼Œæˆ‘æœ‰ä¸€ä¸ªæƒ³æ³•å°±æ˜¯è®©è¿™ä¸ªåŠŸèƒ½å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œå› ä¸ºæˆ‘çŸ¥é“ä¼šæœ‰å¾ˆå¤šæ´»åŠ¨å’Œä¼šè®®çªç„¶å‡ºç°ã€‚æˆ‘æƒ³*ä¸ºä»€ä¹ˆä¸è¯•ç€åˆ›é€ ä¸€äº›æ¯ä¸ªäººéƒ½å¯ä»¥ä½¿ç”¨çš„ä¸œè¥¿*ï¼Ÿ

æŒ‘æˆ˜:è¿™ç±»äº‹æƒ…çš„é—®é¢˜åœ¨äºï¼Œæ„å»ºåŒ…å«åç«¯çš„ä¸€åˆ‡(è®¤è¯ã€æ•°æ®åº“ã€api)é€šå¸¸ä¸å®¹æ˜“è¢«å¤åˆ¶ã€‚

**è§£å†³æ–¹æ¡ˆ:** AWS Amplify å…è®¸æ‚¨ä½¿ç”¨åŸºæœ¬é…ç½®éƒ¨ç½²æ•´ä¸ªåç«¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘æœ‰ä¸€ä¸ªç»“åˆäº†èº«ä»½éªŒè¯ã€æ•°æ®åº“ã€API å’Œæ— æœåŠ¡å™¨åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘æƒ³åœ¨å¤šä¸ªåº”ç”¨ç¨‹åºä¹‹é—´å¤åˆ¶è¿™ä¸ªåç«¯æˆ–ä¸ä»–äººå…±äº«ï¼Œæˆ‘éœ€è¦åšçš„å”¯ä¸€äº‹æƒ…å°±æ˜¯å…±äº« **amplify** æ–‡ä»¶å¤¹ï¼Œä»»ä½•äººéƒ½å¯ä»¥åœ¨ä»–ä»¬çš„ç»ˆç«¯ä¸Šé€šè¿‡å‡ ä¸ªå‘½ä»¤å¯åŠ¨å¹¶è¿è¡ŒåŒä¸€ä¸ªåç«¯ã€‚

æˆ‘å†³å®šå»ºç«‹ä¸€ä¸ªä¸»é¢˜åŒ–çš„ä¼šè®®å’Œæ´»åŠ¨åº”ç”¨ç¨‹åºï¼Œå®ƒå¾ˆå®¹æ˜“å®šåˆ¶ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ Amplify ä»¥è¿™ç§æ–¹å¼éƒ¨ç½²ã€‚

[![](../Images/6e099ae50bf17a1327b8f726e44c4e9f.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--a7Y0mpWx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/iy2fcckj0mm66yv2uc8p.jpg)
[![](../Images/481e32889a44446934fd636bfd12e801.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--cs-sNh3B--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/u6aq7jknhtlqnii178hg.jpg)
[![](../Images/6dbb98a8ebb71efba62449865e134e1b.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--coI_Bcm---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/z3lqvnct3cqxj4kv2oa5.jpg)

## [](#deploying-the-app)éƒ¨ç½² app

> åº”ç”¨ç¨‹åºçš„ä»£ç ä½äº[è¿™é‡Œ](https://github.com/dabit3/conference-app-in-a-box)ã€‚åœ¨éƒ¨ç½²åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæˆ‘è¿˜ä¼šçœ‹çœ‹ä¸‹ä¸€éƒ¨åˆ†(**å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„**)ï¼Œè¿™æ ·ä½ å°±çŸ¥é“ä¸€åˆ‡æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

è¦éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤:

```
# 1\. Clone the repo & install the dependencies

~ git clone https://github.com/dabit3/conference-app-in-a-box.git

~ cd conference-app-in-a-box

~ npm install

# 2\. Initialize and deploy the Amplify project

~ amplify init

? Enter a name for the environment: dev (or whatever you would like to call this env)
? Choose your default editor: <YOUR_EDITOR_OF_CHOICE>
? Do you want to use an AWS profile? Y

~ amplify push

? Are you sure you want to continue? Y
? Do you want to generate code for your newly created GraphQL API? N

# We already have the GraphQL code generated for this project, so generating it here is not necessary.

# 3\. Start the app

~ react-native run-ios

# or

~ react-native run-android 
```

ç°åœ¨åç«¯å·²ç»éƒ¨ç½²ï¼Œæ‚¨å¯ä»¥æ‰“å¼€åº”ç”¨ç¨‹åºï¼Œåˆ›å»ºä¸€ä¸ªå¸æˆ·å¹¶ç™»å½•ã€‚

### [](#populating-the-database)å¡«å……æ•°æ®åº“

æ¥ä¸‹æ¥è¿›å…¥ AppSync æ§åˆ¶å°ï¼Œé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¸ API è¿›è¡Œäº¤äº’:

```
~ amplify console api 
```

ä» AppSync æ§åˆ¶å°ï¼Œç‚¹å‡»**æŸ¥è¯¢**æ‰“å¼€ GraphiQL ç¼–è¾‘å™¨ã€‚å½“æç¤ºâ€œä½¿ç”¨ç”¨æˆ·æ± ç™»å½•â€æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ‚¨çš„æ–°ç”¨æˆ·åç™»å½•ï¼Œå¹¶ä½¿ç”¨ä½äº **aws-exports.js** ä¸­çš„`aws_user_pools_web_client_id`ä½œä¸ºå®¢æˆ·ç«¯ Idã€‚

#### [](#creating-mutations)åˆ›é€ çªå˜

ç”¨ä»¥ä¸‹å˜åŒ–åˆ›å»ºä¸€ä¸ªæ–°å¯¹è¯:

```
mutation  createTalk  {  createTalk(input:  {  name:  "Performance In React Native",  summary:  "In this talk, we will look at the various tips and tricks for taking full advantage of React Native and using the performance attributes of the new architecture.",  speakerName:  "Ram Narasimhan",  speakerBio:  "Software Engineer at Facebook",  time:  "9:00 AM - 9:30 AM",  timeStamp:  "1573491600",  date:  "November 10",  location:  "Armory",  speakerAvatar:  "https://pbs.twimg.com/profile_images/875450414161772544/UjefWmmL_400x400.jpg"  })  {  id  name  speakerBio  speakerName  speakerAvatar  location  date  time  timeStamp  }  } 
```

#### [](#querying-for-data)æŸ¥è¯¢æ•°æ®

å½“ä½ é‡æ–°åŠ è½½åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒåº”è¯¥ä¼šåœ¨å¯åŠ¨æ—¶åˆ—å‡ºè¿™ä¸ªæ¼”è®²ã€‚

è¦åœ¨ AppSync æ§åˆ¶å°ä¸­æŸ¥è¯¢æ‰€æœ‰å¯¹è¯ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹æŸ¥è¯¢:

```
query  listTalks  {  listTalks  {  items  {  id  name  summary  speakerName  speakerBio  time  timeStamp  date  location  speakerAvatar  }  }  } 
```

## [](#how-it-works)å·¥ä½œåŸç†

åº”ç”¨ç¨‹åºçš„ä»£ç ä½äº[è¿™é‡Œ](https://github.com/dabit3/conference-app-in-a-box)ã€‚

åœ¨é¡¹ç›®ä¸­ï¼Œä½ ä¼šæ³¨æ„åˆ°ä¸€ä¸ªåä¸º **amplify** çš„æ–‡ä»¶å¤¹ã€‚è¯¥æ–‡ä»¶å¤¹åŒ…å«åº”ç”¨ç¨‹åºçš„åç«¯ï¼Œå¯ä»¥åœ¨ä»»ä½•äººçš„å¸æˆ·ä¸­é‡æ–°éƒ¨ç½²ã€‚åœ¨**æ”¾å¤§**æ–‡ä»¶å¤¹ä¸­ä½ ä¼šçœ‹åˆ°ä¸€ä¸ª**åç«¯**æ–‡ä»¶å¤¹ã€‚åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ä¸¤ä¸ªä¸»è¦åŠŸèƒ½çš„é…ç½®:

1.  è®¤è¯æœåŠ¡(ç”± Amazon Cognito æä¾›æ”¯æŒ)
2.  GraphQL API(ä½¿ç”¨ AWS AppSync æ„å»º)

åœ¨**åç«¯/api** æ–‡ä»¶å¤¹ä¸­ï¼Œä½ ä¼šçœ‹åˆ° GraphQL API é…ç½®ä»¥åŠåŸºç¡€ [GraphQL æ¨¡å¼](https://github.com/dabit3/conference-app-in-a-box/blob/master/amplify/backend/api/rnconfinabox/schema.graphql)ã€‚

è¿™æ˜¯åŸºæœ¬çš„ GraphQL æ¨¡å¼ã€‚æ‚¨å°†çœ‹åˆ°åŸºç¡€æ¨¡å¼å¦‚ä¸‹æ‰€ç¤º:

```
type  Talk  @model  {  id:  ID!  name:  String!  speakerName:  String!  speakerBio:  String!  time:  String  timeStamp:  String  date:  String  location:  String  summary:  String!  twitter:  String  github:  String  speakerAvatar:  String  comments:  [Comment]  @connection(name:  "TalkComments")  }  type  Comment  @model  {  id:  ID!  talkId:  ID  talk:  Talk  @connection(sortField:  "createdAt",  name:  "TalkComments",  keyField:  "talkId")  message:  String  createdAt:  String  createdBy:  String  deviceId:  ID  }  type  Report  @model  {  id:  ID!  commentId:  ID!  comment:  String!  talkTitle:  String!  deviceId:  ID  }  type  ModelCommentConnection  {  items:  [Comment]  nextToken:  String  }  type  Query  {  listCommentsByTalkId(talkId:  ID!):  ModelCommentConnection  } 
```

> å¹¶ä¸æ˜¯è¯´æŠ¥å‘ŠåŠŸèƒ½æ²¡æœ‰åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°ï¼Œä½†å®ƒæ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³æ·»åŠ ä¸€ä¸ªæŠ¥å‘ŠåŠŸèƒ½å’Œç®¡ç†ä»ªè¡¨æ¿ï¼Œä½ ä¸å¿…é…ç½®ä»»ä½•å…¶ä»–ä¸œè¥¿ã€‚

å¦‚æœä½ ä»¥å‰ä»æœªä½¿ç”¨è¿‡ Amplifyï¼Œä½ å¯èƒ½ä¸çŸ¥é“**@æ¨¡å‹**å’Œ**@è¿æ¥**æŒ‡ä»¤ã€‚è¿™äº›æ˜¯ Amplify CLI çš„ [GraphQL å˜æ¢](https://aws-amplify.github.io/docs/cli-toolchain/graphql?sdk=js)åº“çš„ä¸€éƒ¨åˆ†ã€‚

**@ model**â€”â€”ç”¨è¿™ä¸ªæŒ‡ä»¤ä¿®é¥°ä»»ä½•åŸºæœ¬ç±»å‹ï¼Œä»¥è·å¾— CRUD å¹¶åˆ—å‡ºæŸ¥è¯¢å’Œå˜å¼‚å®šä¹‰ã€DynamoDB è¡¨ä»¥åŠä¸º GraphQL æ“ä½œåˆ›å»ºçš„è§£æå™¨ã€‚

**@connection** -ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤æ¥æŒ‡å®šå­—æ®µä¹‹é—´çš„å…³ç³»(ä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤š)ã€‚

### [](#customizing-the-graphql-schema)å®šåˆ¶ GraphQL æ¨¡å¼

æ­¤æ¨¡å¼å¯ä»¥ç¼–è¾‘ã€‚å¦‚æœæ‚¨çš„æ´»åŠ¨éœ€è¦å…¶ä»–å­—æ®µï¼Œæ‚¨å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹æ“ä½œæ¥æ›´æ–°åç«¯:

1.  æ›´æ–°æ¨¡å¼(ä½äº**amplify/back end/API/rnconfinabox/schema . graph QL**)ã€‚

2.  é‡æ–°éƒ¨ç½²åç«¯

```
~ amplify push 
```

å¦‚æœæ‚¨æˆ–æ‚¨è®¤è¯†çš„ä»»ä½•äººéœ€è¦å¸®åŠ©ï¼Œä»¥ä¾¿ä½¿ç”¨æ­¤é¡¹ç›®ä¸ºæ‚¨çš„ä¸‹ä¸€ä¸ªæ´»åŠ¨è®¾ç½®å’Œè¿è¡Œåº”ç”¨ç¨‹åºï¼Œ[è¯·åœ¨ Twitter ä¸Šè”ç³»æˆ‘](https://twitter.com/dabit3/)ï¼Œæˆ‘å¾ˆä¹æ„æä¾›å¸®åŠ©ï¼

> æˆ‘çš„åå­—æ˜¯çº³å¾·Â·è¾¾æ¯”ç‰¹ T2ã€‚æˆ‘æ˜¯äºšé©¬é€Šç½‘ç»œæœåŠ¡çš„å¼€å‘è€…å€¡å¯¼è€…ï¼Œè´Ÿè´£ç±»ä¼¼ [AWS AppSync](https://aws.amazon.com/appsync/) å’Œ [AWS Amplify](https://aws-amplify.github.io/) è¿™æ ·çš„é¡¹ç›®ã€‚æˆ‘ä¸“æ”»è·¨å¹³å°&äº‘åº”ç”¨å¼€å‘ã€‚