# ğŸŒ®ä½ åšå®Œäº†å°±å®Œäº‹äº†ã€‚

> åŸæ–‡:[https://dev.to/chiangs/git-r-done-when-you-re-done-p5b](https://dev.to/chiangs/git-r-done-when-you-re-done-p5b)

*æˆ‘å†æ¬¡ç­‰å¾…æˆ‘çš„åº”ç”¨ç¨‹åºè¿è¡Œæµ‹è¯•å’Œæ„å»ºï¼Œæ‰€ä»¥æˆ‘æƒ³æˆ‘åº”è¯¥å†å†™ä¸€ä¸ª quickieã€‚*

 *ä¹‹å‰æˆ‘å±•ç¤ºäº†å¦‚ä½•ä¸ºç´§æ€¥æƒ…å†µç¼–å†™ä¸€ä¸ª git å‡½æ•°ï¼Œæˆ‘éœ€è¦ [GTFO](https://dev.to/chiangs/in-case-of-fire-gtfo-30g4) ã€‚

ä»Šå¤©ï¼Œæˆ‘æƒ³å‘ä½ å±•ç¤ºä¸€ä¸ªæ›´å¸¸è§çš„è¿‡ç¨‹ï¼Œå¦‚æœæˆ‘ä»¬ç‹¬è‡ªæˆ–åœ¨å°å›¢é˜Ÿä¸­å·¥ä½œï¼Œæˆ‘ä»¬éƒ½å¯èƒ½ä¼šè¿™æ ·åšã€‚

å½“æˆ‘å®Œæˆä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯æ—¶ï¼Œé€šå¸¸ä¼šç»å†ä»¥ä¸‹æ­¥éª¤:

*(å‡è®¾æˆ‘åœ¨æˆ‘çš„ç›®å½•çš„é¡¶å±‚ï¼Œå¹¶ä¸”æˆ‘è¿‡å»åšè¿‡`git push origin head -u`)*

```
> {feature-branch} git add .
> {feature-branch} git commit -m "Awesome commit msg"
> {feature-branch} git push
> {feature-branch} git checkout develop
> {develop} git merge -
> {develop} git push 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœæˆ‘æƒ³åœ¨æœ¬åœ°å’Œè¿œç¨‹æ¸…ç†åˆå¹¶çš„åˆ†æ”¯ï¼Œæˆ‘ä¹Ÿå¿…é¡»è¿™æ ·åš:

```
> {develop} git branch -d feature-branch
> {develop} git push origin :feature-branch 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

***é‚£å¯æ˜¯å¥½å¤šæ­¥éª¤ã€‚*T3ã€‘**

ä¸‹é¢æ˜¯æˆ‘å¦‚ä½•è®©`git done`å’Œ`git donep`å˜å¾—æ›´ç®€å•ï¼Œæˆ‘å®é™…ä¸Šä¸º`git`è®¾ç½®äº†ä¸€ä¸ªåˆ«å`g`ï¼Œæ‰€ä»¥ä»ç°åœ¨å¼€å§‹æˆ‘å°†ä½¿ç”¨å®ƒ:

æˆ‘å°†è¿›å…¥æˆ‘çš„`.gitconfig`å¹¶åˆ›å»ºä¸¤ä¸ªæ–°çš„åˆ«åï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
[alias]
  done = ""
  donep = "" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½¿ç”¨ä¸æˆ‘çš„`g tfo`å‡½æ•°ç›¸åŒçš„è¯­æ³•ï¼Œæˆ‘å°†é¦–å…ˆåˆ›å»º`done`ï¼Œå®ƒæ‰§è¡Œä»¥ä¸‹æ“ä½œ:

1.  åˆå¹¶åˆ†æ”¯
2.  åˆ é™¤æœ¬åœ°åˆ†æ”¯
3.  åˆ é™¤è¿œç¨‹åˆ†æ”¯

é‚£ä¸ªå‡½æ•°çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

```
done = "!f() { git merge $1 && git branch -d $1 && git push origin :$1; }; f" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ ä¼šæ³¨æ„åˆ°`$1`ã€‚è¿™æ˜¯å¯¹ä¸€ä¸ªå˜é‡çš„å¼•ç”¨ï¼Œå½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¿™ä¸ªå˜é‡å°†è¢«ä¼ å…¥ï¼Œè€Œè¿™ä¸ªå‡½æ•°æ°å¥½æ˜¯åˆ†æ”¯åç§°ã€‚ç°åœ¨ï¼Œæˆ‘å·²ç»å°è¯•ä½¿ç”¨äº†`-`å’Œ`@{-1}`ï¼Œä½†æ˜¯åˆ é™¤å‡½æ•°çš„è¿œç¨‹åˆ†æ”¯éƒ¨åˆ†ä¸ä¼šæ¥å—å®ƒä»¬ä½œä¸ºå¯¹æœ€åä½¿ç”¨çš„åˆ†æ”¯çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œé™¤éè¿™é‡Œçš„è¯»è€…æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Œå¦åˆ™æˆ‘åªèƒ½å…·ä½“åœ°ä¼ å…¥ç‰¹æ€§åˆ†æ”¯åç§°ï¼Œè¿™åœ¨æŸç§ç¨‹åº¦ä¸Šä¹Ÿä½¿å®ƒæ›´æ˜“äºé‡ç”¨ï¼Œä½†æ˜¯å¦‚æœåˆ†æ”¯åç§°å¾ˆå¤æ‚æˆ–è€…å¾ˆéš¾è®°ä½ï¼Œè¿™å°±æœ‰ç‚¹éº»çƒ¦äº†ã€‚ä½†è‡³å°‘ï¼Œä½ ä»ç„¶åªéœ€è¦è¾“å…¥ä¸€æ¬¡ï¼

ğŸ¤·â€â™‚ï¸ ***é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿã€T2***

```
> {develop} g done feature-branch 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ğŸ¤¯å˜£ã€‚å°±æ˜¯è¿™æ ·ã€‚

ä½†æ˜¯å¯¹äºè¿™ä¸€ä¸ªï¼Œæˆ‘ä»¬æ²¡æœ‰æ¨åŠ¨å¼€å‘è¿œç¨‹çš„æ”¹å˜ã€‚è¿™å°±æ˜¯`donep`çš„ç”¨æ­¦ä¹‹åœ°ã€‚

```
donep = "!f() { git merge $1 && git branch -d $1 && git push origin :$1 && git push; }; f" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
> {develop} g donep feature-branch 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

***æ³¨æ„:*** è¿™ä¸ªåŠŸèƒ½ä¹Ÿå‡è®¾ä½ å·²ç»åšäº†`git push origin head -u`å¹¶è®¾ç½®äº†ä¸Šæ¸¸ã€‚å¦‚æœè¿˜æ²¡æœ‰ä¹Ÿä¸æƒ³è¦ï¼Œå¯ä»¥å°†åŠŸèƒ½ä¿®æ”¹ä¸º:

```
donep = "!f() { git merge $1 && git branch -d $1 && git push origin :$1 && git push origin $2; }; f" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶ååƒè¿™æ ·è¿è¡Œ:

```
> {develop} g donep feature-branch develop 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ğŸ±â€ğŸ‘¤ ***Git r' doneï¼*T3ã€‘**

å¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰ä»·å€¼ï¼Œè¯·ç•™ä¸‹è¯„è®ºå¹¶å…³æ³¨æˆ‘çš„[dev . to @ Chiang](https://dev.to/chiangs)å’Œ [Twitter @chiangse](https://twitter.com/chiangse) ï¼ŒğŸ»å¹²æ¯ï¼*