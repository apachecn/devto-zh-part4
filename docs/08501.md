# æ‹¿ç€æˆ‘çš„è¡¨æƒ…ç¬¦å·

> åŸæ–‡:[https://dev.to/zex/hold-my-emoji-acc](https://dev.to/zex/hold-my-emoji-acc)

è®©æˆ‘ä»¬åœ¨`package emoji`ä¸­åˆ›å»ºä¸€ä¸ªéšæœºè¡¨æƒ…ç”Ÿæˆå™¨ã€‚

å‡†å¤‡ä¸€ä»½æœ‰è¶£è¡¨æƒ…ä»£ç çš„æ¸…å•

ğŸš² ğŸ¸ ğŸ¡ ğŸ‰ ğŸ˜† ğŸ‘ ğŸ„ ğŸ” ğŸ« ğŸ–ï¸ ğŸ³ ğŸ’¯ ğŸ¤“ ğŸŒ ğŸ¤˜ ğŸ¤£ ğŸª ğŸŒ¼ ğŸ”” ğŸ… ğŸ„ ğŸš— ğŸ¦„ ğŸƒ ğŸ‘ˆ:trollface:ğŸ’ ğŸŒ:octocat:ğŸ‘‡ ğŸ½ ğŸ›ï¸ ğŸ¼:æ„Ÿè§‰è‰¯å¥½:ğŸ» ğŸ™€ ğŸ‘€ â˜ƒï¸ ğŸ£ ğŸš€ ğŸ® ğŸ’… â€¼ï¸ ğŸš

```
var (
  AvailEmojies = []string{
    ":bike:",
    ":frog:",
    ":blowfish:",
    ":tada:",
    ":laughing:",
    ":clap:",
    ":surfer:",
    ":underage:",
    ":chocolate_bar:",
    ":beach_umbrella:",
    ":whale:",
    ":100:",
    ":nerd_face:",
    ":full_moon_with_face:",
    ":metal:",
    ":rofl:",
    ":cookie:",
    ":blossom:",
    ":bell:",
    ":santa:",
    ":mushroom:",
    ":red_car:",
    ":unicorn:",
    ":jack_o_lantern:",
    ":point_left:",
    ":trollface:",
    ":monkey:",
    ":sun_with_face:",
    ":octocat:",
    ":point_down:",
    ":pig_nose:",
    ":shopping:",
    ":baby_bottle:",
    ":feelsgood:",
    ":beers:",
    ":scream_cat:",
    ":eyes:",
    ":snowman_with_snow:",
    ":hatching_chick:",
    ":rocket:",
    ":cow:",
    ":nail_care:",
    ":bangbang:",
    ":helicopter:",
  }
) 
```

å‡†å¤‡ä¸€ä¸ªåŠ©æ‰‹å‡½æ•°ï¼Œæ¯æ¬¡è¢«è°ƒç”¨æ—¶ç”Ÿæˆä¸€ä¸ªä»£ç ã€‚ä½¿ç”¨`math/rand`ä¸­çš„éšæœºæ•´æ•°ç”Ÿæˆå‡½æ•°

```
func RndEmoji() string {
  return AvailEmojies[rand.New(rand.NewSource(time.Now().UnixNano())).Intn(len(AvailEmojies))]
} 
```

å·®ä¸å¤šå®Œæˆäº†ï¼Œç°åœ¨ï¼Œä½ å¯ä»¥æŠŠå®ƒç”¨åœ¨åˆ«çš„åœ°æ–¹å–ä¹ã€‚è¿™é‡Œæˆ‘æƒ³ä½¿ç”¨ç”±`go`æä¾›çš„æµ‹è¯•ç‰¹æ€§ã€‚
ç°åœ¨ï¼Œåœ¨ä¸ emoji.go ç›¸åŒçš„ä½ç½®åˆ›å»ºä¸€ä¸ªåç¼€ä¸º`_test`çš„æµ‹è¯•æ–‡ä»¶ï¼Œåä¸º`emoji_test.go`

```
import (
  "testing"
)

func TestEmoji(t *testing.T) {
  for i := 0; i < 10; i++ {
    t.Log(RndEmoji())
  }
} 
```

ç®€å•ã€‚ä¸æ˜¯å—ï¼Ÿ
è¿è¡Œæµ‹è¯•åªéœ€`go test`å®ƒï¼Œä½¿ç”¨è¯¦ç»†æ¨¡å¼å…è®¸æ‰“å°`Log`çº§ä¿¡æ¯ã€‚
`go test -v <GOPATH>/holdmyemoji`

```
=== RUN   TestEmoji
--- PASS: TestEmoji (0.01s)
    emoji_test.go:9: :whale:
    emoji_test.go:9: :unicorn:
    emoji_test.go:9: :metal:
    emoji_test.go:9: :octocat:
    emoji_test.go:9: :monkey:
    emoji_test.go:9: :sun_with_face:
    emoji_test.go:9: :nail_care:
    emoji_test.go:9: :helicopter:
    emoji_test.go:9: :unicorn:
    emoji_test.go:9: :bell:
PASS 
```

æµ‹è¯•ä¹Ÿå¯ä»¥é¦–å…ˆç”±`go test <GOPATH>/rndemoji -c -o emoji`æ„å»ºï¼Œç„¶åæ‚¨å¯ä»¥å¤šæ¬¡è¿è¡Œ`./emoji -test.v`ã€‚

```
=== RUN   TestEmoji
--- PASS: TestEmoji (0.01s)
    emoji_test.go:9: :santa:
    emoji_test.go:9: :tada:
    emoji_test.go:9: :pig_nose:
    emoji_test.go:9: :rocket:
    emoji_test.go:9: :eyes:
    emoji_test.go:9: :full_moon_with_face:
    emoji_test.go:9: :100:
    emoji_test.go:9: :trollface:
    emoji_test.go:9: :pig_nose:
    emoji_test.go:9: :bangbang:
PASS 
```

æ­¤å¤–ï¼Œä¸ºäº†è·å¾—æ›´å¤šçš„ä¹è¶£ï¼Œæ¯æ¬¡åœ¨ç”Ÿæˆä¹‹å‰éƒ½è¦æ‰“ä¹±åˆ—è¡¨ï¼Œåˆ—è¡¨ä¼šä¸æ—¶å‘ç”Ÿå˜åŒ–ã€‚å½“ç„¶ï¼Œè¿™éœ€è¦æ›´å¤šçš„è®¡ç®—ã€‚

```
 for i := range AvailEmojies {
    j := rand.New(rand.NewSource(time.Now().UnixNano())).Intn(i+1)
    AvailEmojies[j], AvailEmojies[i] = AvailEmojies[i], AvailEmojies[j]
  } 
```

* * *

ä½¿ç”¨ä½ çš„æç¬‘åˆ—è¡¨ï¼Œç©å®ƒğŸš€