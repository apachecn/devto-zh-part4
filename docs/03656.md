# TIL:ç„¦ç‚¹äº‹ä»¶åŒ…å«ä¸€ä¸ª relatedTarget å±æ€§

> åŸæ–‡:[https://dev . to/stefanjudis/til-focus-events-include-a-related target-property-4k GD](https://dev.to/stefanjudis/til-focus-events-include-a-relatedtarget-property-4kgd)

ä»Šå¤©æˆ‘å¶ç„¶å‘ç°äº†ä¸€ä¸ªæè¿°ç„¦ç‚¹äº‹ä»¶å±æ€§çš„ MDN é¡µé¢ã€‚`blur`ã€`focus`ã€`focusin`ã€`focusout`ç®—ä½œç„¦ç‚¹äº‹ä»¶ã€‚

äº‹å®è¯æ˜ï¼Œå¦‚æœæ‚¨é™„åŠ ä¸€ä¸ª`focus`äº‹ä»¶ç›‘å¬å™¨ï¼Œè¢«è§¦å‘çš„äº‹ä»¶å°†ä¸ä»…åŒ…æ‹¬ä¸€ä¸ª`target`å…ƒç´ ï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ª`relatedTarget`å…ƒç´ ã€‚

```
document.querySelector('button')
  .addEventlistener('focus', (event) => {
    console.log(event.target);        
    // ğŸ‘† the element that received focus
    console.log(event.relatedTarget); 
    // ğŸ‘† the element that lost focus (if any)
  }); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¦ç‚¹äº‹ä»¶ä¸­`target`å’Œ`relatedTarget`çš„è§„åˆ™å¦‚ä¸‹:

| äº‹ä»¶åç§° | ç›®æ ‡ | ç›¸å…³ç›®æ ‡ |
| --- | --- | --- |
| `focus` | æ¥æ”¶ç„¦ç‚¹çš„å…ƒç´  | å…ƒç´ å¤±å»ç„¦ç‚¹ |
| `blur` | å…ƒç´ å¤±å»ç„¦ç‚¹ | æ¥æ”¶ç„¦ç‚¹çš„å…ƒç´  |
| `focusin` | æ¥æ”¶ç„¦ç‚¹çš„å…ƒç´  | å…ƒç´ å¤±å»ç„¦ç‚¹ |
| `focusout` | å…ƒç´ å¤±å»ç„¦ç‚¹ | æ¥æ”¶ç„¦ç‚¹çš„å…ƒç´  |

ä½¿ç”¨`relatedTarget`ï¼Œå½“ç”¨æˆ·åœ¨ä½ çš„ç•Œé¢ä¸­â€œè·³è½¬â€æ—¶ï¼Œä½ å¯ä»¥è®¡ç®—å‡ºå…ˆå‰èšç„¦çš„å…ƒç´ æ˜¯ä»€ä¹ˆã€‚

`relatedTarget`ä¹Ÿå¯ä»¥æ˜¯`null`å½“æ²¡æœ‰ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªç›®æ ‡æ—¶ã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªæŒ‰é’®æœ‰ç„¦ç‚¹ï¼Œè€Œç”¨æˆ·å•å‡»äº†ä¸å¯èšç„¦çš„å†…å®¹æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚

é‚£å¯¹æˆ‘æ¥è¯´å®Œå…¨æ˜¯æ–°é—»ï¼ğŸ˜²

å¦‚æœä½ æƒ³ä½“éªŒä¸€ä¸‹ï¼Œçœ‹çœ‹è¿™ä¸ªç‰¹æ€§çš„è¿è¡Œï¼Œæˆ‘åœ¨ CodePen ä¸Šæ„å»ºäº†ä¸€ä¸ªå¿«é€ŸåŸå‹[ã€‚](https://codepen.io/stefanjudis/pen/YzKYbPO)