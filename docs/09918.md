# åˆ›å»ºä¸€ä¸ªå¾·å¤æ‹‰ tmux é¢œè‰²ä¸»é¢˜

> åŸæ–‡:[https://dev . to/Cassidy codes/creating-a-tmux-colour-theme-1k5n](https://dev.to/cassidycodes/creating-a-tmux-colour-theme-1k5n)

æˆ‘æœ€è¿‘å†³å®šåœ¨æˆ‘çš„ç¼–ç ç¯å¢ƒä¸­ä½¿ç”¨ [Dracula](https://draculatheme.com/) ã€‚ä¸ç®¡å–œæ¬¢è¿˜æ˜¯è®¨åŒï¼Œåœ¨è¿‡å»çš„ä¸¤å¹´é‡Œï¼Œæˆ‘ä¸€ç›´åœ¨ä½¿ç”¨ Vim å’Œ [tmux](https://github.com/tmux/tmux) ï¼Œæˆ‘ä»åˆ«äººé‚£é‡Œç»§æ‰¿äº†æˆ‘çš„ Vim å’Œ tmux é…ç½®ã€‚æˆ‘ä¸€å¤´æ‰è¿›è¿™ä¸ªç¯å¢ƒï¼Œå¾ˆå¿«å°±ä¹ æƒ¯äº†ï¼Œä½†æ˜¯æˆ‘ä»æ¥æ²¡æœ‰èŠ±å¤ªå¤šæ—¶é—´æ¥é…ç½®å®ƒã€‚

å½“æˆ‘æŠŠ Vim åˆ‡æ¢åˆ° Dracula æ—¶ï¼Œæˆ‘ç«‹åˆ»æ„è¯†åˆ°æˆ‘ä¹Ÿéœ€è¦æ”¹å˜æˆ‘çš„ tmux é¢œè‰²ï¼

ä¸‹é¢æ˜¯æˆ‘åœ¨ tmux é…ç½®ä¸­ç¼–å†™ä¸»é¢˜çš„æ–¹æ³•ã€‚ä½†é¦–å…ˆï¼Œè¿™æ˜¯å®ƒçš„æ ·å­ï¼ğŸ˜

[![a screenshot of a terminal with a tmux window](../Images/e2efa0440d0f57140d4f2a0c89151dfe.png)T2ã€‘](https://cassidy.codes/images/posts/tmux-theme/tmux-dracula.png)

## [](#general-setup)é€šç”¨è®¾ç½®

é¦–å…ˆï¼Œæˆ‘å¸Œæœ›æ‰€æœ‰å¾·å¤æ‹‰é¢œè‰²çš„åå…­è¿›åˆ¶ä»£ç å°±åœ¨æˆ‘é¢å‰ï¼Œè¿™æ ·æˆ‘å°±ä¸å¿…ä¸€ç›´åˆ‡æ¢åˆ°æµè§ˆå™¨çª—å£ã€‚ç„¶åï¼Œè®©æˆ‘ä»¬å‘Šè¯‰ tmux ä½¿ç”¨æ”¯æŒé¢œè‰²çš„ç»ˆç«¯ã€‚

ä½ ä¼šæ³¨æ„åˆ°æˆ‘ç”¨åå…­è¿›åˆ¶ä»£ç æ¥è¡¨ç¤ºè¿™äº›é¢œè‰²ã€‚tmux æ”¯æŒå°†åå…­è¿›åˆ¶ä»£ç ä¼ å…¥é…ç½®ï¼Œä½†å®ƒä¼šå°†åå…­è¿›åˆ¶ä»£ç è½¬æ¢ä¸ºæœ€æ¥è¿‘çš„ 256 è‰²ã€‚

```
# Dracula Colours
# background_color '#282a36'
# current_line_color '#44475a'
# foreground_color '#f8f8f2'
# comment_color '#6272a4'
# cyan '#8be9fd'
# green '#50fa7b'
# orange '#ffb86c'
# pink '#ff79c6'
# purple '#bd93f9'
# red '#ff5555'
# yellow '#f1fa8c'

set -g default-terminal "screen-256color" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#borders)è¾¹æ¡†

tmux ä¼šè¯å¯ä»¥æœ‰çª—å£ï¼Œçª—å£å¯ä»¥æœ‰çª—æ ¼ã€‚æ¯ä¸ªçª—æ ¼æ˜¯ä¸€ä¸ªå•ç‹¬çš„ç»ˆç«¯ä¼šè¯ï¼Œæ¯ä¸ªçª—å£å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç»ˆç«¯ä¼šè¯ã€‚å¦‚æœä½ ç†Ÿæ‚‰ iTermï¼Œå¯ä»¥æŠŠçª—æ ¼æƒ³è±¡æˆæ°´å¹³æˆ–å‚ç›´åˆ†å‰²ã€‚

```
# pane border
set -g pane-border-style fg='#6272a4'
set -g pane-active-border-style fg='#ff79c6' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬è®¾ç½®äº†ä¸¤ç§é£æ ¼ã€‚é»˜è®¤çš„è¾¹æ¡†é¢œè‰²æ˜¯å¾·å¤æ‹‰çš„æ·±ç´«è‰²æ³¨é‡Šé¢œè‰²ã€‚tumx æ ·å¼æŒ‡ä»¤æ˜¯å‰æ™¯ã€`fg`å’ŒèƒŒæ™¯`bg`çš„é€—å·åˆ†éš”æ ·å¼åˆ—è¡¨ã€‚

`fg`å’Œ`bg`æ¯ä¸ªéƒ½æ¥å—ä¸€ç§é¢œè‰²å’Œä¸€ä¸ªå±æ€§åˆ—è¡¨ã€‚tmux æ–‡æ¡£åˆ—å‡ºäº†æ‚¨å¯ä»¥ä½¿ç”¨çš„æ‰€æœ‰å±æ€§:

> è¿™äº›å±æ€§è¦ä¹ˆæ˜¯æ— ï¼Œè¦ä¹ˆæ˜¯ä»¥é€—å·åˆ†éš”çš„ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—è¡¨:æ‰“å¼€å±æ€§çš„`bright`(æˆ–`bold`)ã€`dim`ã€`underscore`ã€`blink`ã€`reverse`ã€`hidden`ã€`italics`æˆ–`strikethrough`ï¼Œæˆ–è€…æ˜¯ä»¥`no`ä¸ºå‰ç¼€å…³é—­å±æ€§çš„å±æ€§ã€‚

è¿™ä¸¤ç§æ ·å¼å‘Šè¯‰ tmux å°†æ‰€æœ‰çš„è¾¹æ¡†éƒ½è®¾ä¸ºæ·±ç´«è‰²ï¼Œä½†æ˜¯å¦‚æœæˆ‘çš„å…‰æ ‡åœ¨ä¸€ä¸ªçª—å£ä¸­ï¼Œåˆ™å°†è¯¥çª—æ ¼çš„è¾¹æ¡†è®¾ä¸ºç²‰çº¢è‰²ã€‚

## [](#message-style)æ¶ˆæ¯æ ·å¼

åœ¨ tmux çª—å£çš„åº•éƒ¨ï¼Œä½ ä¼šçœ‹åˆ°çŠ¶æ€æ ã€‚ä½†æ˜¯è¿™è¢« tmux å‘½ä»¤è¡Œå’Œæ¥è‡ª tmux çš„ä»»ä½•æ¶ˆæ¯æ‰€æ©ç›–ã€‚

æˆ‘æŠŠå®ƒå’ŒçŠ¶æ€æ ç›¸ä¼¼ï¼Œç°è‰²èƒŒæ™¯ï¼Œè“è‰²æ–‡æœ¬ã€‚

```
# message text
set -g message-style bg='#44475a',fg='#8be9fd' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#status-line)çŠ¶æ€çº¿

çŠ¶æ€è¡Œç”±ä¸‰éƒ¨åˆ†ç»„æˆã€‚`status-left`ã€`window-status`å’Œ`status-right`ã€‚è¿˜è®°å¾—æˆ‘è¯´è¿‡ tmux æœ‰å¤šä¸ªçª—å£å—ï¼Ÿä½ å¯ä»¥æŠŠè¿™äº›æƒ³è±¡æˆ iTerm ä¸­çš„æ ‡ç­¾ã€‚æ‰€æœ‰çš„`window-status`æŒ‡ä»¤éƒ½æ˜¯è¿™äº›æ ‡ç­¾çš„æ ·å¼ã€‚

è®©æˆ‘ä»¬ä»ä¸€äº›åŸºæœ¬é…ç½®å¼€å§‹ã€‚

```
set -g status-style bg='#44475a',fg='#bd93f9'
set -g status-interval 1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæˆ‘ä»¬è®¾ç½®èƒŒæ™¯ä¸ºæ·±ç°è‰²ï¼Œå‰æ™¯ä¸ºç´«è‰²ã€‚è™½ç„¶ï¼Œç´«è‰²ç¨åä¼šè¢«è¦†ç›–ã€‚

ä¸‹ä¸€è¡Œå¯¹æˆ‘ä»¬ç¨åè¦åšçš„`status-right`å¾ˆé‡è¦ã€‚å®ƒå‘Šè¯‰ tmux æ¯ç§’åˆ·æ–°ä¸€æ¬¡çŠ¶æ€è¡Œã€‚

å¥½äº†ï¼Œç°åœ¨å¼€å§‹`status-left`ã€‚

```
# status left
# are we controlling tmux or the content of the panes?
set -g status-left '#[bg=#f8f8f2]#[fg=#282a36]#{?client_prefix,#[bg=#ff79c6],} â˜º ' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œçš„è¯­æ³•æ¯”æˆ‘ä»¬è®¾è®¡çŠ¶æ€è¡Œçš„æ—¶å€™å˜å¾—æ›´åŠ å¤æ‚äº†ã€‚status å’Œ window é€‰é¡¹ä»¥å•ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œä½†æ˜¯æ‚¨å¯ä»¥é€šè¿‡æ–¹æ‹¬å·ä¼ é€’æ ·å¼ï¼Œå¹¶ä¸”å¯ä»¥åœ¨èŠ±æ‹¬å·å†…è°ƒç”¨ tmux å˜é‡ã€‚

æ‰€ä»¥æˆ‘çš„çŠ¶æ€å·¦è¾¹ä¸€è¡Œå†™ç€ï¼Œè®©èƒŒæ™¯å˜æˆæµ…ç°è‰²ï¼Œå‰æ™¯å˜æˆæ·±ç°è‰²ã€‚ç„¶åæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¡ä»¶ã€‚æ˜¯å¦æŒ‰ä¸‹äº†å®¢æˆ·ç«¯å‰ç¼€é”®ï¼Ÿå¦‚æœæ˜¯è¿™æ ·ï¼Œè®©æˆ‘ä»¬å®é™…ä¸Šä½¿èƒŒæ™¯ç²‰çº¢è‰²ï¼Œå¦‚æœä¸æ˜¯ï¼Œä¸è¦åšä»»ä½•äº‹æƒ…ã€‚æœ€åå­—ç¬¦ä¸²ä»¥`â˜º`ç»“æŸã€‚

è¿™ç»™äº†æˆ‘ä¸€ä¸ªå¿«é€ŸæŸ¥çœ‹æˆ‘æ˜¯å¦è¾“å…¥äº†å‰ç¼€çš„æ–¹æ³•ã€‚å½“ä½ å®¹æ˜“æ‰“å­—é”™è¯¯ï¼Œæˆ–è€…å½“ä½ åœ¨åˆ‡æ¢çª—æ ¼æˆ–çª—å£æ—¶åˆ†å¿ƒæ—¶ï¼Œè¿™å¾ˆæ–¹ä¾¿ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘æƒ³æ·»åŠ åˆ°è¿™ä¸ªçŠ¶æ€å·¦å­—ç¬¦ä¸²ã€‚å°†`a`é€‰é¡¹ä¼ é€’ç»™`set`å‘Šè¯‰ tmux å°†è¿™ä¸ªå­—ç¬¦ä¸²é™„åŠ åˆ°å‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯è¦†ç›–å®ƒã€‚

```
# are we zoomed into a pane?
set -ga status-left '#[bg=#44475a]#[fg=#ff79c6] #{?window_zoomed_flag, â†• , }' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

çœ‹èµ·æ¥å’Œä¸Šé¢é‚£ä¸ªå·®ä¸å¤šï¼Œå¯¹å§ã€‚è¿™ä¸€æ¬¡ï¼Œå¦‚æœæˆ‘ç¼©æ”¾äº†ä¸€ä¸ªçª—æ ¼æ¥å æ®æ•´ä¸ªçª—å£ï¼Œæˆ‘å°†æ˜¾ç¤ºä¸€ä¸ªç®­å¤´ã€‚å¦åˆ™ï¼Œæˆ‘ä¼šç•™ä¸‹ç©ºç™½ã€‚

å¥½å§ï¼ä¸Šè‡³è‡³`window-status`ã€‚

```
# window status
set-window-option -g window-status-style fg='#bd93f9',bg=default
set-window-option -g window-status-current-style fg='#ff79c6',bg='#282a36' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™é‡Œï¼Œæˆ‘å°†é»˜è®¤çš„çª—å£çŠ¶æ€è®¾ç½®ä¸ºèåˆåˆ°çŠ¶æ€æ çš„å…¶ä½™éƒ¨åˆ†ï¼Œå¹¶å°†æ´»åŠ¨çª—å£è®¾ç½®ä¸ºç´«è‰²ç™½å­—ã€‚äº‹æƒ…å˜å¾—è¶Šæ¥è¶Šæœ‰è¶£ã€‚

```
set -g window-status-current-format "#[fg=#44475a]#[bg=#bd93f9]î‚°#[fg=#f8f8f2]#[bg=#bd93f9] #I #W #[fg=#bd93f9]#[bg=#44475a]î‚°"
set -g window-status-format "#[fg=#f8f8f2]#[bg=#44475a]#I #W #[fg=#44475a]î‚° " 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™çœ‹èµ·æ¥ç±»ä¼¼äºæˆ‘ä»¬ä¸Šé¢çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦åšä¸€äº›æ ·å¼æŠ€å·§ã€‚æˆ‘æƒ³ç”¨ä¸‰è§’å½¢æ¥æç»˜æˆ‘çš„çª—æˆ·ï¼Œå°±åƒ Vim Powerline æ‰€åšçš„é‚£æ ·ã€‚ä¸ºäº†è®©è¿™ç§é£æ ¼å‘æŒ¥ä½œç”¨ï¼Œæˆ‘å¿…é¡»åœ¨`î‚°`å‰ååˆ‡æ¢å‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²ã€‚ç„¶åï¼Œä¸ºäº†æ˜¾ç¤ºçª—å£çš„åç§°ï¼Œæˆ‘ä½¿ç”¨äº†`#I`ï¼Œå®ƒæ˜¯`window_index`å˜é‡çš„ç¼©å†™ï¼›ä»¥åŠ`#W`ï¼Œå®ƒæ˜¯`window_name`çš„ç¼©å†™

å¿«å¥½äº†ï¼ç°åœ¨çœ‹èµ·æ¥åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚

```
# status right
set -g status-right '#[fg=#8be9fd,bg=#44475a]î‚²#[fg=#44475a,bg=#8be9fd] #(tmux-mem-cpu-load -g 5 --interval 2) '
set -ga status-right '#[fg=#ff79c6,bg=#8be9fd]î‚²#[fg=#44475a,bg=#ff79c6] #(uptime | cut -f 4-5 -d " " | cut -f 1 -d ",") '
set -ga status-right '#[fg=#bd93f9,bg=#ff79c6]î‚²#[fg=#f8f8f2,bg=#bd93f9] %a %H:%M:%S #[fg=#6272a4]%Y-%m-%d ' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œçš„åŒºåˆ«åœ¨äºï¼Œæˆ‘ä½¿ç”¨æ‹¬å·æ¥å‘Šè¯‰ tmux æ‰§è¡Œ bash å‘½ä»¤ã€‚ç¬¬ä¸€ä¸ªæ˜¾ç¤ºæˆ‘çš„å†…å­˜å’Œ CPU ä½¿ç”¨æƒ…å†µçš„æ‘˜è¦ï¼Œç¬¬äºŒä¸ªå‘Šè¯‰æˆ‘è‡ªä¸Šæ¬¡é‡å¯ä»¥æ¥æœ‰å¤šé•¿æ—¶é—´äº†ã€‚

## [](#conclusion)ç»“è®º

è€¶ï¼Œå¾·å¤æ‹‰ä¸»é¢˜ï¼ï¼ï¼æˆ‘ä»åœ¨åŠªåŠ›å®Œå–„æˆ‘çš„ tmux é…ç½®ã€‚å¾ˆå¤šéƒ½æ˜¯ä»å…¶ä»–äººçš„ dot æ–‡ä»¶ä¸­å€Ÿæ¥çš„ï¼Œä½†æˆ‘å¯¹æˆ‘çš„å¾·å¤æ‹‰ä¸»é¢˜å¾ˆæ»¡æ„ã€‚ç°åœ¨æˆ‘å¿…é¡»åœ¨æˆ‘çš„å‘½ä»¤æç¤ºç¬¦ä¸‹åšåŒæ ·çš„äº‹æƒ…ï¼