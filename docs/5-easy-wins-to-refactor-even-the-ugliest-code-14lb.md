# é‡æ„æœ€ä¸‘é™‹çš„ä»£ç çš„ 5 ä¸ªç®€å•èƒœåˆ©

> åŸæ–‡ï¼š<https://dev.to/mlevkov/5-easy-wins-to-refactor-even-the-ugliest-code-14lb>

å½“æ‚¨å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œç¼–å†™å¹²å‡€çš„ä»£ç å¯èƒ½æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚å°è¯•åœ¨ä¸ç ´åä»»ä½•ä¸œè¥¿çš„æƒ…å†µä¸‹æ¸…ç†ç°æœ‰åº”ç”¨ç¨‹åºä¸­çš„ä»£ç ä¸æ­¤ç±»ä¼¼:

> ![unknown tweet media content](img/31f5340fa901ef8e9f89cd175be9028c.png)![Play butt](img/980e9fb12d58fa9423fc94c33003fc4f.png)<video loop="" controls=""><source src="https://video.twimg.com/ext_tw_video/1150872436944048130/pu/vid/1280x720/_kqaIyy-Bqbfv1wH.mp4?tag=10" type="video/mp4"></video>![Heavenly @EVO ğŸ‘ profile image](img/9497fce2bf924c9faef784270cb05e1a.png)å¤©å ‚@EVOğŸ‘@ heavenly control![twitter logo](img/65e26e35707d96169ec8af6b3cbf2003.png)å¦‚æœä½ ç”¨æªæŒ‡ç€æˆ‘çš„å¤´ï¼Œè®©æˆ‘å®Œæˆè¿™ä¸€å…³ï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ æ‰£åŠ¨æ‰³æœº02:10AM-2019 å¹´ 7 æœˆ 16 æ—¥[![Twitter reply action](img/269095962147c28351274afdd5486a48.png)](https://twitter.com/intent/tweet?in_reply_to=1150950714090278916)[![Twitter retweet action](img/771160ecf06ae3d4d7a7815c29c819c2.png)](https://twitter.com/intent/retweet?tweet_id=1150950714090278916)55961[![Twitter like action](img/c077611ab2a5e0b4cd0c826ee7ae1e48.png)](https://twitter.com/intent/like?tweet_id=1150950714090278916)164660

æˆ‘å·²ç»åšäº†å‡ å¹´æŠ€æœ¯ä¸»ç®¡ï¼Œåœ¨é‚£æ®µæ—¶é—´é‡Œï¼Œæˆ‘çœ‹åˆ°äº†æˆ‘å¿…é¡»ç»´æŠ¤æˆ–è€…æ‰©å±•çš„å¤§é‡ä»£ç ã€‚é€šè¿‡è®¸å¤šä»¤äººæ²®ä¸§çš„å°æ—¶å’Œåå‡ åªæ©¡çš®é¸­ï¼Œæˆ‘å¼€å‘äº†ä¸€äº›æç¤ºå’ŒæŠ€å·§æ¥å¸®åŠ©é‡æ„æœ€ä¸‘é™‹çš„ä»£ç åº“ã€‚

æˆ‘åˆ—å‡ºäº† 5 ä¸ªå¿«é€ŸæˆåŠŸçš„ä¾‹å­ï¼Œä½ å¯ä»¥åº”ç”¨äºä»»ä½•ä»£ç åº“ï¼Œæˆ–è€…å½“ä½ å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶è®°ä½å®ƒä»¬ã€‚

æ¯ä¸€æ¬¡èƒœåˆ©éƒ½ä»¥ä¸€ä¸ªç³Ÿç³•çš„ä»£ç æ ·æœ¬å¼€å§‹ï¼Œç„¶åæ˜¯ä¸€ä¸ªå¥½çš„ä»£ç æ ·æœ¬ï¼Œå¹¶è§£é‡Šäº†å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ã€‚

## 1)æ²¡æœ‰ä¸å˜çš„æ–¹æ³•

å¦‚æœä¸ç®¡ä¼ å…¥ä»€ä¹ˆï¼Œä¸€ä¸ªæ–¹æ³•æ€»æ˜¯è¿”å›å®Œå…¨ç›¸åŒçš„ä¸œè¥¿ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å¯ä»¥è¢«è®¤ä¸ºæ˜¯æ— ç”¨çš„ã€‚
æ­£å¦‚æ‚¨åœ¨ç¤ºä¾‹ invariant-method-bad.ts ä¸­çœ‹åˆ°çš„ï¼ŒgetName å°†æ€»æ˜¯è¿”å›å®Œå…¨ç›¸åŒçš„â€œæ²¡æœ‰æ‰¾åˆ°åç§°â€æ¶ˆæ¯ã€‚
æˆ‘ä»¬åœ¨ invariant-method-good.ts æ–¹æ³•ä¸­é€šè¿‡ç®€å•åœ°è¿”å›æˆ‘ä»¬æƒ³è¦çš„ç»“æœæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚