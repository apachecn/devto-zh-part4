# ES6 for å¾ªç¯:æœ€ä½³å®è·µ

> åŸæ–‡:[https://dev.to/godcrampy/es6-for-loops-best-practices-4c86](https://dev.to/godcrampy/es6-for-loops-best-practices-4c86)

For å¾ªç¯æ˜¯å¸¸è§çš„æ§åˆ¶æµè¯­å¥ï¼Œç”¨äºè¿­ä»£èŒƒå›´ã€é¡ºåºæ•°æ®ç±»å‹ç­‰ã€‚JavaScript çš„ ES6 ä¿®è®¢ç‰ˆæä¾›äº†å‡ ä¸ªæ–°ç‰¹æ€§ï¼Œä½¿å¾—è¯¥è¯­è¨€æ›´åŠ å¼ºå¤§ã€ç®€æ´å’Œä¼˜é›…ã€‚ä»¥ä¸‹æ˜¯æˆ‘é‡åˆ°çš„å…³äº *for* å¾ªç¯çš„æœ€ä½³å®è·µ:

## [](#vanilla-for-loop)é¦™è‰`for`å¾ªç¯

```
// Old and Bad way

for(var i = 0; i < 10; i++) {
  // Do Stuff
}
// End of loop

console.log(i)
// 10
// iterator still accessible after the end of the loop 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨ä¼ ç»Ÿçš„ *for* å¾ªç¯ä¸­ï¼Œä½¿ç”¨ *var* æ¥åˆå§‹åŒ–è¿­ä»£å™¨ï¼Œä½¿å¾—è¿­ä»£å™¨å³ä½¿åœ¨å¾ªç¯ç»“æŸåä¹Ÿæ˜¯å¯è®¿é—®çš„ã€‚ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©æ˜¯ä½¿ç”¨æ›´æ–°çš„ *let* å…³é”®å­—æ¥åˆå§‹åŒ–è¿­ä»£å™¨ã€‚

```
// Better way

for(let i = 0; i < 10; i++) {
  // Do Stuff
}
// End of loop

console.log(i)
// undefined
// iterator not accessible 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*let* å…³é”®å­—å°†è¿­ä»£å™¨çš„èŒƒå›´é™åˆ¶åœ¨ for å¾ªç¯å—ã€‚

## [](#newer-flavors-of-for-loop)è¾ƒæ–°å£å‘³çš„`for`å¾ªç¯

ES6 ä¿®è®¢ç‰ˆè¿˜æä¾›äº†ä¸¤ä¸ªæ–°çš„ for å¾ªç¯*..çš„*å’Œ*ä¸º..åœ¨*å¾ªç¯ä¸­ã€‚

***ä¸º..* :**

```
let primes = [2, 3, 5, 7];

for(const value of primes) {
  console.log(value);
}
// 2
// 3
// 5
// 7
// Iterates over the values of the array 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

***ä¸º..åœ¨* :**

```
let primes = [2, 3, 5, 7];

for(const key in primes) {
  console.log(key);
}
// '0'
// '1'
// '2'
// '3'
// Iterates over the keys of the array 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ³¨æ„ï¼Œ*ä¸º..åœ¨*å¾ªç¯ä¸­ï¼Œè¿™é‡Œä»¥å­—ç¬¦ä¸²è€Œä¸æ˜¯æ•°å­—çš„å½¢å¼è¿”å›å¯†é’¥ã€‚*çš„å¦ä¸€ä»¶æ€ªäº‹ä¸º..åœ¨*å¾ªç¯ä¸­ï¼Œå½“*ä¸º..*å¾ªç¯ä¸èƒ½:

```
let sandwich = {
  grilled: true,
  butter: "lots",
  bread: "whole wheat",
  calories: 250
}

for(const value of sandwich) {
  console.log(value)
}
// Error: Objects are not iterable

for(const key in sandwich) {
  console.log(key)
}
// "grilled"
// "butter"
// "bread"
// "calories" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#const-vs-let)`const` vs `let`

å¦‚æœä½ çœŸçš„ä»”ç»†é˜…è¯»ï¼Œä½ ä¼šæ³¨æ„åˆ°æˆ‘åœ¨æ™®é€šçš„*ä¸­ä½¿ç”¨äº† *let* ç”¨äº*å¾ªç¯ï¼Œåœ¨ ES6 é£æ ¼çš„*ä¸­ä½¿ç”¨äº† *const* ç”¨äº*å¾ªç¯ã€‚çš„æ™®é€š*åªæ˜¯å¢åŠ äº†åˆå§‹è¿­ä»£å™¨å€¼ï¼Œæ•´ä¸ªå¾ªç¯åªæœ‰ä¸€ä¸ªä½œç”¨åŸŸã€‚å› æ­¤ä½¿ç”¨ *const* ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­å¢åŠ è¿­ä»£å™¨å€¼ä¼šå¯¼è‡´é”™è¯¯ã€‚ç„¶è€Œåœ¨è¾ƒæ–°çš„å¾ªç¯ä¸­ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™äº›å¾ªç¯ä¸­ä½¿ç”¨ *const* ä»¥åŠ *let* ã€‚åœ¨æˆ‘ä»¬ä¸æƒ³æ”¹å˜ iterable çš„å€¼çš„æƒ…å†µä¸‹ï¼Œconst* æ›´å—æ¬¢è¿ã€‚

> å°±æ˜¯è¿™æ ·ï¼Œä¼™è®¡ä»¬ï¼è°¢è°¢ä½ çš„é˜…è¯»ï¼Œç¥ä½ æœ‰ç¾å¥½çš„ä¸€å¤©ğŸ˜„