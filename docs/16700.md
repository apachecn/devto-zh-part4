# å¦‚ä½•è¦†ç›–ä½ çš„èƒŒæ™¯å›¾ç‰‡

> åŸæ–‡ï¼š<https://dev.to/selbekk/how-to-overlay-your-background-images-59le>

æˆ‘ä»Šå¤©å­¦åˆ°äº†ä¸¤ä¸ªä¸é”™çš„å°æŠ€å·§ï¼Œæˆ‘æƒ³æˆ‘åº”è¯¥å†™ä¸€ç¯‡å…³äºå®ƒä»¬çš„å°æ–‡ç« ã€‚

## æŒ‘æˆ˜

é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šåœ¨èƒŒæ™¯å›¾ç‰‡ä¸Šæ”¾ç½®æ–‡å­—ã€‚ä¸€ä¸ªä¾‹å­å¯èƒ½æ˜¯ä¸€ä¸ªè‹±é›„åŒºï¼Œæˆ–ä»¥ä¸Šçš„å†…å®¹ï¼ŒåŸºæœ¬ä¸Šä»»ä½•è¥é”€ç½‘ç«™è¿™äº›å¤©ã€‚

æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æé«˜æ–‡æœ¬å’ŒèƒŒæ™¯å›¾åƒä¹‹é—´çš„å¯¹æ¯”åº¦ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åªæ”¹å˜å›¾åƒæœ¬èº«â€”â€”ä½†æœ‰æ—¶è¿™ä¸æ˜¯ä¸€ä¸ªé€‰é¡¹ã€‚

## æ—§è€Œç¬¨é‡çš„æ–¹å¼ğŸ‘´

æœ‰å‡ ç§æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†è¿™æ˜¯æˆ‘ä»¥å‰å­¦ä¼šçš„æ–¹æ³•ã€‚æˆ‘é€šå¸¸åˆ›å»ºä»¥ä¸‹ HTML ç»“æ„:

```
<div class="image-box">
  <div 
    class="image-box__background" 
    style="--image-url: url('some-image.jpg')"
  ></div>
  <div class="image-box__overlay"></div>
  <div class="image-box__content">
    <h1>Buy our product</h1>
  </div>
</div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åæˆ‘å°†ä½¿`image-box`ç›¸å¯¹å®šä½ï¼Œæ‰€æœ‰çš„å­å…ƒç´ éƒ½ç»å¯¹å®šä½åœ¨é‡Œé¢ï¼Œå¹¶æŒ‰ç…§æˆ‘æƒ³è¦çš„é¡ºåºå †å å®ƒä»¬ã€‚

> ### è¿™æ˜¯ä»€ä¹ˆâ€”â€”è¯­æ³•ï¼Ÿ
> 
> æ³¨æ„ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ä¸€ä¸ªå«åš CSS è‡ªå®šä¹‰å±æ€§çš„ä¸œè¥¿ä¼ å…¥å›¾åƒ url çš„ã€‚ä½ å¯èƒ½ä¹ŸçŸ¥é“å®ƒä»¬æ˜¯ CSS å˜é‡ã€‚è¿™æ˜¯åœ¨ HTML å’Œ CSS ä¹‹é—´ä¼ é€’å€¼çš„ä¸€ç§æ–¹å¼ã€‚ä½ å¯ä»¥åœ¨ [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/--*) ä¸Šé˜…è¯»æ›´å¤šå…³äº CSS è‡ªå®šä¹‰å±æ€§çš„å†…å®¹ã€‚

å¯¹å…¶è¿›è¡Œæ ·å¼åŒ–æ‰€éœ€çš„æ ·å¼å¦‚ä¸‹:

```
/* 
The container box is relative so we can position stuff inside of it 
*/
.image-box {
  position: relative;
}

/*
The background and overlay need to be absolutely positioned
*/
.image-box__background,
.image-box__overlay {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
}

/* 
The background image div sizes and positions the background itself.
It's also at the bottom-most position in our "div stack" (z-index 1)

We set the image url via a CSS custom property, that's set via the style attribute in our HTML
*/
.image-box__background {
  background: var(--image-url) center center no-repeat;
  background-size: cover;

  z-index: 1
}

/* 
The overlay div is just a colored element with some opacity.
It's above the background image in our stack, so it appears to 
darken the image 
*/
.image-box__overlay {
  background: rgba(0, 0, 0, 0.5);

  z-index: 2;
}

/* 
The content div is at the top of our stack. 
We'd probably add some padding or flexbox properties here as well, 
to place the content appropriately
*/
.image-box__content {
  position: relative;

  z-index: 3;

  /* Finally, style and place the content */
  color: white;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»£ç å¾ˆå¤šï¼Œä½†æ˜¯è¿è¡Œå¾—å¾ˆå¥½ã€‚ä¸‹é¢æ˜¯å®ç°å®ƒçš„ä»£ç ç¬”:

[https://codepen.io/selbekk/embed/ewGYOz?height=600&default-tab=result&embed-version=2](https://codepen.io/selbekk/embed/ewGYOz?height=600&default-tab=result&embed-version=2)

## æ–°é…·çš„æ–¹å¼ï¼ğŸ˜

é‚£æ˜¯å¾ˆå¤šä»£ç ã€‚äº‹å®è¯æ˜ï¼Œäº‹æƒ…ä¸ä¸€å®šæ˜¯é‚£æ ·çš„ã€‚

è®©æˆ‘ä»¬æŠŠ HTML ä¿®æ”¹æˆè¿™æ ·:

```
<div class="image-box" style="--image-url(some-image.jpg)">
  <h1>Buy our product</h1>
</div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™çœ‹èµ·æ¥æœ‰ç‚¹ç®€å•ï¼Œå¯¹ä¸å¯¹ï¼Ÿè®©æˆ‘ä»¬ä¹Ÿå®ç° CSS:

```
.image-box {

  /* Here's the trick */
  background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)) , var(--image-url) center center;
  background-size: cover;

  /* Here's the same styles we applied to our content-div earlier */
  color: white;
  min-height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸‹é¢æ˜¯å®ç°å®ƒçš„ä»£ç ç¬”:

[https://codepen.io/selbekk/embed/orGNMa?height=600&default-tab=result&embed-version=2](https://codepen.io/selbekk/embed/orGNMa?height=600&default-tab=result&embed-version=2)

### è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ç°åœ¨æŒ‡å®šäº†ä¸¤ä¸ªèƒŒæ™¯å›¾åƒ:

```
.image-box {
  background-image: 
    linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
    var(--image-url);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç¬¬ä¸€ä¸ªèƒŒæ™¯å›¾åƒæ˜¯ä»ç›¸åŒé¢œè‰²åˆ°ç›¸åŒé¢œè‰²çš„çº¿æ€§æ¸å˜ã€‚è¿™ç§é¢œè‰²æ˜¯åŠé€æ˜çš„é»‘è‰²ï¼Œä½œä¸ºä½ çš„ç¬¬äºŒä¸ªèƒŒæ™¯çš„è¦†ç›–ã€‚

å°±è¿™æ ·äº†ã€‚å¦‚æœä½ è§‰å¾—èªæ˜ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠä½ æƒ³è¦çš„å˜æš—çš„æ•°é‡ä½œä¸ºç¬¬äºŒä¸ª css å˜é‡æ¥ä¼ é€’ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥å®šåˆ¶ã€‚æˆ–è€…ä½¿ç”¨ä¸€ä¸ªå®é™…çš„æ¢¯åº¦ï¼Œä½¿æ‚¨çš„å›¾åƒæ›´æµè¡Œä¸€ç‚¹ã€‚

## åˆ©ç”¨æ–¹æ¡†é˜´å½±æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœ

åŸæ¥ï¼ŒCSS æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å°†â€œå…ƒå†…å®¹â€æ”¾åœ¨èƒŒæ™¯å›¾ç‰‡ä¸Šã€‚å¦ä¸€ç§å®ç°ç›¸åŒç›®çš„çš„æ–¹æ³•æ˜¯ä½¿ç”¨å…·æœ‰å·¨å¤§æ‰©å±•å€¼çš„`box-shadow`å±æ€§å’Œ`inset`è®¾ç½®ã€‚

```
.image-box {

  /* Here's the trick */
  box-shadow: inset 0 0 0 100vw rgba(0,0,0,0.5);

  /* Basic background styles */
  background: var(--image-url) center center no-repeat;
  background-size: cover;

  /* Here's the same styles we applied to our content-div earlier */
  color: white;
  min-height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œæœ‰ä¸€ä¸ªå®ç°ä»£ç ç¬”:

[https://codepen.io/selbekk/embed/ydzmEv?height=600&default-tab=result&embed-version=2](https://codepen.io/selbekk/embed/ydzmEv?height=600&default-tab=result&embed-version=2)

è¿™ä¹Ÿç»™äº†ä½ ä¸€äº›æˆ‘ä»¬å¯ä»¥åŠ¨ç”»çš„ä¸œè¥¿(æ³¨æ„å½“ä½ æ‚¬åœå›¾åƒæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ)ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ UX ä¹è¶£ã€‚ä½†æ˜¯ï¼Œä½ å¯¹æ¸å˜æ²¡æœ‰ç›¸åŒçš„æ§åˆ¶ï¼Œæ‰€ä»¥ä½ åº”è¯¥é€‰æ‹©å“ªç§æŠ€æœ¯å–å†³äºä½ çš„è®¾è®¡ç¯å¢ƒã€‚äººä»¬è¿˜æ³¨æ„åˆ°ï¼Œè¿™ç§æŠ€æœ¯çš„æ€§èƒ½å¯èƒ½ä¸å¤ªå¥½ï¼Œå°¤å…¶æ˜¯åœ¨ä½ç«¯è®¾å¤‡ä¸Šã€‚è®°ä½ï¼Œåœ¨å†³å®šä½ çš„æŠ€æœ¯æ—¶ï¼Œä¹Ÿè¦è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ã€‚

æ„Ÿè°¢æ‚¨å‚åŠ æˆ‘çš„å¼€å‘è®²åº§ã€‚