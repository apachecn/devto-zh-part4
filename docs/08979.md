# å°† SpaceX API è¿ç§»åˆ° GraphQLğŸš€

> åŸæ–‡:[https://dev . to/swcarlosrj/migrating-spacex-API-to-graph QL-2d8b](https://dev.to/swcarlosrj/migrating-spacex-api-to-graphql-2d8b)

ä½œä¸ºå¦ä¸€ä¸ªç‰©ç†ã€å¤©æ–‡ã€ç«ç®­çš„çˆ±å¥½è€…ï¼Œå½“æˆ‘å‘ç° SpaceX å…¬å…± API(æ„Ÿè°¢[å…¨æ ˆé˜¿æ³¢ç½—æ•™ç¨‹](http://apollographql.com/docs/tutorial/introduction.html)ğŸ‘)ï¼Œæˆ‘å¯¹è°ƒæŸ¥å¯ç”¨æ•°æ®å¾ˆæ„Ÿå…´è¶£ã€‚

æˆ‘ç«‹å³è®¿é—®äº† [SpaceX API GitHub](https://github.com/r-spacex/SpaceX-API) å¹¶â€¦

[![](../Images/9bda726d09c8e8978b9ff9d8650496d3.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QPncIGqZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/3396/1%2AfrgOjBqsIBs4f8t6gBSECA.png)

*   ğŸµs å°†æ˜¯æœªæ¥ Animoji çš„æ‰‹è·Ÿè¸ª UX æµ‹è¯•

ä¼‘æ¯ï¼Ÿå¤–éƒ¨æ–‡æ¡£ï¼Ÿé‚®é€’å‘˜ï¼Ÿï¼ŸğŸ˜…SpaceX API ä¹‹æ—…å¼€å§‹å¹¶ä¸é¡ºåˆ©ï¼Œä½†æˆ‘ä»ç„¶å¯¹æŒ–æ˜æ„æˆ API çš„èµ„æºæ„Ÿåˆ°å…´å¥‹ï¼Œæˆ‘ç»§ç»­æˆ‘çš„æ–¹å¼å»[æ–‡æ¡£](https://documenter.getpostman.com/view/2025350/RWaEzAiG)ğŸ˜¬

å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘è·³è¿‡äº†ä»‹ç»ï¼Œç›´æ¥è¿›å…¥å‚è€ƒèµ„æ–™ï¼Œå¯»æ‰¾**åœ£æ¯**ã€*æ•°æ®å’Œå®ƒä»¬å„è‡ªçš„ç±»å‹å®šä¹‰*ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹é‡Œé¢æœ‰ä»€ä¹ˆğŸ‘‡

[![](../Images/fd03fc109ded538ba0a5f92e2c69c77d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--V8JTShS---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2300/1%2A6Bz0dZavgjWvbqisAWSJCg.png)

âœ… **ç»ˆç‚¹**ï¼ŒğŸ˜’v3ï¼Ÿï¼Œæœ‰ v2 å—ï¼ŸåŒ»ç”Ÿåœ¨å“ªé‡Œï¼ŸğŸ˜•

âœ… **ç±»å‹**ï¼Œæˆ‘ä¸çŸ¥é“ä»€ä¹ˆæ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬æœ‰ä¸€äº›ç±»å‹å®šä¹‰ğŸ˜

ğŸ”²**æ•°æ®**ï¼Œæ— æ•°æ®ï¼Œæ— ğŸ˜­ã€‚æˆ‘ä»¬ç»§ç»­æ‰¾ï¼Œæ•°æ®æ¨¡å‹åº”è¯¥å°±åœ¨é™„è¿‘ï¼

ä½œä¸ºä¸€ä¸ªä¹ æƒ¯ä½¿ç”¨ GraphQL çš„ç”¨æˆ·ï¼Œè¿™ç§ä½“éªŒå¹¶ä¸å¤ªå¥½ï¼Œä½†å€¼å¾—ä¸€è¯•ğŸ¤

[![](../Images/2b4203ec12af6df97937f40350c1ce83.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--DgruALEc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2296/1%2A3EIsYZy7ht0BJXsZ32NUJQ.png)

å°¤é‡Œå¡ï¼Œæˆ‘æ‰¾åˆ°äº†ğŸ‰

âœ‹ç­‰ä¸€ä¸‹ï¼Œoriginal_launch_unix çœ‹èµ·æ¥ä¸å¤ªç†Ÿæ‚‰ï¼Œè®©æˆ‘ä»¬å†æ£€æŸ¥ä¸€ä¸‹â€œç±»å‹å®šä¹‰â€ï¼Œ
ğŸ¤”å®ƒä¸åœ¨é‚£é‡Œï¼Œæè¿°æ€»æ˜¯è¯´â€œè¿‡æ»¤å™¨â€¦â€
ğŸ˜“é‚£ä¸æ˜¯æ•°æ®ç±»å‹å®šä¹‰ï¼Œ
ğŸ˜«é‚£æ—¶ä»–ä»¬ä¼šåœ¨å“ªé‡Œå‘¢ï¼Ÿ

* *æ»šåŠ¨è¯•å›¾æ‰¾åˆ°ç±»å‹å®šä¹‰â€¦â€¦**

* *æˆ‘è„‘:
* *ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´

* *æˆ‘:** â€œä¿æŒå†·é™ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹èƒ½å¦åœ¨æä¾›çš„ API é›†åˆä¸­æ‰¾åˆ°å®ƒä»¬â€

**è·‘æ­¥[é‚®å·®é›†åˆ](https://app.getpostman.com/run-collection/3aeac01a548a87943749)â€¦â€¦**

[![](../Images/8f8c38edf62646c5c7cf7552dcd95cb8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Vk-awbsl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2Ari-tQl6i7oUMuDjAl6vblA.png)

**å®‰è£…ã€æ³¨å†Œã€è®¾ç½®â€¦**

* *æˆ‘è„‘:
* *ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´
ä¸è¯´

* *æˆ‘:** â€œç”¨ GraphQL è¿˜ç­‰ä»€ä¹ˆï¼Ÿâ€

æ˜¯çš„ï¼Œæˆ‘æ”¾å¼ƒäº†ğŸ˜“ï¼Œå°±åœ¨é‚£ä¹‹åï¼Œæˆ‘å¼€å§‹äº† API è¿ç§»â€¦

## [](#why)ä¸ºä»€ä¹ˆï¼Ÿ

å› ä¸ºï¼Œ

> # [](#i-just-want-to-explore-data-amp-their-types)I just want to explore the data & and their types

ä¸éœ€è¦è®¾ç½®ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºâ€¦

ğŸ‘‰**è¿‡åº¦æå–** : 90%çš„å“åº”è¶…è¿‡äº†åº”ç”¨ç¨‹åºçš„æ•°æ®éœ€æ±‚ï¼Œæˆ‘åªæƒ³é—®æˆ‘æƒ³è¦ä»€ä¹ˆï¼

ğŸ‘‰**ä¸‹é’»**:å¤šä¸ªè¯·æ±‚æ˜¯ä¸€ä¸ªç³Ÿç³•çš„æ€§èƒ½è§£å†³æ–¹æ¡ˆï¼Œæˆ‘å–œæ¬¢ä¸€æ¬¡è¯·æ±‚æ‰€æœ‰æ•°æ®

ğŸ‘‰**æ‰“å­—**ï¼Œ**æ–‡æ¡£**ï¼Œ**ç‰ˆæœ¬**ï¼Œ* *ç”Ÿæ€ç³»ç»Ÿï¼Œ** â€¦â™¾ï¼Œæ€»æ˜¯æœ‰äº›æ£˜æ‰‹

## [](#how)å¦‚ä½•ï¼Ÿ

[![](../Images/ea6d7c7309d7e5ca9dc3fac0cdbfd337.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Cn7KYGSq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/4408/1%2A01W2XwVEpRyg-3Ayt4FN5g.png)

## [](#what)ä»€ä¹ˆï¼Ÿ

å®ƒä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒæ˜¯ä¸€ç§é¢å‘ API çš„* *æŸ¥è¯¢è¯­è¨€* *ï¼Œä½œä¸ºè§„èŒƒæœ¬èº«ï¼Œå®ƒä¸ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½å…¼å®¹ğŸ’«

GraphQL:ä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€

æŒæ¡å®ƒğŸ‘©â€ğŸ“ğŸ‘¨â€ğŸ“ä¼ŠèŠ™Â·æ³¢å°”åˆ‡æ´›&äºšå†å…‹æ–¯Â·ç­å…‹æ–¯çš„ã€Šå­¦ä¹ å›¾è¡¨ã€‹

[![](../Images/43bc21a89ec6f6a295db9731dbd7be47.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ephyM9OV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/2000/1%2Au8MDB0zH-dDLCB82SSRwCQ.png)

## [](#the-migration)ğŸŒ’ğŸŒ”è¿ç§»ğŸŒ–ğŸŒ˜

å…³äº GraphQL æŠ€æœ¯äººå‘˜&çš„å·¥å…·ï¼Œæˆ‘èƒ½è¯´äº›ä»€ä¹ˆå‘¢ï¼Ÿç®€å•åœ°è¯´ï¼Œæˆ‘å·²ç»éƒ¨ç½²äº†ä¸€ä¸ª APIï¼Œèƒ½å¤Ÿäº¤äº’åœ°è·å–çœŸå®æ•°æ®&æ¢ç´¢å®Œå…¨æ›´æ–°çš„æ–‡æ¡£(ä»¥åŠæ›´å¤š)*ï¼Œ* *åœ¨å‡ ä¸ªå°æ—¶å†…* *ï¼Œéå¸¸æœ‰è¶£&ï¼

## [](#steps)æ­¥éª¤

1ï¸âƒ£è®¾ç½®æœåŠ¡å™¨å’Œæ¨¡å—åŒ–æ¨¡å¼âš™ï¸
2ï¸âƒ£å°†æ•°æ®åº“&æ„å»ºå™¨åŒ…å«åˆ°ä¸Šä¸‹æ–‡ä¸­
3ï¸âƒ£åˆ›å»ºåŸŸçš„ç±»å‹å®šä¹‰&è§£æå™¨ğŸ’ª
4ï¸âƒ£å®è¡Œ[çç¢çš„è§£å†³åŠæ³•](https://graphql.org/learn/execution/#trivial-resolvers)t5ã€‘5ï¸âƒ£å¸å–æ•™è®­ğŸ’¡
6ï¸âƒ£éƒ¨ç½²ğŸš€å®ƒ

çœ‹èµ·æ¥ä¸éš¾ï¼Œå¯¹å§ï¼Ÿï¼Œå®é™…ä¸Šè¿™å¹¶ä¸æ˜¯å› ä¸ºå‡ºè‰²çš„ GraphQL ç¤¾åŒºğŸ™Œï¼Œ[ä¸è¦é”™è¿‡æ‰€åšçš„æ”¹å˜](https://github.com/r-spacex/SpaceX-API/compare/master...swcarlosrj:graphql)ï¼

## [](#conclusions)ç»“è®º

è‡ªå·±ç”»â€¦â€¦(å‰å¼€å®ƒï¼Œæ‰“ç ´å®ƒï¼Œæ”¹è¿›å®ƒï¼Œä½†ç‰¹åˆ«æ˜¯ï¼Œäº«å—å®ƒğŸ˜„)

> # T2] Buy back [T3ã€‘ API ã€T4] document & everything

[https://codesandbox.io/embed/yv004pqnq9](https://codesandbox.io/embed/yv004pqnq9)

[![](../Images/c5ce5801aec5c7d14617a1b50036d15b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--3M8UvU2v--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/3840/1%2Af6IMUipNmjSrEp9iEAX4sw.jpeg)

### [](#dont-miss-the-graphql-best-practices-amp-conclusions-based-on-spacex-graphql-api)ä¸è¦é”™è¿‡åŸºäº SpaceX GraphQL API çš„ GraphQL æœ€ä½³å®è·µ&ç»“è®º

> # T2] [Experience and lessons of migrating API to GraphQL](https://medium.com/@swcarlosrj/lessons-learned-migrating-apis-to-graphql-8a015d08b163)

è¯·è€ƒè™‘ä¸€ä¸‹ğŸ™ğŸ»è·å…°ã€contributâ™»ï¸ing å’Œæ²™å°”ğŸ’œè¯¥æ­»çš„ã€‚