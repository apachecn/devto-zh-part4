# Vue.js (2.x)ä¸­çš„åŠŸèƒ½ç»„ä»¶

> åŸæ–‡:[https://dev.to/vhoyer/functional-components-in-vue-js-20fl](https://dev.to/vhoyer/functional-components-in-vue-js-20fl)

æˆ‘åœ¨æˆ‘çš„ä¸ªäººåšå®¢ :D ä¸Šé‡æ–°å‘å¸ƒäº†è¿™ç¯‡æ–‡ç« 

* * *

é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬ä»å¤´å¼€å§‹ï¼Œä»€ä¹ˆæ˜¯åŠŸèƒ½ç»„ä»¶ï¼Ÿè¿™äº›ç»„ä»¶æ›´åŠ è½»é‡çº§ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ä»»ä½•æ•°æ®æˆ–è®¡ç®—æ•°æ®ï¼Œä¹Ÿæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚å®ƒä»¬å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¼ é€’ç»™å®ƒçš„å‚æ•°æ”¹å˜æ—¶é‡æ–°æ‰§è¡Œçš„å‡½æ•°ã€‚

è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œä½ å¯ä»¥é˜…è¯»å®ƒçš„å®˜æ–¹æ–‡ä»¶ï¼Œæˆ–è€…è¯ºæ‹‰Â·å¸ƒæœ—å†™çš„å¾ˆé…·çš„åšå®¢æ–‡ç« ã€‚ä»–ä»¬ä¹Ÿæœ‰ä¸€ä¸ªä¿®æ”¹çš„ APIï¼ŒåŸå› æˆ‘è¿˜ä¸çŸ¥é“ï¼Œä½†ç°åœ¨æˆ‘æåˆ°äº†å®ƒï¼Œæˆ‘å¾ˆå¥½å¥‡ï¼Œæ‰€ä»¥æˆ‘å¯èƒ½ä¼šå°è¯•æ£€æŸ¥å®ƒã€‚

ä½†æ˜¯çœŸçš„æœ‰é‚£ä¹ˆå¥½å—ï¼Ÿè€å®è¯´ï¼Œæˆ‘çœŸçš„ä¸çŸ¥é“ï¼›æˆ‘åªæ˜¯ç›¸ä¿¡å…¶ä»–äººã€‚å› ä¸ºå®ƒä¸éœ€è¦ç®¡ç†ååº”ï¼Œæ‰€ä»¥åº”è¯¥æ›´å¥½ï¼Œå› ä¸ºå®ƒè¿è¡Œæ›´å°‘çš„ä»£ç æ¥è·å¾—ç›¸åŒçš„ç»“æœã€‚ä½†æ˜¯å¥½å¤šå°‘å‘¢ï¼Ÿæˆ‘ä¸çŸ¥é“ã€‚æˆ‘æ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œæˆ‘å¸Œæœ›æœ‰äººèƒ½åœ¨è¯„è®ºä¸­å›ç­”è¿™ä¸ªé—®é¢˜ã€‚

ä½ çŒœæ€ä¹ˆç€æˆ‘ä¼šæŠŠè¿™ç¯‡æ–‡ç« æ¨é€ç»™æ ¸å¿ƒå›¢é˜Ÿ(åˆå[èæ‹‰Â·å¾·æ‹‰æ–¯çº³](https://sarah.dev/))ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›èƒ½å¾—åˆ°æˆ‘ä»¬çš„ç­”æ¡ˆï¼Œå¥½å—ï¼ŸğŸ˜‚ ğŸ˜…

## [](#the-ugly-parts-of-this)è¿™ä¸ªä¸‘é™‹çš„éƒ¨åˆ†

å¥½çš„ï¼Œvue ä¸­çš„åŠŸèƒ½ç»„ä»¶å¾ˆé…·ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼Œå¯¹å—ï¼Ÿæˆ‘çš„æ„æ€æ˜¯ï¼Œä½ å¯ä»¥å¾ˆå¥½åœ°ä½¿ç”¨`render()`å‡½æ•°æ¥åšæ‰€æœ‰çš„äº‹æƒ…ï¼Œå¹¶ä¸”å®ƒä¼šå¾ˆé«˜å…´ï¼Œå› ä¸ºä½¿ç”¨ render å‡½æ•°ä½ å¯ä»¥æ›´å¥½åœ°ç»„ç»‡ä½ çš„ä»£ç ã€‚

> ä½†æ˜¯å½“ä½ å¦‚æ­¤ä¹ æƒ¯äº`<template>`æ—¶ï¼Œå­¦ä¹ è¿™ä¸ªè¯­æ³•çš„éšœç¢æ˜¯å¦‚æ­¤ä¹‹é«˜ï¼Œæ›´ä¸ç”¨è¯´å½“ä½ çš„é¡¹ç›®ä¸­çš„å…¶ä»–äººéƒ½ä¹ æƒ¯äºæ¨¡æ¿æ—¶ï¼Œä½ å°†ä½¿ç”¨è¿™ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰ä¸¤ä¸ªè¯­æ³•ï¼Œè¿™éƒ½æ˜¯ä½ çš„é”™ï¼Œä½ åº”è¯¥ä¸ºè‡ªå·±æ„Ÿåˆ°ç¾è€»ï¼Œä½ è¿™ä¸ªè‡ªä½œèªæ˜çš„å®¶ä¼™ã€‚
> â€”ä¸ºäº†ç¾è§‚ï¼Œè¯·å¿«é€Ÿé˜…è¯»ğŸ˜

æ‚¨è¿˜å¯ä»¥å°è¯• React æ–¹å¼ï¼Œå¹¶åœ¨é¡¹ç›®ä¸­æ·»åŠ åœ¨ js ä¸­ä½¿ç”¨ html çš„ JSX è¯­æ³•ï¼Œé…ç½® webpack ä»¥ç†è§£è¯¥è¯­æ³•ï¼ŒBUUUUT

> ...å½“ä½ å¦‚æ­¤ä¹ æƒ¯äº`<template>`çš„æ—¶å€™ï¼Œå­¦ä¹ è¿™ç§è¯­æ³•çš„éšœç¢æ˜¯**ä¸å¦ä¸€ä¸ªç›¸æ¯”ä¸é‚£ä¹ˆ**é«˜**ï¼Œä½†ä»ç„¶æ˜¯**ï¼Œæ›´ä¸ç”¨è¯´å½“ä½ çš„é¡¹ç›®ä¸­çš„å…¶ä»–äººéƒ½ä¹ æƒ¯äºæ¨¡æ¿æ—¶ï¼Œä½ å°†ä½¿ç”¨è¿™ä¸ªæ¸²æŸ“å‡½æ•°**å’Œ JSX** çš„äº‹å®ï¼Œç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰ä¸¤ç§è¯­æ³•ï¼Œè¿™éƒ½æ˜¯ä½ çš„é”™ï¼Œä½ åº”è¯¥ä¸ºè‡ªå·±æ„Ÿåˆ°ç¾è€»ï¼Œä½ è¿™ä¸ªè‡ªä½œèªæ˜çš„å®¶ä¼™ã€‚
> â€”â€”ä¸ºäº†ç¾è§‚ï¼Œè¯·å¿«é€Ÿé˜…è¯»ğŸ˜

æˆ‘çŸ¥é“æ˜¯å› ä¸ºæˆ‘è¯•è¿‡è¿™ä¹ˆåš( *cuz* æˆ‘æ˜¯ä¸ªè‡ªä½œèªæ˜çš„äºº(è¿™ä¸ªä¿šè¯­è¿˜åœ¨ç”¨å—ï¼Ÿè¿™æ˜¯æˆ‘åœ¨å­¦æ ¡å­¦çš„ğŸ˜‚(ç°åœ¨æˆ‘æ„Ÿè§‰æˆ‘æ˜¯åœ¨ç”¨ lisp ç¼–ç¨‹))ä½†æ˜¯æˆ‘çš„æ¸²æŸ“å‡½æ•°è¯­æ³•æ²¡æœ‰é€šè¿‡ä»£ç å®¡æŸ¥ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›åŒæ„ Vue ç®€å•æ˜“ç”¨ï¼Œæˆ‘ä»¬åº”è¯¥åšæŒä½¿ç”¨æ¨¡æ¿è¯­æ³•ï¼Œå› ä¸ºå®ƒæ˜¯`s i m p l e r`ã€‚ç°åœ¨ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªè‡ªä½œèªæ˜çš„å›¢é˜Ÿï¼Œå¹¶ä¸”ä½ ä»¬éƒ½å–œæ¬¢åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨æ¨¡æ¿å’Œæ¸²æŸ“åŠŸèƒ½ï¼Œé‚£ä¹ˆå°±å»å§ï¼Œä¸è¦å¬æˆ‘çš„ï¼Œ~~è¿˜æœ‰ï¼ŒæŠŠä½ çš„ recuiter çš„ç”µå­é‚®ä»¶~~å‘ç»™æˆ‘ã€‚

* * *

é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘åœ¨ Vue.js çš„åŠŸèƒ½ç»„ä»¶ä¸Šé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæˆ‘æƒ³åœ¨è¿™é‡Œå‘æ³„ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¸®åŠ©æœ‰åŒæ ·é—®é¢˜çš„äºº:

*   ä½ ç©¶ç«Ÿå¦‚ä½•ä»æ¨¡æ¿ä¸­è°ƒç”¨ä¸€ä¸ª`method`ï¼Ÿè¿™å¯èƒ½å—ï¼Ÿ
*   æˆ‘çš„é“å…·åœ¨å“ªé‡Œï¼Ÿè¿˜æœ‰æˆ‘çš„`$listeners`å’Œ`$attrs`ï¼Ÿ
*   ä¸ºä»€ä¹ˆ vue åœ¨åŠŸèƒ½ç»„ä»¶ä¸­æ‰¾ä¸åˆ°æˆ‘çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œå°½ç®¡å®ƒå·²ç»ç”¨`components`é€‰é¡¹æ³¨å†Œäº†ï¼Ÿ
*   ä¸ºä»€ä¹ˆæˆ‘ä»å¤–éƒ¨æ”¾åœ¨ç»„ä»¶ä¸Šçš„è‡ªå®šä¹‰ç±»æ²¡æœ‰è¢«åº”ç”¨ï¼Ÿ

### [](#executing-functions-from-the-template)ä»æ¨¡æ¿ä¸­æ‰§è¡ŒåŠŸèƒ½

> â€œæˆ‘é€šè¿‡ props æ¥æ”¶äº†ä¸€äº›æ•°æ®ï¼Œä½†æ˜¯æˆ‘æƒ³ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°å¾ˆå¥½åœ°æ ¼å¼åŒ–å®ƒã€‚æˆ‘è¯¥æ€ä¹ˆåšï¼Ÿæˆ‘å¾—åˆ°ä¸€ä¸ª`undefined is not a function`é”™è¯¯ï¼Œæˆ‘è¦ç–¯äº†ï¼â€
> â€”æƒ³é€šä¹‹å‰çš„æˆ‘

è€ƒè™‘ç»„ä»¶çš„ä»¥ä¸‹`<script>`éƒ¨åˆ†:

```
<script>
export default {
  name: 'DisplayDate',
  props: {
    date: {
      type: String,
      required: true,
    },
  },
  methods: {
    format(date) {
      return new Date(date).toLocaleString()
    },
  },
}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å‡ºäºæŸç§åŸå› ï¼ŒåŠŸèƒ½ç»„ä»¶ä¸èƒ½è®¿é—® vue å®ä¾‹ï¼Œæˆ‘æƒ³è¿™æ˜¯å› ä¸ºä¸€å¼€å§‹å°±æ²¡æœ‰ Vue å®ä¾‹ï¼Œä½†æˆ‘å¯èƒ½æ˜¯é”™çš„ã€‚å› æ­¤ï¼Œè¦è®¿é—®è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸èƒ½åª:

```
<template functional>
  <span>{{ format(date) }}</span>
</template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å¿…é¡»èµ°å¦ä¸€æ¡è·¯ï¼Œåªæ˜¯`format`ä¸è¡Œï¼Œæˆ‘ä»¬å¿…é¡»åšä¸€ä¸ª`$options.methods.format(date)`ã€‚å¥½äº†ï¼Œè¿™ä¸ªç®¡ç”¨ã€‚å¾ˆä¸‘ï¼Œä½†æ˜¯å¾ˆç®¡ç”¨ã€‚è°æœ‰å»ºè®®è®©è¿™ä¸ªæ›´å¥½ï¼Ÿ

```
<template functional>
  <span>{{ $options.methods.format(date) }}</span>
</template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ— è®ºå¦‚ä½•ï¼Œå¦‚æœä½ æ‰§è¡Œè¿™ä¸ªï¼Œä½ ä¼šæ³¨æ„åˆ°æˆ‘è¯´å®ƒæœ‰æ•ˆæ˜¯åœ¨éª—ä½ ...

### [](#accessing-props-listeners-and-attrs)è®¿é—®é“å…·ã€ç›‘å¬å™¨ã€attrsï¼Ÿ

å®ƒä¸èµ·ä½œç”¨çš„åŸå› æ˜¯å› ä¸ºï¼ŒåŒæ ·ï¼Œæ²¡æœ‰ Vue å®ä¾‹ï¼Œæ‰€ä»¥å½“ Vue åŠ è½½å™¨å°†ä½ çš„æ¨¡æ¿è½¬æ¢æˆçº¯ JavaScript æ—¶ï¼Œå®ƒæ‰¾ä¸åˆ°ä½ åˆšåˆšè¾“å…¥çš„`date`ã€‚å®ƒéœ€è¦ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ä½ å¿…é¡»å£°æ˜ä¸€ä¸ªè·¯å¾„è®© Vue æ‰¾åˆ°å®ƒï¼Œå°±åƒæˆ‘ä»¬å¯¹æ–¹æ³•æ‰€åšçš„é‚£æ ·ã€‚

```
<template functional>
  <span>{{ $options.methods.format(props.date) }}</span>
</template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

> â€œè¿˜æœ‰`$attrs`å’Œ`$listeners`ï¼Œæˆ‘çœŸçš„æƒ³åšä¸€ä¸ªå®Œå…¨å¯æ‰©å±•çš„å¼€é—­ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘æœ‰ç‚¹éœ€è¦è¿™ä¸ªâ€œ
> â€”â€”æˆ‘ä¹Ÿæ˜¯

é‚£äº›ä¹Ÿå¯ä»¥ä¹°åˆ°ï¼Œåªæ˜¯åœ¨ä¸åŒçš„åœ°æ–¹ã€‚`$attrs`ç°åœ¨åœ¨`data.attrs`ï¼Œ`$listeners`åœ¨`listeners`(è¿™æ˜¯`data.on`çš„åˆ«åï¼Œä½†ä½œä¸ºå»ºè®®ï¼Œæˆ‘ä¼šåšæŒä½¿ç”¨æ–°çš„`listeners`)ã€‚

#### [](#-raw-attrs-endraw-)`$attrs`

å¯¹äºé‚£äº›ç”šè‡³ä¸çŸ¥é“è¿™æ˜¯ä¸€ä»¶äº‹çš„äººï¼Œè®©æˆ‘æ¾„æ¸…ä¸€ä¸‹ã€‚åœ¨éåŠŸèƒ½ç»„ä»¶ä¸­ï¼Œ`$attrs`ç”¨æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªä¼ é€’ç»™ä½ çš„ç»„ä»¶çš„å±æ€§æ˜¯å¦åœ¨ props ä¸­å£°æ˜ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æœ‰åƒä¸‹é¢è¿™æ ·è°ƒç”¨çš„`DisplayDate`ç»„ä»¶:

```
<div>
  <DisplayDate
    :date="'6 Dec 1999'"
    aria-label="6 of December of 1999 was a long time ago, but not so much"
  />
</div> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬æœ‰å£°æ˜ï¼Œå°±åƒæˆ‘ä»¬å·²ç»å®šä¹‰çš„é‚£æ ·(`<span>{{ $options.methods.format(props.date) }}</span>`),`aria-label`å±æ€§å°†è¢«å¿½ç•¥ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·å£°æ˜`DisplayDate`ï¼Œä¼ é€’ç»™`DisplayDate`çš„é¢å¤–å±æ€§å°†è¢«åº”ç”¨åˆ° spanï¼Œæ­£å¦‚æˆ‘ä»¬æŒ‡å‡ºçš„ã€‚

```
<template functional>
  <span v-bind="data.attrs">{{ $options.methods.format(props.date) }}</span>
</template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯æˆ‘ä»¬å½“ç„¶æ˜¯åœ¨åŠŸèƒ½åŒºã€‚æ²¡æœ‰ä»€ä¹ˆæ˜¯å®¹æ˜“çš„ï¼ŒAPI æ˜¯ä¸åŒçš„ğŸ¤·â€â™‚ï¸.å½“æˆ‘ä»¬è°ˆè®ºåŠŸèƒ½ç»„ä»¶æ—¶ï¼Œç°åœ¨`data.attrs`åªåŒ…å«ä¼ é€’ç»™ç»„ä»¶çš„å±æ€§ï¼Œä½†åªåŒ…å«é“å…·ä¸Šæœªå£°æ˜çš„å±æ€§ï¼Œåœ¨éåŠŸèƒ½ç»„ä»¶ä¸­`$attrs`çš„å€¼ä¸º`{ date: '...', ariaLabel: '...' }`ï¼Œåœ¨åŠŸèƒ½ç»„ä»¶ä¸­`data.attrs`çš„å€¼ä¸º`{ ariaLabel: '...' }`ï¼Œè€Œ`props`çš„å€¼ä¸º`{ date: '...' }`ã€‚

#### [](#-raw-listeners-endraw-)`$listeners`

åŒæ ·çš„äº‹æƒ…å‘ç”Ÿåœ¨`$listeners`ä¸Šï¼Œä½†æ˜¯å¯¹äºäº‹ä»¶æ¥è¯´ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä½ è¯•å›¾å°†`@click`äº‹ä»¶åº”ç”¨åˆ°ä¸€ä¸ªç»„ä»¶ï¼Œä½†æ˜¯ä½ æ²¡æœ‰æ˜¾å¼åœ°å£°æ˜å®ƒï¼Œå®ƒå°†ä¸èµ·ä½œç”¨ï¼Œé™¤éä½ ä½¿ç”¨`$listeners`æ¥ä»£ç†å¤„ç†ä¸åŒå…ƒç´ æˆ–ç»„ä»¶çš„ç›‘å¬å™¨ã€‚

```
<!-- this is explicitly declaration -->
<button @click="$emit('click')">Click me</button>

<!-- this is the 'proxing' declaration -->
<button v-on="$listeners">Click me</button>

<!-- this is the 'proxing' declaration for functional components -->
<button v-on="listeners">Click me</button> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åŒæ ·ï¼ŒåŠŸèƒ½æ€§å’ŒéåŠŸèƒ½æ€§ç»„ä»¶ API ä¹‹é—´ä¹Ÿæœ‰æ‰€ä¸åŒã€‚éåŠŸèƒ½ç»„ä»¶è‡ªåŠ¨å¤„ç†`.native`äº‹ä»¶ï¼Œè€ŒåŠŸèƒ½ç»„ä»¶ä¸ç¡®å®šæ˜¯å¦æœ‰æ ¹å…ƒç´ æ¥åº”ç”¨`.native`äº‹ä»¶ï¼Œæ‰€ä»¥ Vue å…¬å¼€äº†`data.nativeOn`å±æ€§æ¥å¤„ç†æ‚¨æƒ³è¦çš„`.native`äº‹ä»¶ã€‚

<figure>

### [](#outside-declared-css-classes-on-the-component)åœ¨ç»„ä»¶ä¸Šå£°æ˜ css ç±»ä¹‹å¤–

<figcaption>Passing a class to a custom component</figcaption>

</figure>

```
<MyTitle
  title="Let's go to the mall, today!"
  class="super-bold-text"
/> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ å¯èƒ½é¢ä¸´çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯å…³äºè¯¾ç¨‹ã€‚é€šå¸¸åœ¨ Vue ä¸­(ä»ä»Šå¤©å¼€å§‹)ï¼Œå½“ä½ å°†ä¸€ä¸ªç±»ä¼ é€’ç»™ä½ çš„å®šåˆ¶ç»„ä»¶æ—¶ï¼Œä¸éœ€è¦æ˜¾å¼åœ°é…ç½®ä»»ä½•ä¸œè¥¿ï¼Œå®ƒå°†è¢«åº”ç”¨åˆ°ä½ çš„ç»„ä»¶çš„æ ¹å…ƒç´ ï¼Œä¸åŒäº reactï¼Œå®ƒæ˜ç¡®äº†ç±»çš„å»å‘ã€‚

ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹â€”â€”å‡è®¾ css ç±»åšäº†å®ƒæ‰€è¯´çš„äº‹æƒ…ï¼Œå¹¶ä¸”æ ‡é¢˜æ²¡æœ‰åœ¨ css ä¸­å®šä¹‰`text-weight`,å®ƒæ˜¯ä¸€ä¸ªéåŠŸèƒ½æ€§ç»„ä»¶â€”â€”æ ‡é¢˜å°†æ˜¾ç¤ºä¸º**ç²—ä½“**æ–‡æœ¬ã€‚

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·ç¼–è¾‘`MyTitle`ç»„ä»¶ï¼Œå°†å®ƒè½¬æ¢æˆä¸€ä¸ªåŠŸèƒ½ç»„ä»¶ï¼Œå‘ˆç°çš„æ–‡æœ¬å°†ä¸å†åŠ ç²—ï¼Œè¿™å¯èƒ½ä¼šè®©äººæ„Ÿåˆ°éå¸¸æ²®ä¸§ï¼Œæˆ‘çŸ¥é“è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæˆ‘å°±æ˜¯è¿™æ ·æ„Ÿè§‰çš„ğŸ˜…ã€‚

<figure>

```
-<template> +<template functional>
   <span>
-    {{ title }} +    {{ props.title }}
   </span>
 </template>

 <script>
 export default
   props: ['title'] // disclaimer: I don't recommend the array syntax for this
 }
 </script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>No, it's not nice to have a title with an span tag, this is a mere example, just focus on the vue stuff, titles should more semantic tags like `h1`, `h2` or `strong`.</figcaption>

</figure>

è¿™æ˜¯å› ä¸º...é‚£åªæ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†åŠŸèƒ½ç»„ä»¶ï¼Œå®ƒä»¬å°±æ˜¯è¿™æ ·...ğŸ¤·â€â™‚ï¸.ç°åœ¨ï¼Œä¸¥è‚ƒåœ°è¯´ï¼Œè¦å®Œæˆè¿™é¡¹å·¥ä½œï¼Œä½ å¿…é¡»å¢åŠ ä¸€ç‚¹ä»£ç ï¼Œè¿™æ²¡ä»€ä¹ˆï¼ŒçœŸçš„:

<figure>

```
@@ -0,5 +0,5 @@
 <template functional>
-  <span> +  <span :class="data.staticClass">
     {{ props.title }}
   </span>
 </template> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

<figcaption>I'd advocate this syntax is better and it should be used in non-functional components too, but thats just a comment.</figcaption>

</figure>

`data.staticClass`è¡¨ç¤ºä¼ é€’ç»™ä½ çš„ç»„ä»¶çš„æ‰€æœ‰ç±»(æˆ‘å‡è®¾åªæœ‰éåŠ¨æ€ç±»ï¼Œç¨åä¼šæ£€æŸ¥ï¼Œå¸Œæœ›æˆ‘ä¼šè®°å¾—ç¼–è¾‘å¸–å­)ã€‚æ‰€ä»¥ä½ èƒ½åšçš„å°±æ˜¯ä½¿ç”¨è¿™ä¸ªå˜é‡ä¸ä½ å¯èƒ½å£°æ˜çš„å…¶ä»–ç±»åˆå¹¶:

```
<span
  :class="[data.staticClass, {
    'another-class': prop.someProp,
  }"
>
  {{ props.title }}
</span> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#custom-component-inside-the-functional-component)è‡ªå®šä¹‰ç»„ä»¶å†…çš„åŠŸèƒ½ç»„ä»¶

æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªæˆ‘ä¸çŸ¥é“å¦‚ä½•ä¼˜é›…è§£å†³çš„é—®é¢˜ã€‚è‡ªå®šä¹‰ç»„ä»¶ä¸èƒ½åœ¨åŠŸèƒ½ç»„ä»¶ä¸­å£°æ˜ï¼Œè‡³å°‘ä¸èƒ½ä»¥æ‚¨æœŸæœ›çš„æ–¹å¼å£°æ˜ã€‚vue å¯¼å‡ºä¸Šçš„`components`å±æ€§:

```
<template functional>
  <MyCustomComponents1>
    I'd better be sailing
  </MyCustomComponents1>
</template>

<script>
export default {
  components: { // <- this here
    MyCustomComponents1,
  }
}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°±æ˜¯ä¸ç®¡ç”¨ã€‚å®ƒå°†æ˜¾ç¤ºç©ºç™½æ–‡æœ¬â€œæˆ‘æœ€å¥½æ˜¯åœ¨èˆªè¡Œâ€ï¼Œå› ä¸ºå®ƒä¸èƒ½å‘ˆç°æœªçŸ¥çš„ç»„ä»¶ã€‚

å°½ç®¡åœ¨ä¸‹é¢å£°æ˜äº†å®ƒï¼Œä½† Vue å¹¶ä¸å…³æ³¨é‚£ä¸ªå±æ€§ï¼Œæ›´ç³Ÿç³•çš„æ˜¯ï¼Œå®ƒç”šè‡³æ²¡æœ‰è¯´ä»»ä½•ä¸œè¥¿ï¼Œæ¯”å¦‚è­¦å‘Šæˆ–é”™è¯¯:â€œè­¦å‘Šï¼Œç»„ä»¶ä¸èƒ½åœ¨åŠŸèƒ½ç»„ä»¶ä¸Šæ³¨å†Œâ€ä¹‹ç±»çš„ã€‚`components`å±æ€§æ²¡æœ‰ç”¨ã€‚

ç°åœ¨ï¼Œæœ‰äººå·²ç»æå‡ºäº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶æå‡ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘çœŸçš„ä¸å–œæ¬¢å®ƒçš„æ ·å­ğŸ˜…ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œçœ‹ä¸€çœ‹:

```
<template>
  <component :is="injections.components.MyCustomComponents1">
    I'd better be sailing
  </component>
</template>

<script>
import MyCustomComponents1 from '...'

export default {
  inject: {
    components: {
      default: {
        MyCustomComponents1,
      }
    }
  }
}
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿˜å¯ä»¥é€‰æ‹©åœ¨å…¨å±€èŒƒå›´å†…æ³¨å†Œæ‚¨éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œæˆ–è€…åœ¨æ‰¿è½½æ‚¨çš„åŠŸèƒ½ç»„ä»¶çš„çˆ¶ç»„ä»¶ä¸Šæ³¨å†Œæ‚¨éœ€è¦çš„ç»„ä»¶ã€‚

<figure>

åè€…ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒä½¿ä¸¤ä¸ªç»„ä»¶â€”â€”çˆ¶ç»„ä»¶å’ŒåŠŸèƒ½ç»„ä»¶â€”â€”éå¸¸ç´§å¯†åœ°è€¦åˆåœ¨ä¸€èµ·ï¼Œè¿™é€šå¸¸ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚

<figcaption>Registering components in the global scope:</figcaption>

</figure>

```
import Vue from 'vue'
import MyCustomComponents1 from '...'
// And so on...

Vue.component('MyCustomComponents1', MyCustomComponents1)
Vue.component('AndSoOn', AndSoOn)
//...

new Vue({
  el: '#app',
  // ...
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸ªé—®é¢˜è®©æˆ‘æƒ³åˆ°å‡½æ•°ç»„ä»¶å¹¶æ²¡æœ‰è¢«è®¤ä¸ºæ˜¯ä¸æ¨¡æ¿è¯­æ³•ä¸€èµ·ä½¿ç”¨çš„ï¼Œå› ä¸ºåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨å®šåˆ¶ç»„ä»¶çš„å”¯ä¸€åˆç†çš„æ–¹æ³•æ˜¯ä½¿ç”¨ render å‡½æ•°ï¼Œçœ‹ï¼Œå®ƒå¾ˆä¼˜é›…:

```
import MyCustomComponents1 from '...'
//...
render(h) {
  return h(MyCustomComponents1, {}, ['I\'d better be sailing'])
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#what-is-wrong-with-all-this)è¿™ä¸€åˆ‡æ€ä¹ˆäº†ï¼Ÿ

å½“ä½ åœ¨åšå‡½æ•°æ¨¡æ¿æ—¶ï¼Œä½ å¿…é¡»æƒ³è±¡ï¼Œå°±åƒä½ æ­£åœ¨å†™ä¸€ä¸ªè¿”å› JSX è¯­æ³•çš„å‡½æ•°ï¼ŒVue åŠ è½½å™¨æˆ–å¤šæˆ–å°‘åƒè¿™æ ·è°ƒç”¨ä½ çš„æ¨¡æ¿:

```
render(h, { data, listeners, $options, /* the rest of the exposed variables...*/ }) {
  return (
    <template functional>
      <component
        :is="injections.components.MyCustomComponents1"
        v-bind="data.attrs"
        v-on="listeners"
        :class="data.staticClass"
      >
        {{ $options.methods.format(props.date) }}
      </component>
    </template>
  )
}, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æ‰€ä»¥æˆ‘ä»¬åªèƒ½è®¿é—®è¿™äº›å‚æ•°ï¼Œé™¤æ­¤ä¹‹å¤–åˆ«æ— å…¶ä»–ã€‚è¿™æ ·åšçš„é—®é¢˜æ˜¯ï¼Œå½“ä½ ä½¿ç”¨æ¸²æŸ“å‡½æ•°è¯­æ³•æˆ– JSX çš„åŠŸèƒ½ç»„ä»¶æ—¶ï¼Œä½ å¯ä»¥è®¿é—®å‡½æ•°ä½“æ¥è¿›è¡Œææ„ã€ä¸Šä¸‹æ–‡åŒ–ã€åˆ†ç¦»ã€å¤„ç†æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```
import MyCustomComponents1 from '...'
import { format } from '...'

render(h, { data, listeners }) {
  const { date } = data.props

  // this is not proper JSX, but I hope you get the point
  return (
    <template functional>
      <MyCustomComponents1
        v-bind="data.attrs"
        v-on="listeners"
        :class="data.staticClass"
      >
        {{ format(date) }}
      </MyCustomComponents1>
    </template>
  )
}, 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™æ˜¯ä¸€ä¸ªå¾ˆå°çš„ä¾‹å­ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›æˆ‘èƒ½æŠŠè¿™ä¸ªæƒ³æ³•è¡¨è¾¾æ¸…æ¥šã€‚ç»„ä»¶æ ‡è®°è¯­æ³•åˆå˜å¾—ç®€å•æ˜“è¯»ï¼Œä½†æ˜¯å½“ä½ åœ¨ vue functional component ä¸­ä½¿ç”¨æ¨¡æ¿è¯­æ³•æ—¶ï¼Œä½ ä¸èƒ½è®¿é—®è¿™éƒ¨åˆ†åŠŸèƒ½ã€‚

## [](#future)æœªæ¥ï¼Ÿ

æˆ‘çœŸçš„åªæ˜¯å¸Œæœ›[é‚£ä¸ªæœ‰äº‰è®®çš„å¾æ±‚æ„è§ç¨¿](https://github.com/vuejs/rfcs/pull/42)(ç¼–è¾‘:è¿™ä¸ªå·²ç»æ›´æ–°äº†ï¼Œç°åœ¨æˆ‘ä»¬æ­£åœ¨è®¨è®º[è¿™ä¸ª](https://github.com/vuejs/rfcs/pull/78))èƒ½å¤Ÿå…¬å¼€ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¿™ä¸ªæ›´å¥½çš„è¯­æ³•ï¼Œå®ƒå…·æœ‰æˆ‘ä»¬éƒ½æƒ³è¦çš„æ€§èƒ½å’Œå¯è¯»æ€§çš„æ‰€æœ‰å¥½å¤„ã€‚

æ— è®ºå¦‚ä½•ï¼Œæˆ‘å¸Œæœ›æˆ‘èƒ½å¸®åŠ©ä½ è§£å†³ä½ å¯èƒ½é¢ä¸´çš„ä»»ä½•é—®é¢˜ï¼Œæˆ‘å¾ˆéš¾åœ¨é‚£é‡Œæ‰¾åˆ°ä¸€äº›ä¿¡æ¯ï¼Œæˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ å°‘ä¸€ç‚¹å›°éš¾ã€‚è°¢è°¢ä½ è¯»åˆ°è¿™é‡Œï¼Œæˆ‘å¸Œæœ›ä½ æœ‰ä¸€ä¸ªç¾å¥½çš„ä¸€å¤©ï¼Œä¸‹æ¬¡è§ã€‚