# ç”¨ä¸€ä¸ªé£Ÿè°±ç½‘ç«™æ¥å¢åŠ å®ƒçš„å‘³é“

> åŸæ–‡ï¼š<https://dev.to/takeshape/spicing-it-up-with-a-recipes-site-20m3>

åˆ¶ä½œè‡ªå·±çš„ç½‘ç«™å¯¹æ–°æ‰‹å’Œä¸“ä¸šç½‘ç«™å¼€å‘è€…æ¥è¯´éƒ½æ˜¯ä¸€é¡¹ä»¤äººç”Ÿç•çš„ä»»åŠ¡ã€‚ä½¿ç”¨ TakeShape çš„ç¤ºä¾‹é¡¹ç›®æ¥å¼€å§‹ä½¿è¿™ä¸ªè¿‡ç¨‹å˜å¾—å¿«é€Ÿè€Œç®€å•ã€‚æˆ‘çš„é¡¹ç›®æƒ³æ³•å¾ˆç®€å•:æˆ‘æƒ³è¦ä¸€ä¸ªç½‘ç«™ï¼Œåœ¨é‚£é‡Œæˆ‘å¯ä»¥å±•ç¤ºæ‰€æœ‰æˆ‘å–œæ¬¢çš„é£Ÿè°±ã€‚

(å£°æ˜ä¸€ä¸‹ï¼Œæˆ‘å…¶å®æ²¡ä»€ä¹ˆå¨è‰ºï¼›ä»¥ä¸‹é£Ÿè°±æ¥è‡ªç½‘ç»œï¼è®©æˆ‘ä»¬å¼€å§‹åšé¥­å§ï¼

## take shape é¡¹ç›®

åœ¨
[ã€app.takeshape.io/signupã€‘](http://app.takeshape.io/signup)æ³¨å†Œè´¦æˆ·ã€‚é€šè¿‡ TakeShape çš„ G-Suite é›†æˆï¼Œè¿™ä¸€è¿‡ç¨‹åªéœ€ç‚¹å‡»ä¸¤æ¬¡é¼ æ ‡å³å¯å®Œæˆã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ç©ºç™½é¡¹ç›®æ¨¡æ¿ã€‚

[![Alt Text](img/5fd99dfad5bfdcf1cd9a3e93b7440230.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--jfAqdkMm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/dzv9yafazgaoh8aacx2i.png)

### èµ„äº§ğŸ“¸

æˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡»å¯¼èˆªæ é¡¶éƒ¨çš„â€œèµ„æºåº“â€æ¥æµè§ˆå›¾ç‰‡ã€è§†é¢‘å’Œå…¶ä»–èµ„æº(ç›®å‰ä¸ºç©ºç™½)ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•åœ°ä»æ¡Œé¢æ‹–åŠ¨æˆ–ç‚¹å‡»å³ä¸Šè§’çš„â€œä¸Šä¼ â€æ¥ä¸Šä¼ æ›´å¤šèµ„äº§ã€‚
[![Assets](img/13a80427032e877f0d4846bd3329f7ee.png)T3ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--3jWXWidI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/h5w5wugyq6iha5jsh9w0.png)

### æœ¬åœ°åŒ–ğŸŒâœˆï¸

é€šè¿‡ TakeShape çš„æœ¬åœ°åŒ–ï¼Œæ”¯æŒä¸åŒçš„è¯­è¨€å¾ˆå®¹æ˜“ã€‚å¯¼èˆªåˆ°é¡¹ç›®è®¾ç½®å¹¶æ»šåŠ¨åˆ°æœ¬åœ°åŒ–éƒ¨åˆ†ã€‚æˆ‘æ·»åŠ äº†è¥¿ç­ç‰™è¯­â€” ğŸ‡²ğŸ‡½Mexicoï¼Œçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:
[![Localizations](img/8f0f54d7ee8aedf80e3822ac8adea2d5.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--2-HNJwK6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/rqcjas943rogyb2jc6fi.png)

### è®¾è®¡æˆ‘ä»¬çš„å†…å®¹ç±»å‹ğŸ“„ğŸ‘¨â€ğŸ”¬

åœ¨é¡¹ç›®å±å¹•çš„å·¦ä¸‹æ–¹ï¼Œå•å‡»â€œæ·»åŠ å†…å®¹ç±»å‹â€
é€šå¸¸æœ€å¥½æƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬çš„å†…å®¹ç±»å‹ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé£Ÿè°±æœ‰ä¸€ä¸ªåå­—ï¼Œä¸€ä¸ªæè¿°ï¼Œé…æ–™å’Œæ­¥éª¤ã€‚
ä¸€ç§é…æ–™åªæœ‰ä¸€ä¸ªåå­—ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸ªå›¾åƒã€‚

> å½“åˆ›å»ºå†…å®¹ç±»å‹æ—¶ï¼Œä»æœ€ç®€å•çš„å†…å®¹å¼€å§‹ï¼Œé€æ­¥å¢åŠ åˆ°æœ€å¤æ‚çš„å†…å®¹ã€‚

**é…æ–™**
[![Ingredient Model](img/972253810342fc10635383b82868f9a3.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--80NaCtFa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ucwx97yvit7hs1qikibd.png)

æˆ‘å·²ç»å°†æˆ‘çš„é…æ–™è®¾ç½®ä¸ºä¸€ä¸ªç®€å•çš„åˆ†ç±»ã€‚æˆ‘ä»¬éœ€è¦çš„å…³äºæ¯ç§æˆåˆ†çš„å”¯ä¸€ä¿¡æ¯æ˜¯å®ƒçš„åç§°ã€‚æ¯ç§æˆåˆ†çš„ç”¨é‡ä»¥åŠå¦‚ä½•å¤„ç†éƒ½æ˜¯å…·ä½“åˆ°æ¯ç§é£Ÿè°±çš„ï¼æˆ‘è¿˜å‹¾é€‰äº†é£Ÿè°±åç§°çš„â€œå¯ç”¨æœ¬åœ°åŒ–â€ã€‚è¿™å°†å…è®¸æˆ‘ä»¬ä¸ºä¸åŒçš„æœ¬åœ°åŒ–æŒ‡å®šæ›¿ä»£æ–‡æœ¬ã€‚
åœ¨åˆ›å»ºäº†ä¸€å †é…æ–™ä¹‹åï¼Œæˆ‘çš„åˆ—è¡¨ç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:
[![Ingredients List](img/a185e1c054a01a7578d4b35cec119b4e.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--6g7rA9N7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/sbj5sqqyj3g1azyr48du.png)

é£Ÿè°±
æ‹¥æœ‰é£Ÿè°±å†…å®¹ç±»å‹æ˜¯æˆ‘ä»¬é£Ÿè°±ç½‘ç«™çš„æ ¸å¿ƒã€‚
[![Recipe Content 1](img/6a68afad51cce4a85e3c2c10c5010f69.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--C1OctIhy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/m76f92pbxszqlml08ab9.png)
[![Recipe Content 2](img/ce2af381217be3eaee47b0ff8e017390.png)T10ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vhby52OZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/6vvlpcg7qyqzkmk7eu1h.png)

å†…å®¹å…³ç³»å½¢å¼éå¸¸å¼ºå¤§ã€‚ä½ é©¬ä¸Šå°±ä¼šçœ‹åˆ°æˆ‘ä»¬æ˜¯å¦‚ä½•ä½¿ç”¨æˆåˆ†å…³ç³»çš„ã€‚

## æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒğŸ’»âœ¨

åªéœ€å‡ ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬å°±ä¼šæœ‰ä¸€ä¸ªå‡†å¤‡å¥½çš„é¡¹ç›®ï¼

**å…‹éš†å¹¶å¤åˆ¶ TakeShape ç©ºç™½æ ·æœ¬é¡¹ç›®**
`git clone https://github.com/takeshape/takeshape-samples.git takeshape-samples`
`mkdir my-recipes-project && cd my-recipes-project`
`cp -r ../takeshape-samples/blank-project/ .`

**å®‰è£…ä¾èµ–é¡¹**
`npm install`

**é“¾æ¥ TakeShape é¡¹ç›®**
`npx tsg init`
æŒ‰ç…§æç¤ºä½¿ç”¨æ‚¨çš„ TakeShape ç”¨æˆ·åå’Œå¯†ç ç™»å½•ã€‚

**ç”Ÿæˆå¹¶æŸ¥çœ‹æ‚¨çš„ç«™ç‚¹**
`npm run start`
åœ¨æµè§ˆå™¨ä¸­å¯¼èˆªåˆ° [localhost:5000](http://localhost:5000/) åº”è¯¥ä¼šæ˜¾ç¤ºæ‚¨çš„ç«™ç‚¹ï¼

ç°åœ¨ä½ ä¼šçœ‹åˆ°æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥è‡ª TakeShape çš„åŸºæœ¬çš„ç©ºç™½é¡¹ç›®ã€‚æˆ‘å·²ç»å–å‡ºäº†å¤§éƒ¨åˆ†çš„æ ·æœ¬ä»£ç ï¼Œåªç•™ä¸‹äº†æ ·æ¿æ–‡ä»¶ã€‚
æˆ‘æ¨èä½¿ç”¨ [VSCode](https://code.visualstudio.com/) ä½œä¸ºä½ çš„ç¼–è¾‘å™¨ã€‚æˆ‘ç‰¹åˆ«å–œæ¬¢åœ¨å…¶ä¸­ä»äº‹ GraphQL é¡¹ç›®ï¼Œå› ä¸ºå®ƒæ”¯æŒæ‰©å±•ã€‚è¦åˆ©ç”¨ GraphQL è¯­æ³•çªå‡ºæ˜¾ç¤ºï¼Œè¯·å®‰è£…â€œGraphQL è¯­è¨€æ”¯æŒâ€æ‰©å±•ï¼Œæ–¹æ³•æ˜¯è½¬åˆ° VSCode ä¸­çš„ä»£ç â†’é¦–é€‰é¡¹â†’æ‰©å±•ï¼Œç„¶åæœç´¢â€œgraphqlâ€ã€‚TakeShape é¡¹ç›®æ”¯æŒä½¿ç”¨ [graphqlconfig](https://github.com/prisma/graphql-config) çš„ä»»ä½•ç¼–è¾‘å™¨æˆ–æ’ä»¶çªå‡ºæ˜¾ç¤º GraphQL è¯­æ³•ã€‚

### tsg.yml é…ç½®

å¦‚æœä½ ä»¥å‰ä»æœªä½¿ç”¨è¿‡ tsg.ymlï¼Œçœ‹çœ‹ä¸€äº›ç¤ºä¾‹å’Œ[æ–‡æ¡£](https://www.takeshape.io/docs/tsg-yml/)ã€‚
è¿™é‡Œæ˜¯æˆ‘çš„ tsg.yml çš„é£Ÿè°±è·¯çº¿çš„é¢„è§ˆã€‚æŸ¥çœ‹å®Œæ•´æ–‡ä»¶[æ­¤å¤„](https://github.com/panzer/takeshape-recipes/blob/master/tsg.yml)T5ã€‘

```
recipe:
    path: /recipe/:name/
    template: pages/recipes/individual.html
    paginate:
      pageSize: 4
      path: /recipe/page-:num/
      firstPage: /recipe/
      template: pages/recipes/landing.html
      data: data/recipes.graphql
      itemName: recipe 
```

### åœ°åŒºæ”¯æŒ

åªéœ€å‡ è¡Œä»£ç ï¼Œæˆ‘ä»¬å°±æœ‰äº†åœ°åŒºæ”¯æŒ:

```
locales: 
    en:
        pathPrefix: ''
        dates:
            tz: America/New_York
            format: LLL

    es-mx:
        pathPrefix: 'es'
        dates:
            tz: America/Mexico_City
            format: LLL 
```

### GraphQL æ•°æ®æ–‡ä»¶ğŸ”—

å»ºç«‹æˆ‘ä»¬çš„ã€‚åœ¨æˆ‘ä»¬çš„ä»£ç ç¼–è¾‘å™¨ä¸­ï¼Œæˆ–è€…é€šè¿‡ä½¿ç”¨ TakeShape é¡¹ç›®ä¸­çš„ API Explorerï¼Œgraphql æ–‡ä»¶éå¸¸å®¹æ˜“è‡ªåŠ¨å®Œæˆã€‚ç¡®ä¿åŒ…å«æˆ‘ä»¬å°†è·¯ç”±åˆ°çš„ç±»å‹çš„ _idã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬çš„æ¨¡æ¿/æ•°æ®/èœè°±. graphql çš„æ ·å­:

```
query {
  getRecipeList {
    items {
      name
      descriptionHtml
      image {
        path
      }
      ingredients {
        amount
        ingredient {
          _id
          name
        }
      }
      steps {
        instruction
      }
      inspirationUrl
      chefs {
        _id
        name
      }
    }
  }
} 
```

## æç¤ºå’Œçªé—¨

å¦‚æœæ‚¨å†³å®šåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ›´æ”¹æ‚¨çš„å†…å®¹æ¨¡å‹(æ·»åŠ ã€ç¼–è¾‘æˆ–åˆ é™¤å­—æ®µ)ï¼Œæ‚¨å°†éœ€è¦åˆ·æ–°æ‚¨çš„å¼€å‘ç¯å¢ƒæ¥äº†è§£å®ƒä»¬ã€‚è¿™ä¸ä»…æœ‰åŠ©äºè‡ªåŠ¨å®Œæˆ GraphQLï¼Œé™æ€ç«™ç‚¹ç”Ÿæˆå™¨è¿˜éœ€è¦çŸ¥é“æ‚¨çš„å†…å®¹ç±»å‹ï¼
åªéœ€è¿è¡Œ npx tsg æ¨¡å¼ï¼Œä»æ‚¨çš„é¡¹ç›®ä¸­è·å–æœ€æ–°çš„[æ¨¡å¼](https://graphql.org/learn/schema/)ã€‚æ‚¨å¯èƒ½éœ€è¦é‡æ–°æ‰“å¼€ VSCode ä»¥ä½¿è‡ªåŠ¨å®ŒæˆåŠŸèƒ½å†æ¬¡æ­£å¸¸å·¥ä½œã€‚

## æ¼”ç¤ºæ—¶é—´ï¼

[![Home](img/dab40484d5d136a59ae0838cac1cad4e.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--aPEyvDxF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/67ughqkj7ay2qf0bna3g.png)
[![Recipe](img/430c73a07505804f513c98da6697d3cb.png)T6ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--qpqXuc6m--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/2nv5nraleo0kud6089j1.png)

å’Œç®€å•çš„åŒºåŸŸè®¾ç½®æ”¯æŒï¼
[![Recipe es](img/d8dd936bdaded398c261e999f265e660.png)T3ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--X_dnTXkS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/pi2xy8i2g0splv7xe6c0.png)

åœ¨è¿™ä¹ˆçŸ­çš„æ—¶é—´å†…ï¼Œæˆ‘ä¸ºæˆ‘çš„é£Ÿè°±å»ºäº†ä¸€ä¸ªæ¼‚äº®çš„ç½‘ç«™ï¼Œå¹¶å¼€å§‹è¿è¡Œã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œå¯èƒ½æ€§æ˜¯æ— ç©·çš„ã€‚æˆ‘ä»¬å¾ˆæƒ³çœ‹çœ‹ä½ ä»¬ç”¨è¿™ä¸ªæ¨¡æ¿åˆ›å»ºçš„ç½‘ç«™ï¼

## çœ‹çœ‹å§ï¼Œåœ¨ GitHub ä¸ŠæŠ•ç¨¿

è‡ªå·±çœ‹çœ‹ä»£ç ï¼Œæ”¹å˜ä¸€äº›ä¸œè¥¿ï¼Œè®©å®ƒå˜å¾—æ›´å¥½ï¼å¦‚æœä½ æ„¿æ„ï¼Œæäº¤ä¸€ä¸ªæ‹‰å–è¯·æ±‚ï¼github.com/panzer/takeshape-recipes
T2