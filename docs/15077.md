# ä¿„ç½—æ–¯æ–¹å—:ä½¿ç”¨ JavaScript æ„å»ºæ¸¸æˆ

> åŸæ–‡:[https://dev . to/sleeplessbyte/Tetris-building-a-game-using-JavaScript-3j6f](https://dev.to/sleeplessbyte/tetris-building-a-game-using-javascript-3j6f)

æˆ‘ä¸€ç›´æ˜¯å¤å¤ã€è¡—æœºå’Œå¤å¤è¡—æœºæ¸¸æˆçš„ç²‰ä¸ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä»¬çš„å±€é™æ€§ç»å¸¸å¯¼è‡´éå¸¸æœ‰åˆ›æ„çš„æ¸¸æˆæœºåˆ¶ï¼Œè¿™äº›æœºåˆ¶å¾ˆå®¹æ˜“å­¦ä¹ ï¼Œä½†å¾ˆéš¾æŒæ¡ã€‚æ¥è‡ª[æ¸¸æˆåˆ¶ä½œå·¥å…·åŒ…](https://www.youtube.com/watch?v=7daTGyVZ60I)çš„é©¬å…‹Â·å¸ƒæœ—ç»™[åšäº†ä¸€ä¸ªå…³äºâ€œä¸‡èƒ½åŠ¨è¯â€çš„ä¼˜ç§€è§†é¢‘](https://www.youtube.com/watch?v=7daTGyVZ60I)ï¼Œåœ¨ä¸€äº›ä¼˜ç§€çš„æ¸¸æˆä¸­ï¼Œæ¨èå¤§å®¶è§‚çœ‹ã€‚è€æ¬¾æ¸¸æˆåŠŸèƒ½è¾ƒå°‘ï¼Œä½†ç”±äºå®ƒä»¬å¤§å¤šæ˜¯ä¸º*è¡—æœº*ç¼–å†™çš„ï¼Œé€šå¸¸è¾“å…¥éå¸¸æœ‰é™ï¼Œè¿™äº›æ¸¸æˆä»¥å„ç§æ–¹å¼åˆ©ç”¨å®ƒä»¬ä»…æœ‰çš„å‡ ä¸ªæŒ‰é’®ã€‚

> ğŸ®åœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºæ„å»ºä¿„ç½—æ–¯æ–¹å—å…‹éš†çš„æ‰€æœ‰æ­¥éª¤ï¼Œéµå®ˆ[ä¿„ç½—æ–¯æ–¹å—æŒ‡å—](https://tetris.fandom.com/wiki/Tetris_Guideline)ï¼Œè¿™æ˜¯[ä¿„ç½—æ–¯æ–¹å—å…¬å¸](https://tetris.fandom.com/wiki/The_Tetris_Company)ä¸ºåˆ¶ä½œæ‰€æœ‰æ–°çš„(2001 å¹´åŠä»¥å)*ä¿„ç½—æ–¯æ–¹å—*æ¸¸æˆäº§å“åœ¨å½¢å¼ä¸Šç›¸ä¼¼è€Œå¼ºåˆ¶æ‰§è¡Œçš„å½“å‰è§„èŒƒã€‚
> 
> ğŸ›‘ *ä¿„ç½—æ–¯æ–¹å—*æ˜¯æœ‰è®¸å¯çš„ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ æ‰“ç®—ç”¨è¿™ä¸€ç³»åˆ—çš„æ–‡ç« æ¥å»ºé€ ä½ è‡ªå·±çš„è¡—æœºæ‹¼å›¾ï¼Œç¡®ä¿éµå®ˆæ³•å¾‹ï¼Œå¦‚æœä½ æ‰“ç®—å•†ä¸šå‘è¡Œå®ƒã€‚å³ä½¿ä½ å…è´¹æä¾›äº†ä¸€ä¸ªå…‹éš†ï¼Œä½ ä»ç„¶å¯ä»¥å¾—åˆ°ä¸€ä¸ªåœæ­¢å’Œç»ˆæ­¢ã€‚[è¿™ä¸ª reddit å¸–å­](https://www.reddit.com/r/gamedev/comments/5kkk82/law_concerns_when_creating_a_game_inspired_by/)éå¸¸å…¨é¢åœ°ä»‹ç»äº†å¦‚ä½•å»åšè¿™ä»¶äº‹ã€‚æ­¤å¤–ï¼Œ[è¿™ç¯‡ Ars Technica æ–‡ç« ](https://arstechnica.com/gaming/2012/06/defining-tetris-how-courts-judge-gaming-clones/)ä»¥*ä¿„ç½—æ–¯æ–¹å—*å’Œæ‰€è°“çš„å…‹éš†*å®‹æ—»æµ©*ä¸ºä¾‹ï¼Œæ·±å…¥æ¢è®¨äº†æ³•åº­å¦‚ä½•è¯„åˆ¤æ¸¸æˆå…‹éš†ä½“ã€‚
> 
> ğŸ“šè¿™ä¸ªç³»åˆ—çº¯ç²¹æ˜¯ä¸€ä¸ªæ•™è‚²ï¼Œéå•†ä¸šèµ„æºã€‚æˆ‘ä»¬å°†ä»…ä½¿ç”¨ *fandom wiki* ä½œä¸ºèµ„æºï¼Œå¹¶ä¸”ä»…ä½¿ç”¨ä¿„ç½—æ–¯æ–¹å—è¿™ä¸ªåç§°æ¥è¡¨ç¤ºæ¸¸æˆçš„*ç±»å‹ï¼Œè€Œä¸æ˜¯å®é™…çš„å…¬å¸ã€æ¸¸æˆæˆ–å“ç‰Œã€‚*

åœ¨è¿™ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ç€çœ¼äºæ¸¸æˆçš„**åŸŸ**ï¼Œæ„æ€æ˜¯æ¸¸æˆä¸­å­˜åœ¨å“ªäº›**åè¯**(å®¾è¯­/ä¸»è¯­)å’Œ**åŠ¨è¯**(åŠ¨ä½œ/åŠŸèƒ½)ã€‚

[![Photo titled 'Arcade Dreams', Fowler's Live, Adelaide, Australia](../Images/33165846947a25a39ba5b63bc9f895d9.png "Photo by Ben Neale (https://unsplash.com/@ben_neale) on Unsplash (https://unsplash.com/)")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--fxBFaazw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/oy2sxfwrpxgokzil3vpz.jpg)

## [](#definitions-and-concepts)å®šä¹‰å’Œæ¦‚å¿µ

é¦–å…ˆï¼Œåœ¨ç¼–å†™ä»»ä½•ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æ‰€æœ‰çš„æ¸¸æˆå®šä¹‰å’Œæ¦‚å¿µã€‚æˆ‘é€šå¸¸åœ¨ç¼–å†™ä»»ä½•ä»£ç ä¹‹å‰è¿›è¡Œé¢†åŸŸå»ºæ¨¡çš„è¿™ä¸€æ­¥ï¼Œå› ä¸ºå®ƒå¯èƒ½æœ‰åŠ©äºåšå‡ºæ­£ç¡®çš„æŠ½è±¡ã€‚

### [](#movement-and-buttons)æœºèŠ¯å’ŒæŒ‰é’®

åœ¨ 1984 å¹´å‘å¸ƒçš„ç»å…¸ä¿„ç½—æ–¯æ–¹å—ä¸­ï¼Œè¾“å…¥çš„æ•°é‡ä¸ä¸º iPod å¼€å‘çš„ç‰ˆæœ¬(ä¿„ç½—æ–¯æ–¹å— 2006)åŸºæœ¬ç›¸åŒ:

*   å‘å·¦ç§»åŠ¨ä¸‹è½çš„*æ²³è±šçš„æŒ‰é’®*
*   å‘å³ç§»åŠ¨ä¸‹è½çš„*å››åˆ†éŸ³ç¬¦*çš„æŒ‰é’®
*   ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºæ”¾ä¸‹å¹¶é”å®šä¸‹è½çš„*å››è¿å·*
*   æ—‹è½¬*å››åˆ†éŸ³ç¬¦*çš„æŒ‰é’®ã€‚

æ ‡å‡†æŒ‰é’®æ˜ å°„è¿˜å¢åŠ äº†ä¸€äº›åŠŸèƒ½:

*   æ”¾ä¸‹(ä½†ä¸é”å®š)ä¸‹è½çš„*å››è¿éŸ³*çš„æŒ‰é’®
*   ä¸€ä¸ªå‘å¦ä¸€ä¸ªæ–¹å‘æ—‹è½¬*å››åˆ†éŸ³ç¬¦*çš„æŒ‰é’®(æ‰€ä»¥æ˜¯é€†æ—¶é’ˆå¯¹é¡ºæ—¶é’ˆ)
*   ä½¿ç”¨ä¿æŒçš„æŒ‰é’®

è™½ç„¶è¿™äº›åŠ¨ä½œæœ¬èº«çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†ä¸å…¶ä»–æ¸¸æˆè§„åˆ™ä¸€èµ·ï¼Œå®ƒä»¬å¯ä»¥åœ¨å¹¿æ³›çš„è¯æ±‡ä¸Šèµ·ä½œç”¨ã€‚

å°†ä¸€ä¸ªç‰¹å®šçš„*åŠ¨è¯*ç»‘å®šåˆ°ä¸€ä¸ªæŒ‰é’®ä¸Šå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„**æ˜ å°„**ã€‚è¯¥åœ°å›¾æœ‰ç”±[ä¿„ç½—æ–¯æ–¹å—æŒ‡å—](https://tetris.fandom.com/wiki/Tetris_Guideline)å®šä¹‰çš„æ ‡å‡†ã€‚

### [](#playfield)æ“åœº

åœ¨ NES (1989)çš„*ä¿„ç½—æ–¯æ–¹å—æ‰‹å†Œä¸­ï¼Œ**æ¸¸ä¹åœº**è¢«å®šä¹‰ä¸º:*

> æ“åœº:è¿™æ˜¯æ´»åŠ¨çš„åœ°æ–¹ã€‚

å®ƒæ„æˆäº†ç½‘æ ¼ï¼Œåœ¨ç½‘æ ¼ä¸Š*çš„èš±èœ¢*è½ä¸‹å¹¶åœæ­¢ã€‚åœ¨å¤§å¤šæ•°æ¸¸æˆä¸­ï¼Œå®½åº¦ä¸º 10 å—ï¼Œé«˜åº¦ä» 16 å—åˆ° 24 å—ä¸ç­‰ã€‚åœ¨ç½‘æ ¼ä¸Šæ–¹ï¼Œæœ‰ 20 è¡Œè¢«â€œéšè—â€ï¼Œè¿™è¢«ç§°ä¸º*æ¶ˆå¤±åŒº*ã€‚

### [](#tetrominos)æ²³è±š

æœ‰å„ç§å„æ ·çš„*ä¿„ç½—æ–¯æ–¹å—*:ä»æ¸¸æˆåœºé¡¶éƒ¨è½ä¸‹çš„å½¢çŠ¶ã€‚å®ƒä»¬çš„å®šä¹‰å¦‚ä¸‹:

*   é’è‰²: *I*
*   é»„è‰²: *O*
*   ç´«è‰²: *T*
*   ç»¿è‰²: *S*
*   çº¢è‰²: *Z*
*   è“è‰²: *J*
*   æ©™è‰² *L*

[![The different variations of Tetrominos](../Images/fe5f44b62d29945735c8ec86b348e8d6.png "All the Tetrominos")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--UZY2d30h--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/caxwtvm3qp3lz3nzt6xq.png)

ä»–ä»¬è¿˜å®šä¹‰äº†*å¼€å§‹ä½ç½®*:

*   ä¸­é—´: *I* å’Œ *O*
*   å·¦-ä¸­:å…¶ä»–ä¸€åˆ‡

å®ƒä»¬éƒ½åº”è¯¥æ°´å¹³äº§åµ*ï¼Œå…¶ä¸­ *J* ã€ *L* å’Œ *T* é¦–å…ˆäº§åµå¹³ä¾§ï¼Œå¹¶åœ¨å¯è§çš„ playfied ä¸Šæ–¹äº§åµ(åœ¨*æ¶ˆå¤±åŒº*å†…)ï¼Œä½†å¦‚æœå…¶è·¯å¾„ä¸Šæ²¡æœ‰ä»»ä½•ä¸œè¥¿(å˜å¾—å¯è§)ï¼Œåˆ™å‡å°‘ä¸€ä¸ªç©ºæ ¼ã€‚*

 *### [](#generator)å‘ç”µæœº

æœ‰ä¸€ä¸ª[éšæœºå‘ç”Ÿå™¨](https://tetris.fandom.com/wiki/Random_Generator)æ¥äº§ç”Ÿå°†å‡ºç°åœ¨æ“åœºä¸Šçš„æ£‹å­ã€‚æ ‡å‡†å®ç°æ˜¯æ‰€è°“çš„ 7 è¢‹éšæœºç”Ÿæˆå™¨ï¼Œè¿™æ„å‘³ç€åœ¨ç”Ÿæˆå¦ä¸€ä¸ªèƒŒé¢ä¹‹å‰ï¼Œä»ä¸€ä¸ªè¢‹ä¸­éšæœºæŠ½å–æ‰€æœ‰ä¸ƒä¸ªå•ä¾§çš„å››äºšç”²åŸºã€‚

æœ‰[ç§ä¸åŒçš„éšæœºå‘ç”Ÿå™¨](https://tetris.fandom.com/wiki/TGM_randomizer)ã€‚

### [](#holding-zone-hold-piece)ä¿æŒåŒº/ä¿æŒä»¶

ç©å®¶å¯ä»¥æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é’®ï¼Œå°†ä¸‹è½çš„èš±èœ¢å‘é€åˆ°ä¿ç•™æ¡†ä¸­ï¼Œä»»ä½•æ›¾åœ¨ä¿ç•™æ¡†ä¸­çš„èš±èœ¢éƒ½ä¼šç§»åŠ¨åˆ°å±å¹•é¡¶éƒ¨å¹¶å¼€å§‹ä¸‹è½ã€‚

### [](#ghost-piece)é¬¼ç‰‡

*å¹½çµæ£‹å­*æŒ‡ç¤ºäº†*èš±èœ¢*å°†é™è½çš„ä½ç½®ï¼Œå¦‚æœå®ƒè¢«æ‰è½ï¼Œå®ƒä¼šå¤§å¤§å‡å°‘è¯¯è½çš„æ¬¡æ•°ã€‚

### [](#rotation)æ—‹è½¬

ä¸€ä¸ª*å››åˆ†å›¾*çš„æ—‹è½¬å®é™…ä¸Šä¸æ˜¯ç›´çº¿çš„ã€‚å¤„ç†è¿™ä¸ªé—®é¢˜çš„ç³»ç»Ÿå’Œè§„èŒƒè¢«ç§°ä¸º*è¶…çº§æ—‹è½¬ç³»ç»Ÿ* (SRS)ã€‚

[![All the four rotation states of all the 7 Tetrominos](../Images/105c7974c0af449ead911f4034faa3a2.png "The various rotations when using the SRS.")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5dJhlIbK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/n5rfghw6x0b7qh1r9vg2.png)

ä¸€èˆ¬æ¥è¯´ï¼Œå½“æ— éšœç¢æ—¶ï¼Œ *Tetrominos* ä¼šåƒä½ æƒ³çš„é‚£æ ·æ—‹è½¬ï¼Œé™¤äº†:å›´ç»•ä¸€ä¸ªç‚¹ã€‚å› ä¸ºè¿™çº¯ç²¹æ˜¯æ•°å­¦ä¸Šçš„**æ—‹è½¬**è€Œæ²¡æœ‰ä»»ä½•**å¹³ç§»**ï¼Œæ‰€ä»¥æœ‰è¿™æ ·çš„çŠ¶æ€ï¼Œå…¶ä¸­ *J* ã€ *L* ã€ *S* ã€ *T* å’Œ *Z* *Tetrominos* â€œæµ®åŠ¨â€åœ¨å®ƒä»¬çš„è¾¹ç•Œæ¡†ä¸Šæ–¹ã€‚

ç„¶è€Œï¼Œå½“é‡åˆ°éšœç¢æ—¶ï¼Œæ¸¸æˆä¼šè¯•å›¾å°†*ä¿„ç½—æ–¯æ–¹å—*è¸¢åˆ°é™„è¿‘çš„å¦ä¸€ä¸ªä½ç½®ã€‚è¿™äº›è§„åˆ™åœ¨[å…³äºè¸¢å¢™çš„ç« èŠ‚](https://tetris.fandom.com/wiki/SRS#Wall_Kicks)ä¸­æœ‰æè¿°ã€‚

### [](#levels)å…³å¡

ç©å®¶é€šè¿‡æ¸…ç†çº¿æ¡(å®Œå…¨å¡«æ»¡)æˆ–æ‰§è¡Œâ€œT å‹æ—‹è½¬â€æ¥å‡çº§ã€‚æ›´é«˜çš„ç­‰çº§é€šå¸¸æœ‰æ›´é«˜çš„æ‰è½é€Ÿåº¦å’Œæ›´é«˜çš„åˆ†æ•°(-ä¹˜æ•°)ã€‚

### [](#scoring)è®¡åˆ†

[æŒ‡å¼•è¯„åˆ†ç³»ç»Ÿ](https://tetris.fandom.com/wiki/Scoring#Guideline_scoring_system)è§„å®šæŸäº›*é€šå…³æ–¹å¼*ä¸*å…¶ä»–æ–¹å¼*å¾—åˆ†ä¸åŒã€‚æˆ‘ä»¬ç°åœ¨ä¸ä¼šè¿›å…¥ä¸åŒçš„ç»„åˆï¼Œb2bï¼Œæ—‹è½¬ç­‰ç­‰ï¼Œä½†è¿™å°†åœ¨æˆ‘ä»¬å®ç°æ¸¸æˆæ—¶å‡ºç°ã€‚

## [](#next-steps)ä¸‹ä¸€æ­¥

è¿˜æ²¡æœ‰ç¼–å†™ä»»ä½•ä»£ç ã€‚æ¥ä¸‹æ¥çš„æ­¥éª¤æ˜¯æ‰¾å‡º:

*   æœ‰å“ªäº›æ¨¡å¼å’Œå…³æ³¨ç‚¹ï¼Ÿè¿™å°†é€šè¿‡å°†ä¸Šè¿°å®šä¹‰å’Œæ¦‚å¿µä¸­çš„å„ç§åè¯æ˜ å°„åˆ°ç¼–ç¨‹åç§°ç©ºé—´å’Œå‡½æ•°åæ¥å®ç°ã€‚
*   æˆ‘ä»¬åº”è¯¥ä½¿ç”¨ä»€ä¹ˆå·¥å…·é“¾ï¼Ÿè¿™å°†ç”±*éœ€æ±‚*å†³å®šã€‚è¿™æ„å‘³ç€å†³å®šä¸€ä¸ªåº“/æ¡†æ¶(å¦‚æœæœ‰çš„è¯)ï¼Œä»¥åŠè¾“å‡ºçš„é£æ ¼ã€‚
*   æˆ‘ä»¬æƒ³è¦å®ç°ä»€ä¹ˆç‹¬ç‰¹çš„æ¸¸æˆå…ƒç´ ï¼Ÿä¿„ç½—æ–¯æ–¹å—è¶Šå°‘è¶Šå¥½ï¼ä¸€å®šè¦ç‹¬ä¸€æ— äºŒã€‚

> ğŸ”œæœ¬ç³»åˆ—çš„ä¸‹ä¸€éƒ¨åˆ†å°†å»ºç«‹æ•´ä¸ªå·¥å…·é“¾ï¼è¿™é‡Œå¯ä»¥æ‰¾åˆ°[ã€‚](https://dev.to/sleeplessbyte/tetris-choosing-the-tools-and-setting-up-the-project-4kh6)

[![Photo of the Eramus Bridge in Rotterdam, The Netherlands, at night](../Images/b09479c19422afda443c40d696392844.png "Photo by Harold Wijnholds (https://unsplash.com/@harold) on Unsplash (https://unsplash.com/)")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--LzbOAyxs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1s39v2nctx1uoa018abs.jpg)*