# æ”¶èµ·ä½ çš„é¥­æ¡¶æ¸¸æˆï¼Œæ¸…ç†ä½ çš„å†å²

> åŸæ–‡ï¼š<https://dev.to/christopherkade/up-your-git-game-and-clean-up-your-history-4j3j>

> è¿™ç¯‡æ–‡ç« çš„ç›®æ ‡è¯»è€…æ˜¯æƒ³å­¦ä¹ å¦‚ä½•ä½¿ç”¨ rebase ç­‰å‘½ä»¤çš„äºº&å­¦ä¹ ä¸€äº›æŠ€å·§æ¥è·å¾—æ›´å¥½çš„ Git ä½“éªŒã€‚

å¥½äº†ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æˆ‘åœ¨ Github ä¸Šçš„ç¬¬ä¸€æ‰¹é¡¹ç›®çš„ Git å†å²:

[![git history 01](img/95d7d42208331396a96048100b18e009.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--2RYXlv9K--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/7vpkyr2vbo9ua1ymfmiy.png)

> å“¦

[![git history 02](img/5df79c6a3cdb71b51ce48b3d23ee9af2.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--pmfzFqsE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/21t7daye6xhkfhnnzc1v.png)

> å“¦ä¸ä¸ä¸ä¸

[![git history 03](img/5542d5c4dd68d055588790a32f21f81b.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--K-e4m2ym--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/a68jim387s5o3v224dlr.png)

> å“¦ï¼Œä¸Šå¸ï¼Œæˆ‘åšäº†ä»€ä¹ˆ

æ—¢ç„¶æˆ‘å·²ç»è‡ªå˜²è¿‡äº†ï¼Œé‚£å°±æ¥çœ‹çœ‹æˆ‘ç°åœ¨çš„å¤§éƒ¨åˆ†é¡¹ç›®æ˜¯ä»€ä¹ˆæ ·å­çš„å§ğŸ˜„

[![git history 04](img/6e2033c2e6174404ce20b440dea328ab.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--DDz4XrYO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/66wi8w9kdgl8x6m6ru4o.png)

> å“¦ï¼Œå¥½å¤šäº†

å¦‚æœä½ ä¸çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆï¼Œè®©æˆ‘ç®€å•è§£é‡Šä¸€ä¸‹:

è¿™æ˜¯æ‚¨åœ¨ Github ä¸Šçš„ Git å†å²çš„è¡¨ç¤ºï¼Œæ„å‘³ç€æ‚¨åœ¨é¡¹ç›®çš„åˆ†æ”¯ä¸Šæ‰€åšçš„æäº¤ã€‚

> ä½ å¯ä»¥é€šè¿‡å¯¼èˆªåˆ°ä¸€ä¸ªé¡¹ç›®çš„â€œInsightsâ€é€‰é¡¹å¡ï¼Œç„¶åè½¬åˆ°å·¦ä¾§çš„â€œNetworkâ€é€‰é¡¹å¡æ¥æŸ¥çœ‹ä½ è‡ªå·±çš„é¡¹ç›®ã€‚

é»‘è‰²æ¡ä»£è¡¨æˆ‘çš„`master`åˆ†æ”¯ï¼Œæ¯ä¸ªäº¤æ›¿çš„è“è‰²&ç»¿è‰²æ¡æ˜¯å•ç‹¬çš„åˆ†æ”¯ã€‚

æ­£å¦‚ä½ åœ¨æœ€è¿‘å’Œæ›´å¥½çš„å†å²ä¸Šçœ‹åˆ°çš„ï¼Œå®ƒä»¬äº¤æ›¿åœ°è¢«åˆå¹¶åˆ° master ä¸­ï¼Œåˆ›å»ºäº†è¿™ä¸ªç¼–å†™ä»£ç çš„å¥½æµç¨‹&åˆå¹¶å®ƒ(è¿™æ˜¯ä¸€ç›´è¢«æ¨èçš„ï¼Œè€Œä¸æ˜¯ç´¯ç§¯æ‹‰è¯·æ±‚)ã€‚

é‚£ä¹ˆï¼Œæ€æ ·æ‰èƒ½æœ‰æ›´å¹²å‡€çš„å†å²å‘¢ï¼Ÿè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹çœŸå®çš„ç”¨ä¾‹ã€‚

ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®²çš„å†…å®¹(ç¡®ä¿æŒ‰é¡ºåºå®Œæˆæ¯ä¸ªéƒ¨åˆ†):

*   [é‡ç½®åŸºç¡€](#the-magic-of-git-rebase)
    *   [ä¿®å¤æäº¤](#example-1-fixing-up-a-commit-with-rebase)
    *   [æ”¾å¼ƒæäº¤](#example-2-dropping-a-commit)
    *   [é‡å‘½åæäº¤](#example-3-rewording-a-commit)
    *   [åœ¨ä¸»è®¾å¤‡ä¸Šé‡è®¾åŸºç¡€](#example-4-rebasing-on-master)
*   [è·å¾—æ›´å¥½çš„ git æ—¥å¿—](#bonus-a-better-git-log)

## `git rebase`çš„é­”åŠ›

[æ­£å¼æ–‡ä»¶](https://git-scm.com/docs/git-rebase)

Git rebase è®©ä½ æŒ‰ç…§è‡ªå·±çš„æ„æ„¿é‡å¡‘å†å²ã€‚å°†å…¶è§†ä¸ºåœ¨ç»™å®šåˆ†æ”¯ä¸Šæ“ä½œæäº¤åˆ—è¡¨çš„ä¸€ç§æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å®Œå…¨æ”¾å¼ƒæäº¤(åŸºæœ¬ä¸Šæ˜¯åœ¨ git çš„æ·±æ¸Šä¸­ä¸å®ƒä»¬è¯´å†è§)ï¼Œé‡å‘½åå®ƒä»¬(é‡å†™æ‚¨çš„æäº¤æ¶ˆæ¯)ï¼Œå°†å®ƒä»¬å‹ç¼©åˆ°å…¶ä»–æäº¤ä¸­(è¿™æœ‰åŠ©äºéšè—é‚£äº›åšäº†è¯¸å¦‚æ·»åŠ åˆ†å·ä¹‹ç±»çš„å°äº‹çš„æäº¤ï¼Œæ‚¨çœŸçš„ä¸æƒ³åœ¨æ‚¨çš„å†å²ä¸­çœ‹åˆ°å®ƒä»¬)ä»¥åŠè®¸å¤šå…¶ä»–äº‹æƒ…ã€‚

### é€šè¿‡å®è·µå­¦ä¹ 

å»ä¸‹é¢çš„[é¡¹ç›®](https://github.com/christopherkade/up-your-git-game)æˆ‘ä¸ºè¿™ä¸ªåœºåˆï¼Œ**å‰å®ƒ**è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

åˆ†å‰åŸºæœ¬ä¸Šæ˜¯ä¸ºä½ è‡ªå·±åˆ›å»ºä¸€ä¸ªæˆ‘çš„é¡¹ç›®çš„å‰¯æœ¬ï¼Œä½ å¯ä»¥æ¯«æ— é—®é¢˜åœ°æ‘†å¼„å®ƒï¼ä¸ºæ­¤ï¼Œè¯·å•å‡»å³ä¸Šè§’çš„å‰æŒ‰é’®:

[![fork button](img/31c2deb016211d9c515c05cc991eec74.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--xuQVRsSq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1plindfnefqldmifa3b3.png)

ç„¶åï¼Œå…‹éš†æ‚¨åˆ†å‰çš„å­˜å‚¨åº“ã€‚

## ç¤ºä¾‹ 1:ç”¨ rebase ä¿®å¤æäº¤

**åœºæ™¯**:æ‚¨æäº¤äº†ä¸å€¼å¾—æäº¤çš„ä¸œè¥¿ï¼Œæˆ–è€…æ‚¨æƒ³åœ¨å‘å‡ºæ‹‰è¯·æ±‚ä¹‹å‰å°†åˆ†æ”¯ä¸Šçš„æäº¤æ¬¡æ•°å‡å°‘åˆ°ä¸€æ¬¡ã€‚

*   ä»`master`åˆ†æ”¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚

*   åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå®ƒçš„å†…å®¹å¹¶ä¸é‡è¦ã€‚

*   å°†æ–°æ–‡ä»¶æäº¤åˆ°æ‚¨åˆ†æ”¯ã€‚

```
git add index.js
git commit -m "add index.js" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   æ›´æ–°æ–‡ä»¶ä¸­çš„å†…å®¹

*   ä½¿ç”¨è¯¸å¦‚â€œupdate index.jsâ€çš„æ¶ˆæ¯å†æ¬¡æäº¤

*   è¿è¡Œ`git log`ï¼Œå¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ 2 æ¬¡æäº¤

æˆ‘ä»¬ç°åœ¨æƒ³è¦å°†`update`æäº¤åˆ°`add`æäº¤ä¸­ï¼Œå› ä¸ºè¿™ä¸ªå°å˜åŒ–ä¸å€¼å¾—æäº¤ã€‚

ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`git rebase`çš„**äº¤äº’**æ¨¡å¼ï¼Œè¿™è®©æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ¼‚äº®çš„ç•Œé¢æ¥åº”ç”¨é‡æ–°åŸºç¡€ã€‚

*   åƒè¿™æ ·è¿è¡Œ rebase å‘½ä»¤:

```
git rebase -i HEAD~2 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`HEAD~2`è¡¨ç¤ºä»åˆ†æ”¯(å¤´éƒ¨)ä¸Šçš„æœ€åä¸€æ¬¡æäº¤å¼€å§‹ï¼Œå¾€å› 2 æ¬¡æäº¤ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æ“ä½œæ›´å¤šçš„æäº¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å€¼æ›´æ”¹åˆ°æœ€å³è¾¹ã€‚

ä½ ç°åœ¨åº”è¯¥æœ‰ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„ç•Œé¢:

[![rebase interactive](img/b3436d440a02d7937caae64775962c1b.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--ZHl4upUS--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/h4po6e92b0icvrpki9sz.png)

ä¸è¦æƒŠæ…Œï¼Œè¿™åªåœ¨é¡¶éƒ¨æ˜¾ç¤ºäº†æ‚¨æ­£åœ¨æ›´æ”¹çš„ä¸¤ä¸ªæäº¤ï¼Œä»¥åŠå®ƒä»¬ä¸‹é¢çš„å¯ç”¨å‘½ä»¤ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œrebase æ¥å£ä½¿ç”¨ Vimï¼Œè¦å†™å…¥ï¼Œåªéœ€æŒ‰ä¸‹ **i** é”®ã€‚æ‚¨ç°åœ¨å¤„äº**â€œæ’å…¥â€**æ¨¡å¼ã€‚å› ä¸ºæˆ‘ä»¬æƒ³ä¿®å¤ç¬¬ä¸€ä¸ªæäº¤ä¸­çš„ç¬¬äºŒä¸ªæäº¤ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯åœ¨å®ƒå‰é¢å†™`fixup`æˆ–`f`è€Œä¸æ˜¯`pick`ã€‚æˆ‘ä»¬çš„`update index.js`æäº¤ç°åœ¨å°†è¢«å‹ç¼©åˆ°`add index.js`ä¸­ï¼Œä½†æ˜¯åªæœ‰`add index.js`çš„æ¶ˆæ¯å°†è¢«ä¿ç•™ã€‚

*   åƒè¿™æ ·æ›´æ–°ç¬¬äºŒè¡Œ:

```
pick c0091ec add index.js
f a19336e update index.js 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œæˆ‘ä»¬è¦åº”ç”¨ rebaseï¼ŒæŒ‰ **escape** ç¦»å¼€ **INSERT** æ¨¡å¼ï¼ŒæŒ‰ **:** (å†’å·)å¹¶è¾“å…¥ **wq** è¡¨ç¤ºâ€œå†™â€å’Œâ€œé€€å‡ºâ€ï¼ŒæŒ‰ **ENTER** åº”ç”¨è¿™äº›æ›´æ”¹ã€‚å†’å·åªå…è®¸æ‚¨ç¼–å†™å‘½ä»¤ä¾› Vim æ‰§è¡Œã€‚

ç°åœ¨ï¼Œæ‚¨çš„æ§åˆ¶å°ä¸­åº”è¯¥ä¼šå‡ºç°ä»¥ä¸‹æ¶ˆæ¯:

> å·²æˆåŠŸé‡ç½®å’Œæ›´æ–° refs/heads/{æ‚¨çš„åˆ†è¡Œåç§°}ã€‚

æ£€æŸ¥ä½ çš„`git log`ï¼Œä½ ç°åœ¨æœ‰ä¸€ä¸ªç¾ä¸½å’Œå¹²å‡€çš„æ‰¿è¯ºï¼

*   æœ€åï¼Œå¼ºåˆ¶æ¨é€åˆ°åˆ†æ”¯ï¼Œä»¥å°† rebase åº”ç”¨åˆ°è¿œç¨‹æœåŠ¡å™¨

```
git push origin {BRANCH-NAME} -f 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`-f`æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå› ä¸º rebase ä¼šä¿®æ”¹æ‚¨çš„ git å†å²ï¼Œå¹¶ä¸”éœ€è¦å¼ºåˆ¶æ‰§è¡Œã€‚

## ç¤ºä¾‹ 2:åˆ é™¤æäº¤

æ¥ä¸‹æ¥çš„ 2 ä¸ªæ­¥éª¤å°†ä¸ç¬¬ä¸€ä¸ªéå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºä½ ç°åœ¨æœ‰å·¥å…·æ¥åšä»»ä½•ç±»å‹çš„é‡ç½®åŸºç¡€ğŸ‰

**åœºæ™¯**:æ‚¨æƒ³è¦å®Œå…¨åˆ é™¤ä¸€ä¸ªæäº¤

æˆ‘ä»¬å°†æ”¾å¼ƒä¹‹å‰æ‰€åšçš„`add FILENAME`æäº¤:

*   è¿è¡Œ rebase å‘½ä»¤

```
git rebase -i HEAD~1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   åœ¨æ‚¨å¸Œæœ›åˆ é™¤çš„æäº¤å‰æ·»åŠ ä¸€ä¸ª`d`æˆ–`drop`ã€‚

[![rebase drop](img/be270253f548690763938eeb019dcebd.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--SIDu_fHR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/nl7wqia23khpgf7by6jf.png)

*   åœ¨æ‚¨çš„ Vim ç¼–è¾‘å™¨ä¸­è¿è¡Œ`:wq`(å¹¶ä½¿ç”¨`git log`æ£€æŸ¥æäº¤æ˜¯å¦è¢«ä¸¢å¼ƒ)

*   ä¸è¦å¿˜è®°å°†å®ƒå¼ºåˆ¶æ¨é€åˆ°ä½ çš„è¿œç¨‹æœåŠ¡å™¨ä¸ŠğŸ˜€

## ä¾‹ 3:æ”¹å†™æäº¤

éå¸¸ç›¸ä¼¼ï¼Œåªæœ‰ä¸€ç‚¹ä¸åŒã€‚

**åœºæ™¯**:æ‚¨æƒ³è¦ä¿®å¤ä¸€ä¸ªæ‰“å­—é”™è¯¯æˆ–è€…é‡å†™ä¸€ä¸ªæäº¤çš„æ ‡é¢˜æˆ–æè¿°

*   åˆ›å»ºéšæœºæäº¤

[![git reword](img/527da11d9b12799abf38bb815759f3a9.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--bdrYWOki--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/o88cmcyqj1596f52gyiy.png)

*   è¿è¡Œ rebase å‘½ä»¤

```
git rebase -i HEAD~1 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   åœ¨æ‚¨å¸Œæœ›æ”¹å†™çš„æäº¤å‰æ·»åŠ ä¸€ä¸ª`r`æˆ–`reword`(ç°åœ¨ä¸éœ€è¦ç¼–è¾‘æ ‡é¢˜)ã€‚

*   åœ¨ Vim ç¼–è¾‘å™¨ä¸­è¿è¡Œ`:wq`ã€‚è¿™å°†æ‰“å¼€ä¸€ä¸ªç±»ä¼¼çš„ç¼–è¾‘å™¨ï¼Œå…¶ä¸­åŒ…å«æ‚¨å¸Œæœ›æ”¹å†™çš„æäº¤ã€‚

[![git reword 2](img/06c7f02e464d78b0ae08bd4deb758daf.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--UFm8xGgP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ou14d5c0l0wisqix9wr2.png)

*   æ ¹æ®æ‚¨çš„æ„æ„¿æ›´æ–°æäº¤çš„æ ‡é¢˜å’Œæè¿°ï¼Œè¿è¡Œ`:wq`å°±å¯ä»¥äº†ï¼ç”¨`git log`æ£€æŸ¥æ˜¯å¦åº”ç”¨äº†é‡æ–°æªè¾

[![git reword 3](img/5b7c27eb402a2ba1ed9bd1ede32a9673.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--mljZRxHp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/b1o6v4ichuc69ruig868.png)

*   ä¸è¦å¿˜è®°å°†å®ƒå¼ºåˆ¶æ¨é€åˆ°ä½ çš„è¿œç¨‹æœåŠ¡å™¨ä¸ŠğŸ˜€

## ä¾‹ 4:é‡å®šåŸºå‡†äº`master`

> è¿™ä¸ªä¾‹å­ä¸ä¼šåœ¨ Github é¡¹ç›®ä¸­é‡ç°ï¼Œä½†æ˜¯å¯ä»¥éšæ„æµ‹è¯•ä¸€ä¸‹ã€‚

**åœºæ™¯**:æ‚¨åŒæ—¶æ‰“å¼€äº†å¤šä¸ª PRs(æ‹‰å–è¯·æ±‚)

[![rebase master screenshot](img/551904e65f775e29c898e30389336aee.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--CIIXBTSB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/ja8pn2wr7pl39yhaxf76.png)

ä½ åˆå¹¶äº†ä¸€ä¸ª PRï¼Œç°åœ¨ï¼Œä½ çš„ç¬¬äºŒä¸ª PR æ²¡æœ‰æ›´æ–°åˆ°`master`ï¼Œå“¦ä¸ï¼

[![rebase master screenshot 2](img/a07e85771c039756b800d0c7aaf16fe5.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Zvhqonsf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/bl9r2aajzi2384qa4f9n.png)

è¿™ç§éå¸¸é¢‘ç¹çš„åœºæ™¯ä¼šè®©æˆ‘ä»¬åœ¨`master`ä¸Šæ”¹å˜ç¬¬äºŒä¸ª PR çš„åŸºç¡€ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥ä»ç¬¬ä¸€ä¸ª PR ä¸­åˆå¹¶å‡ºæ–°çš„ä»£ç ã€‚

*   ä»æ‚¨æƒ³è¦é‡è®¾åŸºç¡€çš„åˆ†æ”¯(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ˜¯ç¬¬äºŒä¸ª PR çš„åˆ†æ”¯)ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:

```
git fetch 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°†ä¸‹è½½æˆ‘ä»¬çš„åˆ†æ”¯æœºæ„åº”ç”¨ rebase æ‰€éœ€çš„æ‰€æœ‰å¼•ç”¨ã€‚

*   ç„¶åï¼Œåƒè¿™æ ·æ‰§è¡Œ rebase:

```
git rebase origin/master 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

*   æœ€åï¼Œè¿è¡Œä¸€ä¸ª`git push origin {MY-BRANCH} -f`å°† rebase åº”ç”¨åˆ°æˆ‘ä»¬çš„è¿œç¨‹æœåŠ¡å™¨

[![rebase master screenshot 3](img/2367d8149536962c8ec988a12d68517d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--t7sPAaAw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/m220k16b638zl42xaqbo.png)

> ä¸‡å²ï¼

## å¥–é‡‘:æ›´å¥½çš„`git log`

ä½ çš„`git log`å¤ªå¤šäº†å—ï¼Ÿ

[![git log screenshot](img/d744cc5eee9b252dbe9e875e35daf68d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--i_2X6XHX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/pynf7hsq5tgdl43jr5ba.png)

ä½ æ›´æ„¿æ„æœ‰ä¸€ä¸ªå¼€é—¨è§å±±ã€æ›´å¥½çœ‹çš„`git log`ï¼Ÿ

[![git log screenshot 2](img/d878c2e780a645114ce19689584a87aa.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--_li3IWKP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/9k0v35fvzng378m4vftg.png)

ä¸è¦å†çœ‹äº†ï¼ä¸‹é¢æ˜¯ä½ å¦‚ä½•å®ç°å®ƒï¼Œåœ¨ä½ çš„æ§åˆ¶å°ä¸­ï¼Œç²˜è´´ä»¥ä¸‹å†…å®¹:

```
git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit" 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æ‚¨å·²ç»ä¸º`git log`åˆ›å»ºäº†ä¸€ä¸ªåä¸º`git lg`çš„åˆ«åï¼Œå®ƒå°†æ˜¾ç¤ºä¹‹å‰æ˜¾ç¤ºçš„æ›´å¥½çš„è¾“å‡ºã€‚é€šè¿‡é”®å…¥`git lg`(æˆ–`git lg -p`æŸ¥çœ‹å‘ç”Ÿå˜åŒ–çš„è¡Œ)æ¥å°è¯•ä¸€ä¸‹ã€‚

> æ„Ÿè°¢ [Coderwall](https://coderwall.com/p/euwpig/a-better-git-log) ç»™äº†è¿™ä¸ªâœ¨å¥–é‡‘

## è®ºæ­¦åŠ›æ¨è¡Œçš„å±å®³&å…¶ä»–æ³¨æ„äº‹é¡¹

æ­£å¦‚ Nick Huanca æ‰€æåˆ°çš„ï¼Œåœ¨ä¸å›¢é˜Ÿåˆä½œæ—¶ï¼Œå¼ºè¡Œæ¨åŠ¨å¯èƒ½æ˜¯å±é™©çš„:

[![nickhuanca profile image](img/835d5be1e4d6b032e81e6cd0748c7d93.png) ](/nickhuanca) [ Nick Huanca ](/nickhuanca) â€¢ [<time datetime="2019-06-18T15:57:14Z" class="date-short-year"> Jun 18 '19 </time> â€¢ Edited on <time datetime="2019-06-18T15:58:59Z" class="hidden m:inline-block date-no-year">Jun 18</time>](https://dev.to/nickhuanca/comment/c3d8) 

è°¢è°¢ä½ çš„æ–‡ç« ï¼è¿™æ˜¯ä¸€æ¬¡å¾ˆå¥½çš„é˜…è¯»/å¤ä¹ ã€‚å› ä¸ºè§‚ä¼—æ˜¯æƒ³å‡çº§ä»–ä»¬çš„ git æ¸¸æˆçš„äººï¼Œæˆ‘å»ºè®®æ·»åŠ ä¸€äº›å…³äºâ€œå¼ºåˆ¶æ¨é€â€çš„å±é™©çš„ä¿¡æ¯ï¼Œä¹Ÿè®¸å¯ä»¥å‚è€ƒ[å¼ºåˆ¶æ¨é€å°å¿ƒ](https://thoughtbot.com/blog/git-push-force-with-lease)ï¼Œå®ƒåˆ©ç”¨`--force-with-lease`è¿™æ ·äººä»¬å°±ä¸ä¼šæ„å¤–åœ°è¦†ç›–å›¢é˜Ÿæ¨é€ã€‚:)

å¦ä¸€ä»¶å€¼å¾—æ³¨æ„çš„äº‹æƒ…å¯èƒ½æ˜¯`git rebase --abort`å¦‚æœäº‹æƒ…åœ¨é‡å®šåŸºæ•°æœŸé—´å‡ºä¹æ„æ–™åœ°åç¦»äº†æ–¹å‘(å†²çªæˆ–å…¶ä»–å¥‡æ€ª/æ„æƒ³ä¸åˆ°çš„è¡Œä¸º)ã€‚å¾ˆé«˜å…´çŸ¥é“ï¼Œå°¤å…¶æ˜¯åœ¨å¼€å§‹æ—¶ï¼Œå¦‚ä½•å®‰å…¨åœ°é€€å‡ºå‘½ä»¤ã€‚

å†æ¬¡æ„Ÿè°¢ï¼

æ‰€ä»¥å¦ä¸€ç§é€‰æ‹©å¯èƒ½æ˜¯`--force-with-lease`â€œå…è®¸ä¸€ä¸ªäººå¼ºåˆ¶æ¨é€ï¼Œè€Œæ²¡æœ‰æ— æ„ä¸­è¦†ç›–å…¶ä»–äººçš„å·¥ä½œçš„é£é™©ã€‚åªæœ‰å½“å®ƒä¸æˆ‘ä»¬æœ¬åœ°çš„è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯å…·æœ‰ç›¸åŒçš„å€¼æ—¶ï¼Œå®ƒæ‰ä¼šæ›´æ–°è¿œç¨‹å¼•ç”¨ã€‚[å‚è€ƒ](https://thoughtbot.com/blog/git-push-force-with-lease)ã€‚å°¼å…‹ï¼Œè°¢è°¢ä½ çš„æç¤ºï¼ğŸ˜„

ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œä»–è¿˜æåˆ°äº†`git rebase --abort`ï¼Œè¿™å…è®¸æˆ‘ä»¬åœ¨ä¸­é€”åœæ­¢é‡å®šåŸºç¡€ï¼Œä»¥é˜²å‡ºç°ä»»ä½•é—®é¢˜ã€‚å› æ­¤ï¼Œå¦‚æœå‡ºäºä»»ä½•åŸå› ï¼Œä½ æç ¸äº†ä½ çš„ rebaseï¼ŒæŠŠå®ƒå¼„å°ä¸€ç‚¹`--abort`ç„¶åé‡æ–°å¼€å§‹ã€‚

## å…³é—­æ€ç»ª

å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Git å¯èƒ½æ˜¯æˆ‘ä»¬ä½œä¸ºå¼€å‘äººå‘˜å¯ä»¥è·å¾—çš„æœ€é‡è¦çš„æŠ€èƒ½ä¹‹ä¸€ã€‚æˆ‘å¸Œæœ›ä½ ä»¬ä¸­çš„ä¸€äº›äººä¸ä¼šåƒæˆ‘ä¸ä¹…å‰ä¸€æ ·å®³æ€•ã€‚

å¦‚æœè¿™ç¯‡æ–‡ç« æœ‰æ‰€å¸®åŠ©ï¼Œè¯·éšæ—¶ç»™å®ƒä¸€ä¸ªâ¤ï¸ğŸ¦„ğŸ”–å¹¶åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘ã€‚