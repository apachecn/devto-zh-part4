# JavaScript æ¨¡å—ï¼Œå¥½çš„ï¼Œåçš„å’Œä¸‘é™‹çš„ğŸ§

> åŸæ–‡:[https://dev . to/ya shints/JavaScript-modules-the-good-the-bad-and-the-ugly-36nb](https://dev.to/yashints/javascript-modules-the-good-the-bad-and-the-ugly-36nb)

å¦‚æœä½ å¶ç„¶å‘ç°äº†ä¸€æ®µæ™®é€šçš„ JavaScript ä»£ç ï¼Œæƒ³æŠŠå®ƒé‡æ„ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œæˆ–è€…æœ‰ä¸€ä¸ª`CommonJS`æ¨¡å—ï¼Œæƒ³æŠŠå®ƒè½¬æ¢ä¸º [`ES6 Modules`](https://tc39.es/ecma262/#sec-modules) ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›æ£˜æ‰‹çš„æƒ…å†µã€‚æˆ‘æœ€è¿‘ä¸å¾—ä¸ç»å†å…¶ä¸­çš„ä¸€ä¸ªï¼Œå¶ç„¶å‘ç°äº†ä¸€äº›ä½ åœ¨ä½¿ç”¨æ¨¡å—æ—¶éœ€è¦æ³¨æ„çš„ä¸åŒç‚¹ã€‚å’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘è®¤ä¸ºåˆ†äº«è¿™äº›ä¼šå¸®åŠ©å…¶ä»–äººï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å§‹å§ğŸ˜Šã€‚

## [](#commonjs-amp-raw-require-endraw-)å¸¸è§& `require`

åœ¨ ES6 è¢«ä¸Šå¸æ”¾åœ¨åœ°çƒä¸Šä¹‹å‰ï¼Œè¿™æ˜¯è®¸å¤šå¼€æºé¡¹ç›®ä¸­æœ€å¸¸è§çš„ä»£ç ç±»å‹ğŸ˜ã€‚

### [](#usage)ç”¨æ³•

```
const _ = require('underscore'); // from an npm package 

const reverseString = require('./reverseString.js'); // from internal module 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#definition)å®šä¹‰

åœ¨`reverseString.js`ä¸­ï¼Œä½ éœ€è¦å†™ä¸€äº›ç±»ä¼¼è¿™æ ·çš„ä¸œè¥¿æ¥è®©å®ƒå·¥ä½œ:

```
const reverseString = (sentence) => sentence.split("").reverse().join("");

module.exports = reverseString; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ èµ‹ç»™`module.exports`çš„å€¼å’Œä½ ä½¿ç”¨`require`æ—¶å¾—åˆ°çš„å€¼æ˜¯ä¸€æ ·çš„ã€‚è€Œå¦‚æœè¦ä½¿ç”¨åˆšåˆšå¯¼å‡ºçš„å‡½æ•°:

```
const reverseString = require('./reverseString.js');

console.log(reverseString("madam")); // madam, gotcha ğŸ˜‚ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#multi-export)å¤šå‡ºå£

åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»æ¨¡å—ä¸­å¯¼å‡ºä¸æ­¢ä¸€ä¸ªå‡½æ•°ã€‚è¿™å°±åƒå°†æ‰€æœ‰è¿™äº›éƒ½åŒ…è£…åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ä¸€æ ·ç®€å•ã€‚å‡è®¾æ‚¨æœ‰ä¸€ä¸ªåä¸º`stringHelpers.js` :
çš„æ–‡ä»¶

```
const reverseString = (sentence) => {...};
const toUpperCase = (sentence) => {...};
const convertToCamelCase = (sentence) => {...};

module.exports = {
  reverseString: reverseString, 
  toUpperCase, // you can omit the assignment if the name is equal
  toLowerCase: convertToLowerCase,
}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æ‚¨æ‰€è§ï¼Œ`module.exports`çš„å€¼å°†æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ„å‘³ç€å½“ä½¿ç”¨å®ƒæ—¶ï¼Œæ‚¨å°†ä¸å¾—ä¸ä½¿ç”¨å¯¹è±¡ä¸Šçš„å±æ€§:

```
const stringHelpers = require('./stringHelpers.js');

console.log(stringHelpers.reverseString('racecar')); // racecar ğŸ¤£ 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼é‡å†™æˆ‘ä»¬çš„æ¨¡å—:

```
module.exports = {};

module.exports.reverseString = () => {...};
module.exports.toUpperCase = () => {...};
module.exports.toLowerCase = () => {...}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸¤ç§åˆ›å»ºæ¨¡å—çš„æ–¹å¼æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œè¿™å–å†³äºä½ éµå¾ªå“ªç§çº¦å®šã€‚

## [](#es6-modules)ES6 æ¨¡å—

[ES6 æ¨¡å—](https://tc39.es/ecma262/#sec-modules)çš„åˆ›å»ºæ˜¯ä¸ºäº†åˆ›å»ºä¸€ç§`CommonJS`å’Œ`AMD`(å¼‚æ­¥æ¨¡å—å®šä¹‰)ç”¨æˆ·éƒ½æ»¡æ„çš„æ ¼å¼ã€‚ä¸`CommonJS`æ–¹æ³•ç›¸æ¯”ï¼ŒES6 æ¨¡å— ***æœ€ç®€å•çš„å½¢å¼æ€»æ˜¯*** å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ã€‚

```
const reverseString = (sentence) => {...};

export default reverseString; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#default-export)é»˜è®¤å¯¼å‡º

æ‹¥æœ‰æ¨¡å—çš„ä¸»è¦å¥½å¤„ä¹‹ä¸€æ˜¯éšè—å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œåªæš´éœ²éœ€è¦çš„éƒ¨åˆ†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åªå¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œæ­¤å¤–ï¼Œæˆ‘è¿˜å°†å®ƒä½œä¸º`default`å¯¼å‡ºã€‚å½“æ‚¨å°†æŸä¸ªä¸œè¥¿å¯¼å‡ºä¸º`default`æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬çš„åŸå§‹åç§°ç”šè‡³åˆ«åæ¥å¯¼å…¥å®ƒã€‚å¦å¤–ä½ å¯ä»¥çœç•¥èŠ±æ‹¬å·ã€‚

```
import reverseString from './reverseString.js';

import defaultExport from './reverseString.js';

console.log(reverseString('madam')); //madam
console.log(defaultExport('madam')); //madam 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![Made up name gif](../Images/8831efae6a12fc1b07b2f43c50e8296b.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Tii4aeTF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/x7xz4286i3myxoad6y0p.gif)

å¦‚æœä½ æŸ¥çœ‹ä»æ–‡ä»¶ä¸­å¯¼å‡ºçš„å¯¹è±¡ï¼Œä½ ä¼šçœ‹åˆ°ä¸‹é¢çš„å¯¹è±¡:

```
{
  default: (sentence) => {...}
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹Ÿå¯ä»¥ç›´æ¥å¯¼å‡ºå‡½æ•°:

```
export const reverseString = (sentence) => {...}; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°†å¯¼è‡´:

```
{
  reverseString: (sentence) => {...}
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†éœ€è¦ä½¿ç”¨å®ƒçš„åç§°æ‰èƒ½å¯¼å…¥å®ƒï¼Œè€Œä¸”æ‚¨å¿…é¡»ä½¿ç”¨èŠ±æ‹¬å·:

```
import { reverseString } from './reverseString.js';

console.log(reverseString('madam')); //madam 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#mixed-export)æ··åˆå¯¼å‡º

é™¤äº†å‘½åå¯¼å‡ºä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡º:

```
export const reverseString = (sentence) => {...};
export const toUpperCase = (sentence) => {...};
const convertToCamelCase = (sentence) => {...};

export default convertToCamelCase; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åå®ƒä¼šç»™ä½ :

```
{
  reverseString: (sentence) => {...},
  toUpperCase: (sentence) => {...},
  default: (sentence) => {...}
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¶ä¸”åœ¨å¯¼å…¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒä»¬çš„åç§°ï¼Œæˆ–è€…å¯¼å…¥ä¸€ä¸ªå¯¹è±¡ä¸­çš„æ‰€æœ‰å†…å®¹:

```
import convertToCamelCase, { reverseString, toUpperCase } from './stringHelpers.js';

// or

import * as stringHelpers from './stringHelpers.js'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å…¬å¹³åœ°è¯´ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨å¯¼å‡ºåæ›´æ”¹å‘½åå¯¼å‡ºçš„åç§°:

```
import { reverseString as madeUpName } from './stringHelpers.js'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#importing-the-whole-module)å¯¼å…¥æ•´ä¸ªæ¨¡å—

æœ‰æ—¶ä½ æœ‰ä¸€ä¸ªä»£ç å—éœ€è¦åœ¨ä¸éœ€è¦è®¿é—®ä»»ä½•æ¨¡å—å†…éƒ¨å€¼çš„æƒ…å†µä¸‹æ‰§è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥å¯¼å…¥æ•´ä¸ªæ¨¡å—æ¥æ‰§è¡Œå®ƒçš„å…¨å±€ä»£ç :

```
// other code or possible exports

window.addEventListener("load", function() {
    console.log("Window is loaded");
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åå¯¼å…¥æ•´ä¸ªæ¨¡å—:

```
import './loadEventListener.js'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#why-should-you-use-modules-)ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¨¡å—ğŸ˜ï¼Ÿ

ä½¿ç”¨ ES6 æ¨¡å—(ç”šè‡³æ˜¯ CommonJS æ ¼å¼)æœ‰å¾ˆå¤šå¥½å¤„ã€‚æˆ‘å°†åœ¨è¿™é‡Œä»‹ç»å…¶ä¸­çš„ä¸€äº›:

*   æ˜“äºå…±äº«ä»£ç (å†…éƒ¨å’Œé¡¹ç›®ä¹‹é—´)ã€‚
*   ç‹¬ç«‹å¯æµ‹æ€§ã€‚
*   æœ‰èƒ½åŠ›éšè—å®ç°ç»†èŠ‚ã€‚
*   å•ä¸€è´£ä»»åŸåˆ™ï¼Œä»£ç å¯ä»¥è¢«åˆ†å‰²æˆå…·æœ‰ç‰¹å®šç”¨é€”çš„å°å—ã€‚
*   ç®€åŒ–ä¾èµ–æ€§æ£€æµ‹/æ³¨å…¥ã€‚
*   ä¸ºä»£ç å—å®šä¹‰æ¸…æ™°çš„æ¥å£ã€‚
*   å¯ä»¥ä¸ä¾èµ–æ³¨å…¥ç³»ç»Ÿä¸€èµ·ä½¿ç”¨æ¥åŠ è½½ä»£ç å—ã€‚
*   å¯ä»¥å¸®åŠ©æ ‘æŠ–æ¶ˆé™¤ä¸ç”¨çš„ä»£ç ã€‚

## [](#whats-the-catch-)æœ‰ä»€ä¹ˆè¹Šè··ğŸ¤”ï¼Ÿ

ä½¿ç”¨ ES6 æ¨¡å—æ—¶ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„:

*   å®ƒä»¬é»˜è®¤è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹(ä½ ä¸å†éœ€è¦æœ‰`use strict`)ã€‚
*   `this`çš„é¡¶å±‚å€¼ä¸º`undefined`ã€‚
*   é¡¶å±‚å˜é‡æ˜¯æ¨¡å—çš„å±€éƒ¨å˜é‡ã€‚
*   ES6 æ¨¡å—æ˜¯å¼‚æ­¥åŠ è½½å’Œæ‰§è¡Œçš„ã€‚è¿™æ„å‘³ç€æµè§ˆå™¨å°†é¦–å…ˆå®Œæˆå¯¹`HTML`çš„è§£æå’ŒåŠ è½½ï¼Œç„¶åæ‰§è¡Œæ¨¡å—ä»£ç ã€‚å¯ä»¥å¹¶è¡ŒåŠ è½½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`link rel=preload`é¢„å…ˆåŠ è½½ã€‚

## [](#trick-or-treat)ä¸ç»™ç³–å°±æ£è›‹ï¼Ÿ

è¿™å¯èƒ½æ˜¯æˆ‘æœ€å–œæ¬¢çš„éƒ¨åˆ†ã€‚æ‚¨å¯ä»¥åŠ¨æ€åŠ è½½æ¨¡å—å¹¶æ‰§è¡Œå®ƒã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨`import`å…³é”®å­—ä½œä¸ºå‡½æ•°è€Œä¸æ˜¯æ™®é€šå‘½ä»¤æ¥å®Œæˆçš„ã€‚

```
import('/modules/my-module.js')
  .then((module) => {
    // Do something with the module.
  }); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ–è€…æ›´å¥½:

```
const module = await import('/modules/my-module.js'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### [](#wow-thats-great-but-why-)å“‡å¤ªå¥½äº†ï¼Œä½†ä¸ºä»€ä¹ˆæ˜¯ğŸ§ï¼Ÿ

å‡è®¾æ‚¨æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå®ƒåœ¨ç§»åŠ¨å’Œæ¡Œé¢ä¸Šæœ‰ä¸åŒçš„ç”¨æˆ·ä½“éªŒæˆ–è¡Œä¸ºã€‚ä»…ä»…æœ‰ä¸€ä¸ªå“åº”å¼çš„è®¾è®¡æ˜¯æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œæ‰€ä»¥ä½ æ„å»ºäº†ä¸€ä¸ª*é¡µé¢å‘ˆç°å™¨*ï¼Œå®ƒæ ¹æ®è®¿é—®è€…çš„å¹³å°åŠ è½½å¹¶å‘ˆç°æ¯ä¸ªé¡µé¢ã€‚

ä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™åªæ˜¯ä¸€ç§ç­–ç•¥æ¨¡å¼ï¼Œé¡µé¢å‘ˆç°å™¨å†³å®šåœ¨è¿è¡Œæ—¶åŠ è½½å“ªä¸ªæ¨¡å—ã€‚ä½¿ç”¨åŠ¨æ€å¯¼å…¥å¯ä»¥å¾ˆå®¹æ˜“åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿˜æœ‰è®¸å¤šå…¶ä»–ç”¨ä¾‹å¯ä»¥ä»åŠ¨æ€å¯¼å…¥ä¸­å—ç›Šã€‚

ç„¶è€Œï¼ŒæƒåŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§ã€‚ä½ éœ€è¦å°å¿ƒä½¿ç”¨è¿™ä¸ªç¥å¥‡çš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒæœ‰è‡ªå·±çš„ç¼ºç‚¹ã€‚è‡³å°‘ï¼Œæ‚¨ä¼šå¤±å»è‡ªåŠ¨ç»‘å®šå»¶è¿ŸåŠ è½½çš„å—ã€ç±»å‹æ¨æ–­ç­‰åŠŸèƒ½ã€‚

## [](#how-can-i-use-them)å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Ÿ

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å·²ç»å‘æ‚¨å±•ç¤ºäº†è®¸å¤šå¦‚ä½•ä½¿ç”¨å¦ä¸€ä¸ªæ–‡ä»¶æˆ–æ¨¡å—ä¸­çš„æ¨¡å—çš„ä¾‹å­ã€‚ç„¶è€Œï¼Œæœ‰æ—¶ä½ éœ€è¦åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨å®ƒä»¬(ä»`HTML`)ã€‚Chromeã€Safariã€Firefox å’Œ Edge éƒ½æ”¯æŒ ES6 æ¨¡å—ï¼Œä½†æ˜¯ä½ éœ€è¦å°†ä½ çš„è„šæœ¬æ ‡ç­¾çš„ç±»å‹ä» script æ”¹ä¸º module:

```
// html.js
export function tag (tag, text) {
  const el = document.createElement(tag)
  el.textContent = text

  return el
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
<script type="module">
  import { tag } from './html.js'

  const h1 = tag('h1', ' Hello Modules!')
  document.body.appendChild(h1)
</script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ–è€…åªæ˜¯ç®€å•åœ°å°†æ¨¡å—æ–‡ä»¶å¯¼å…¥å¦ä¸€ä¸ªæ–‡ä»¶å¹¶ä½¿ç”¨å¤–éƒ¨å¼•ç”¨:

```
// app.js
import { tag } from './html.js'

const h1 = tag('h1', ' Hello Modules!')
document.body.appendChild(h1) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

```
<script type="module" src="app.js"></script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

**æç¤º**:ç°åœ¨è¿˜æœ‰ä¸€äº›æ—§æµè§ˆå™¨**å’³** IE11 **å’³**ä¸æ”¯æŒå®ƒï¼Œæ‰€ä»¥ç¡®ä¿ä½ æœ‰ä¸€ä¸ªå¤‡ä»½è®¡åˆ’ã€‚è¿™å¯ä»¥ä½¿ç”¨`nomodule`å±æ€§æ¥å®Œæˆã€‚

```
<script type="module" src="module.js"></script> <script nomodule src="fallback.js"></script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#summary)æ€»ç»“

æˆ‘ä»¬çœ‹äº†ä¸€ä¸‹ ES6 æ¨¡å—ä¹‹å‰å’Œä¹‹åï¼Œçœ‹åˆ°äº†è¯­æ³•ä¸Šçš„ä¸€äº›å·®å¼‚ã€‚æˆ‘ä»¬çœ‹åˆ°äº† JavaScript ä¸­æ¨¡å—ç³»ç»Ÿçš„å¼ºå¤§ä¹‹å¤„ï¼Œä»¥åŠåœ¨æ›´å¤§çš„ä»£ç åº“ä¸­ä½¿ç”¨å®ƒçš„å¥½å¤„ã€‚æœ€åæˆ‘ä»¬å›é¡¾äº†å…·æœ‰å·¨å¤§æ½œåŠ›ä½†åº”è°¨æ…ä½¿ç”¨çš„åŠ¨æ€å¯¼å…¥ã€‚

å¸Œæœ›ä½ å–œæ¬¢è¿™æœ¬ä¹¦ï¼Œä¸‹æ¬¡å†è§ğŸ‘‹ğŸ¼ã€‚