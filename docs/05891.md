# globalThis - Access ä¸ç¯å¢ƒæ— å…³çš„å…¨å±€â€œThisâ€å€¼

> åŸæ–‡ï¼š<https://dev.to/shahzaibkhalid/globalthis-access-environment-agnostic-global-this-value-4k4b>

å˜¿ï¼ğŸ‘‹

æŸ¥çœ‹ä»Šå¤©çš„å¼€å‘æŠ€å·§ï¼ğŸ‘‡

> å…³æ³¨æˆ‘çš„ Twitter [@shahzaibkhalid](https://www.twitter.com/shahzaibkhalid) ä»¥è·å¾—æ›´å¤šå¼€å‘æŠ€å·§ï¼âœ¨

å…¨å±€è¿™æä¾›äº†ä¸€ç§è®¿é—®å…¨å±€`this`å€¼çš„æ ‡å‡†æ–¹å¼ï¼Œå³ä»¥ç¯å¢ƒä¸å¯çŸ¥çš„æ–¹å¼è®¿é—®å…¨å±€å¯¹è±¡ã€‚ğŸš€

> ğŸ›‘:è¿™æ˜¯ ECMAScript ææ¡ˆåˆ—è¡¨ä¸­çš„ç¬¬ä¸‰é˜¶æ®µææ¡ˆï¼Œå°½ç®¡å¤§å¤šæ•°æ–°æµè§ˆå™¨éƒ½æä¾›äº†è¯¥åŠŸèƒ½ï¼Œä½†è¯·è€ƒè™‘å°†å…¶å¡«å……åˆ°æ—§æµè§ˆå™¨ä¸­ã€‚

åœ¨ä¸åŒçš„ JavaScript ç¯å¢ƒä¸­ï¼Œè®¿é—®å…¨å±€å¯¹è±¡éœ€è¦ä¸åŒçš„è¯­æ³•:

ğŸ‘‰`window`æˆ–`frames`â€”â€”åœ¨ç½‘ä¸Š
ğŸ‘‰`self` -ç½‘ç»œå·¥ä½œè€…
ğŸ‘‰`global` -åœ¨ Node.js ä¸­

å‡è®¾æˆ‘ä»¬æƒ³åœ¨ Web å’Œ Node.js ä¸Šå…±äº«ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚æ£€æŸ¥`Set`æ˜¯å¦æœ¬åœ°å­˜åœ¨äºæˆ‘ä»¬çš„ç¯å¢ƒ
ä¸­ï¼Ÿæˆ‘ä»¬å¿…é¡»å…ˆæ£€æŸ¥ç¯å¢ƒï¼âŒ

```
const doesSetExists = () => {
  if (typeof window !== 'undefined') {
    return typeof window.Set === 'function';
  } else if (typeof global !== 'undefined') {
    return typeof global.Set === 'function';
  } else {
    throw new Error('Unable to locate global object');
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½¿ç”¨`globalThis` -å®ƒæ·±å…¥åˆ°ä¸€è¡Œå’Œç¯å¢ƒä¸å¯çŸ¥çš„âœ…ğŸ”¥

```
const doesSetExists = () => typeof globalThis.Set === 'function'; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¸Œæœ›ä½ ä»Šå¤©å­¦åˆ°äº†æ–°ä¸œè¥¿ã€‚è¯·åœ¨ä¸‹é¢çš„è¯„è®ºä¸­è®©æˆ‘çŸ¥é“ä½ å¯¹è¿™ä¸ªå¼€å‘æŠ€å·§çš„çœ‹æ³•ã€‚ğŸ‘€

å’Œå¹³ã€‚âœŒï¸