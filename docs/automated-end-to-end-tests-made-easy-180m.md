# è‡ªåŠ¨åŒ–ç«¯åˆ°ç«¯æµ‹è¯•å˜å¾—ç®€å•

> åŸæ–‡ï¼š<https://dev.to/dennismphil/automated-end-to-end-tests-made-easy-180m>

æ˜¯æ—¶å€™ä¸ºæ‚¨çš„ä¸‹ä¸€ä¸ªåº”ç”¨ç¨‹åºæ·»åŠ ä¸€äº›ç«¯åˆ°ç«¯æµ‹è¯•äº†ã€‚ä»Šå¤©æˆ‘æœ‰ä¸€ä¸ªæ–°çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·æ¥åˆ†äº«ã€‚

è¿™æ˜¯ä»å¤§é‡ä½¿ç”¨ JavaScript ä½œä¸ºå¼€å‘è¯­è¨€çš„å›¢é˜Ÿçš„è§’åº¦å†™çš„ã€‚æˆ‘è¯„ä¼°äº†å‡ ä¸ªç”¨äºç«¯åˆ°ç«¯åº”ç”¨ç¨‹åºæµ‹è¯•çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œå¹¶æƒ³åˆ†äº«ä¸€ä¸‹å½“å‰å·¥å…·é¢†åŸŸçš„ä¸€äº›ä¸œè¥¿ã€‚

> ç«¯åˆ°ç«¯æµ‹è¯•ä¹Ÿç§°ä¸ºåŠŸèƒ½æµ‹è¯•æˆ–å¿«ä¹è·¯å¾„æµ‹è¯•ï¼Œå®ƒåœ¨è½¯ä»¶å‘å¸ƒä¹‹å‰æˆ–ä¹‹åè‡ªåŠ¨è¿›è¡Œå¥å…¨æ€§æˆ–æŠ½æŸ¥ã€‚

æˆ‘éœ€è¦é€‰æ‹©ä¸€ä¸ªè€ƒè™‘åˆ°æ˜“äºå¼€å‘ï¼Œé•¿æœŸå¯ç»´æŠ¤æ€§ï¼Œæµ‹è¯•æ¡†æ¶é›†æˆã€‚è®©æˆ‘ä»¬æ¢ç´¢ä¸€äº›æœ‰è¶£çš„çƒå‘˜ã€‚

1.  ç¾å¥½çš„è¿‡å»**ç¡’**
2.  åŸºäº Chromium çš„æµè§ˆå™¨è‡ªåŠ¨åŒ– API **æœ¨å¶å¸ˆ**
3.  æœ€è¢«ç‚’ä½œçš„**æŸæ ‘**
4.  å¤ªé¼“(Taiko)â€”â€”è¡—åŒºé‡Œçš„æ–°å°å­(å¦‚æœä½ æ²¡å¬è¯´è¿‡è¿™ä¸ªæ²¡å…³ç³»ã€‚æˆ‘ä¹Ÿæ²¡æœ‰)

**TLï¼›DRï¼›**æˆ‘æœ€ç»ˆé€‰æ‹©äº† **Taiko** çš„â¤ï¸ç¾ä¸½çš„ APIï¼Œå®ƒå°±åƒé­”æ³•ä¸€æ ·å·¥ä½œï¼

## 1\. Selenium âŒ

ç¡’å»ºäº 2004 å¹´ã€‚Selenium çš„ä¸»è¦é—®é¢˜æ˜¯å®ƒçš„ä½“ç³»ç»“æ„ã€‚

åœ¨æ¯æ¬¡è¿è¡Œä¸­è¡¨ç°ä¸åŒçš„ç³»ç»Ÿï¼Œä¹Ÿç§°ä¸º*å‰¥è½*ï¼Œæ˜¯ Selenium åˆ†å±‚æ¶æ„çš„ä¸»è¦é—®é¢˜ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸ºä»€ä¹ˆç¡’æµ‹è¯•æ˜¯ç‰‡çŠ¶çš„ã€‚

[![Alt Text](img/10a357341c98f755835a81e5d4562f77.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--t_EO6rlK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/dhm24gl3szbzg900vsmk.png)

åœ¨å›¾ä¸­ï¼Œå¾ˆæ˜æ˜¾å‘½ä»¤å¿…é¡»ç»è¿‡å¤šå±‚ã€‚é©±åŠ¨ç¨‹åºæ˜¯åœ¨æµè§ˆå™¨å¤–éƒ¨æ„å»ºçš„ï¼Œè¿™å¯¼è‡´é©±åŠ¨æµè§ˆå™¨æ˜¯â€œç›²ç›®çš„â€,æ²¡æœ‰å…³äºå‘½ä»¤æ˜¯å¦å·²ç»æˆåŠŸæ‰§è¡Œçš„åé¦ˆã€‚

## 2ã€‚æœ¨å¶å¸ˆ

ä» 2004 å¹´å¿«è¿›ï¼Œ14 å¹´åï¼Œè°·æ­Œå‘å¸ƒäº† 1.0 ç‰ˆçš„æœ¨å¶å¸ˆã€‚

[![Alt Text](img/0c8351d5adba9dbbba27afb2fc407ebc.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--YMEfB_mi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/235rtuuwvx5mo59aphrg.png)

ä»ä¸Šå›¾ä¸­æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œæ§åˆ¶å™¨å’Œæµè§ˆå™¨ä¹‹é—´çš„å±‚æ›´å°‘äº†ã€‚è¿™æ˜¯ç°ä»£ç«¯åˆ°ç«¯æµ‹è¯•æ¡†æ¶ä¹‹é—´çš„å…³é”®åŒºåˆ«ã€‚

> Puppeteer æ˜¯ä¸€ä¸ªèŠ‚ç‚¹åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªé«˜çº§ API æ¥æ§åˆ¶ headless Chrome æˆ– DevTools åè®®ä¸Šçš„ Chromeã€‚

è¿™æ˜¯å¼ºå¤§çš„ã€‚å®ƒä½¿ç”¨ DevTools åè®®ï¼Œè¿™æ˜¯ Chrome å¼€å‘è€…å·¥å…·ç”¨æ¥ä¸æµè§ˆå™¨äº¤äº’çš„åº•å±‚åè®®ã€‚

ä¸€ä¸ªä»£ç ç¤ºä¾‹:

```
const browser = await puppeteer.launch();

const page = await browser.newPage();
await page.goto('https://example.com');

console.log(await page.content());
await page.screenshot({path: 'screenshot.png'});

await browser.close(); 
```

Enter fullscreen mode Exit fullscreen mode

ç„¶è€Œï¼Œå®ƒæ˜¯é¢å‘æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ï¼Œç«¯åˆ°ç«¯çš„ web åº”ç”¨ç¨‹åºæµ‹è¯•åªæ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚è¿™æ„å‘³ç€æ‚¨å¿…é¡»æ˜ç¡®åœ°ç­‰å¾…é¡µé¢åŠ è½½ï¼Œæ–­è¨€æ‚¨å…³å¿ƒçš„äº‹æƒ…ï¼Œè¿™å°†å¾ˆå¿«ä½¿ç¼–å†™å’Œç»´æŠ¤æµ‹è¯•å˜å¾—ä¸é‚£ä¹ˆæœ‰è¶£ã€‚

## 3ã€‚èµ›æ™®æ‹‰æ–¯âŒ

Cypress ç”¨è‡ªå·±ç‹¬ç‰¹çš„æ¶æ„å®ç°äº†æµè§ˆå™¨çš„è‡ªåŠ¨åŒ–ã€‚Cypress é€‰æ‹©äº†ä¸€æ¡æ›´å°‘äººèµ°è¿‡çš„è‰°éš¾é“è·¯ï¼Œä»æµè§ˆå™¨å†…éƒ¨è¿è¡Œæµ‹è¯•ï¼Œå¹¶å°†æ“ä½œä¼ é€’ç»™å¤–éƒ¨èŠ‚ç‚¹è¿›ç¨‹ï¼Œè¿™ä½¿å¾—æµ‹è¯•éå¸¸æœ‰æ•ˆã€‚

å®ƒå¸¦æœ‰çƒ˜çƒ¤çš„ç”µå­ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘å‘ç°éå¸¸ç®€å•çš„æµ‹è¯•åœ¨é»˜è®¤æƒ…å†µä¸‹å¯ä»¥åœ¨ electron ä¸­è¿è¡Œï¼Œä½†æ˜¯åœ¨ Chrome æˆ– Chrome æ— å¤´ç¯å¢ƒä¸­å´æ— æ³•è¿è¡Œã€‚

> å¥½è¯„å¦‚æ½®ï¼Œå¸‚åœºè¥é”€ï¼Œæ’­å®¢æ¼”è®²ï¼Œæ¼‚äº®çš„æ–‡æ¡£ï¼Œç„¶è€Œï¼Œå®ƒæ²¡æœ‰è¾¾åˆ°ä½ æ‰€æœŸæœ›çš„é«˜æœŸæœ›å€¼ã€‚

æˆ‘ç»™äº†å®ƒè¶³å¤Ÿçš„èƒ½é‡ï¼Œå¸Œæœ›å®ƒèƒ½å·¥ä½œã€‚éå¸¸å¸Œæœ›è¿™èƒ½æˆåŠŸã€‚ç„¶è€Œï¼Œæ„è¯†åˆ°å®ƒæœ‰å±é™©çš„æµè§ˆå™¨ä»£ç†æ¨¡å—ï¼Œå½“åœ¨å…¬å¸ä»£ç†ç¯å¢ƒä¸­è¿è¡Œæ—¶æ— æ³•è®¾ç½®é‡å®šå‘ï¼Œæœ€æ¼äººçš„é™åˆ¶æ˜¯ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªåŸŸä¸­ï¼Œä½ ä¸èƒ½è®¿é—®å¦ä¸€ä¸ªåŸŸã€‚

> æ¯ä¸ªæµ‹è¯•ä»…é™äºè®¿é—®ä¸€ä¸ªè¶…çº§åŸŸã€‚

å› æ­¤ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªç™»å½•é¡µé¢åœ¨å¦ä¸€ä¸ªé¢†åŸŸçš„åº”ç”¨ç¨‹åºï¼Œå‡†å¤‡å“­å§ğŸ˜­ã€‚å“­å¾—é‚£ä¹ˆå¤§å£°ï¼ŒæŸæ ‘é˜Ÿéƒ½å¬åˆ°äº†ã€‚æˆ‘å¸Œæœ›è¿™äº›æ”¹å˜åœ¨æœªæ¥ã€‚æˆ‘æ”¾å¼ƒäº†ã€‚

## 4\. Taiko âœ…

å¤ªé¼“æ˜¯ ThoughtWorks çš„ã€‚ä¹Ÿæ˜¯ç¡’è¯ç”Ÿçš„åœ°æ–¹ã€‚å®ƒç…§è€€ç€âœ¨.

> å®ƒé—ªè€€ç€â¤ï¸ç¾ä¸½çš„ APIã€‚

ç»™æˆ‘çœ‹ä¸€äº›ä»£ç ...

```
await openBrowser();
await goto("google.com");
await write("Dennis Mathew Philip");
await click("Google Search"); 
```

Enter fullscreen mode Exit fullscreen mode

æ‚¨ä¼šæ³¨æ„åˆ°æ²¡æœ‰ç­‰å¾…å…ƒç´ å‡ºç°ã€‚æ²¡æœ‰ CSS é€‰æ‹©å™¨ã€‚è¯†åˆ«è¾“å…¥å­—æ®µæ˜¯æ˜æ™ºçš„ã€‚

[![Running a test](img/702337c081818e33af18cd3baa8ae2ed.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--v_6KJ2cu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/khdun8onqsyu9nb9qiua.gif)

âœ…æ¼‚äº®çš„æ–‡æ¡£
âœ…é›†æˆ Jest å’Œå…¶ä»–æµè¡Œçš„æµ‹è¯•æ¡†æ¶
âœ…ä¸éœ€è¦æ˜ç¡®çš„ç­‰å¾…ã€‚å°‘ç 
âœ…æ— å¤´è€Œæ…ˆå‹å–„

å®ƒè¿˜æœ‰ä¸€ä¸ª REPLï¼Œä½¿å¼€å‘å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚

æ¥è‡ª Taiko å›¢é˜Ÿçš„ç®€å• gif:

[![Alt Text](img/c8fb307b5cb5104dc26d3bac2858c17b.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--r5YYDq2J--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/6we9xmgb7pwjvh1s8135.gif)

æˆ‘å–œæ¬¢ç”¨å¤ªé¼“ã€‚æˆ‘ä»ç¼–å†™ç«¯åˆ°ç«¯æµ‹è¯•ä¸­è·å¾—äº†ä¹è¶£ã€‚æˆ‘å¸Œæœ›ä½ ä¹Ÿèƒ½ã€‚

# å¾—å‡ºç»“è®º...

ç«¯åˆ°ç«¯æµ‹è¯•æé«˜äº†æ‚¨å‘å¸ƒè½¯ä»¶çš„ä¿¡å¿ƒã€‚æˆ‘ä»¬æ¯”è¾ƒäº†ä¸€äº›å…è´¹å’Œå¼€æºçš„ç«¯åˆ°ç«¯æµ‹è¯•è§£å†³æ–¹æ¡ˆâ€”â€”Seleniumã€Puppeteerã€Cypress å’Œ Taikoã€‚è¿™é‡Œå†™çš„è§‚ç‚¹å°±æ˜¯æˆ‘æ‰€ç»å†çš„ã€‚ä»”ç»†è€ƒè™‘æ‚¨çš„ç”¨ä¾‹ï¼Œé€‰æ‹©æœ€é€‚åˆæ‚¨çš„å·¥å…·ã€‚æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·æ˜¯å¾ˆå¼ºå¤§çš„ã€‚è´Ÿè´£ä»»åœ°ä½¿ç”¨ã€‚

å¦‚æœæ‚¨çš„ web åº”ç”¨ç¨‹åºæ²¡æœ‰è‡³å°‘ä¸€ä¸ªåŠŸèƒ½æµ‹è¯•ï¼Œé‚£ä¹ˆä»Šå¤©å°±å¼€å§‹å§ã€‚

è¯·åœ¨è¿™é‡Œæ‰¾åˆ°æˆ‘çš„å…¶ä»–ä½œå“:

1.  [è‡ªåŠ¨æ›´æ–°èŠ‚ç‚¹ä¾èµ–å…³ç³»](https://dev.to/dennismphil/automate-your-node-dependency-updates-4aga)
2.  [ä½¿ç”¨ SVG çš„å•è¾¹åœ†è§’çŸ©å½¢](https://medium.com/@dennismphil/one-side-rounded-rectangle-using-svg-fb31cf318d90)
3.  [Visual Studio ä»£ç â€”è°ƒè¯•æ¨¡å¼](https://medium.com/@dennismphil/debugging-node-js-using-visual-studio-code-c30e5eeb9e38)
4.  æˆ‘å¸Œæœ› TypeScript æˆåŠŸã€‚
5.  æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘é‡Œæœ‰ä»€ä¹ˆï¼Ÿ
6.  [CoffeeScript æœ€å—æ¬¢è¿çš„ç‰¹æ€§å³å°†åœ¨ JavaScript ä¸­å‡ºç°](https://medium.com/@dennismphil/coffeescripts-most-loved-feature-soon-in-javascript-b2f6740c2dc7)