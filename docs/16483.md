# JavaScriptã€Ruby å’Œ C éƒ½ä¸æ˜¯é€šè¿‡å¼•ç”¨è°ƒç”¨

> åŸæ–‡ï¼š<https://dev.to/xpbytes/javascript-ruby-and-c-are-not-call-by-reference-23f7>

> ğŸ›‘:è¿™ç¯‡æ–‡ç« æ˜¯å¯¹å¤–ç•Œå„ç§æ–‡ç« çš„å›åº”ï¼Œè¿™äº›æ–‡ç« æŒ‡å‡º JavaScript å’Œ Ruby å¯¹å¯¹è±¡æ˜¯â€œé€šè¿‡å¼•ç”¨è°ƒç”¨/ä¼ é€’â€ï¼Œå¯¹åŸè¯­æ˜¯â€œé€šè¿‡å€¼è°ƒç”¨/ä¼ é€’â€ã€‚
> 
> è®¸å¤šè¿™äº›æ–‡ç« æä¾›äº†è®¸å¤šæœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œè¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯è¯´è¿™äº›æ–‡ç« ä¸åº”è¯¥è¢«å†™å‡ºæ¥æˆ–è€…æ˜¯æ— ç”¨çš„ã€‚ç›¸åï¼Œæœ¬æ–‡è¯•å›¾æ¢ç´¢çš„è¯­ä¹‰ï¼Œä½†è¿‚è…ï¼Œæ„ä¹‰å’Œå®šä¹‰
> 
> *   å¼•ç”¨è°ƒç”¨
> *   ä¼ é€’è¯æ˜äºº
> *   å‚è€ƒç±»å‹
> *   å‚è€ƒ

é¦–å…ˆï¼Œæˆ‘æƒ³åšä¸€äº›é™ˆè¿°ï¼Œä¹‹åæˆ‘ä¼šè¯•ç€æ¢ç´¢è¿™äº›é™ˆè¿°çš„å®é™…å«ä¹‰ä»¥åŠæˆ‘ä¸ºä»€ä¹ˆè¦åšè¿™äº›é™ˆè¿°ï¼Œä¸[å„ç§](https://medium.com/nodesimplified/javascript-pass-by-value-and-pass-by-reference-in-javascript-fcf10305aa9c) [æ–‡ç« ](https://stackoverflow.com/questions/13104494/does-javascript-pass-by-reference) [ä¸­çš„](https://hackernoon.com/grasp-by-value-and-by-reference-in-javascript-7ed75efa1293)[é‡ç”Ÿ](https://snook.ca/archives/javascript/javascript_pass)ã€‚

> â˜•å½“ä½ çœ‹åˆ°è¿™ä¸ªè¡¨æƒ…ç¬¦å·(â˜•)æ—¶ï¼Œæˆ‘è¯•å›¾ç»™å‡ºä¸€ä¸ªéä»£ç çš„ç±»æ¯”æ¥å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆã€‚è¿™äº›æŠ½è±¡å¾ˆå®¹æ˜“å‡ºé”™ï¼Œå¯èƒ½ç«™ä¸ä½è„šï¼Œä½†å®ƒä»¬åªåœ¨å›´ç»•å®ƒä»¬çš„æ®µè½çš„ä¸Šä¸‹æ–‡ä¸­æœ‰æ„ä¹‰ã€‚å¯¹ä»–ä»¬åŠä¿¡åŠç–‘ã€‚

[![Black and yellow metal signage beside green grasses during daytime, in Yangmingshan, Taipei, Taiwan](img/30b853dccf68a2c1a3e8444003e0dd98.png "Photo by Treddy Chen (https://unsplash.com/@tchen_7993) on Unsplash (https://unsplash.com/)")](https://res.cloudinary.com/practicaldev/image/fetch/s--vJ_OWou7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/m094blzamvm2471dchi9.jpg)

## æŠ¥è¡¨

*   **JavaScript æ˜¯*æ€»æ˜¯*æŒ‰å€¼è°ƒç”¨**ã€‚
*   **Ruby æ˜¯*æ€»æ˜¯*æŒ‰å€¼è°ƒç”¨**ã€‚
*   **C æ˜¯*æ€»æ˜¯*æŒ‰å€¼è°ƒç”¨**ã€‚
*   æœ¯è¯­ä»¤äººå›°æƒ‘ï¼Œç”šè‡³å¯èƒ½æœ‰ç¼ºé™·ã€‚
*   æœ¯è¯­ ***ä»…**é€‚ç”¨äºåŠŸèƒ½(ç¨‹åº)å‚æ•°*ã€‚
*   **æŒ‡é’ˆ**æ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œå®ƒä»¬çš„å­˜åœ¨å¹¶ä¸è¡¨ç¤ºå¯¹*å‡½æ•°å‚æ•°*çš„è¯„ä¼°ã€‚

## å†å²å’Œå®šä¹‰

æˆ‘è¯•å›¾æŸ¥æ‰¾ä¸Šé¢æåˆ°çš„æœ¯è¯­çš„æ¥æºï¼Œå¹¶ä¸”æœ‰ç›¸å½“å¤šçš„æ–‡çŒ®æ¥è‡ªæ—©æœŸçš„ç¼–ç¨‹è¯­è¨€ã€‚

[CPL çš„ä¸»è¦ç‰¹å¾(D. W. Barron ç­‰äººï¼Œ1963)](https://academic.oup.com/comjnl/article/6/2/134/364746) :

> å‚æ•°è°ƒç”¨çš„ä¸‰ç§æ¨¡å¼æ˜¯å¯èƒ½çš„ï¼›é€šè¿‡å€¼è°ƒç”¨(ç›¸å½“äº ALGOL é€šè¿‡å€¼è°ƒç”¨)ï¼Œé€šè¿‡æ›¿æ¢è°ƒç”¨(ç›¸å½“äº ALGOL é€šè¿‡åç§°è°ƒç”¨)ï¼Œé€šè¿‡å¼•ç”¨è°ƒç”¨ã€‚åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œç§»äº¤å®é™…å‚æ•°çš„ LH å€¼ï¼›è¿™å¯¹åº”äº Strachey å’Œ Wilkes (1961)æå‡ºçš„â€œç”¨ç®€å•çš„åå­—ç§°å‘¼â€ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæ–‡çŒ®è®²çš„æ˜¯å‚æ•°è°ƒç”¨çš„*æ¨¡å¼ã€‚å®ƒè¿›ä¸€æ­¥åŒºåˆ†äº†ä¸‰ç§*æ¨¡å¼* : `call by value`ã€`call by name`å’Œ`call by reference`ã€‚*

è¿›ä¸€æ­¥çš„æ–‡çŒ®ç»™å‡ºäº†è¿™ä¸‰ä¸ªå’Œç¬¬å››ä¸ª*ç­–ç•¥*(å³`copy restore`)çš„å¾ˆå¥½çš„ã€ä½†æŠ€æœ¯æ€§çš„å®šä¹‰ï¼Œå¦‚åœ¨[å‚æ•°ä¼ é€’çš„è¯­ä¹‰æ¨¡å‹(ç†æŸ¥å¾·Â·eÂ·è´¹å°”ï¼Œ1973)](http://www.cs.colorado.edu/department/publications/reports/docs/CU-CS-016-73.pdf) ä¸­å‘è¡¨çš„ã€‚æˆ‘å¼•ç”¨äº†ä¸‹é¢ 4 ä¸ªå®šä¹‰ä¸­çš„ 2 ä¸ªï¼Œç„¶åæˆ‘ä¼šæŠŠå®ƒä»¬åˆ†è§£ï¼Œç”¨æ›´ç›´è§‚çš„æœ¯è¯­è§£é‡Šå®ƒä»¬çš„æ„æ€ã€‚

### æŒ‰å€¼è°ƒç”¨

> [...]æŒ‰å€¼å‚æ•°è°ƒç”¨è¦æ±‚åœ¨è¿‡ç¨‹è°ƒç”¨æ—¶è®¡ç®—å®é™…å‚æ•°ã€‚ç„¶åï¼Œå°†ä¸å½¢å‚ç›¸å…³è”çš„å­˜å‚¨å™¨å¯„å­˜å™¨åˆå§‹åŒ–ä¸ºè¯¥å€¼ï¼Œå¹¶ä¸”å°†è¿‡ç¨‹ä¸»ä½“ä¸­å¯¹å½¢å‚çš„å¼•ç”¨è§†ä¸ºå¯¹å­˜å‚¨å®é™…å½¢å‚åˆå§‹å€¼çš„æœ¬åœ°å­˜å‚¨å™¨å¯„å­˜å™¨çš„å¼•ç”¨ã€‚ç”±äºä¸å®é™…å‚æ•°ç›¸å…³è”çš„å€¼çš„å‰¯æœ¬è¢«å¤åˆ¶åˆ°æœ¬åœ°å­˜å‚¨å™¨å¯„å­˜å™¨ä¸­ï¼Œæ‰€ä»¥è¿‡ç¨‹ä¸»ä½“å†…å¯¹å‚æ•°å€¼çš„å˜æ¢ä¸å®é™…å‚æ•°å€¼éš”ç¦»ã€‚ç”±äºå€¼çš„è¿™ç§éš”ç¦»ï¼ŒæŒ‰å€¼è°ƒç”¨ä¸èƒ½ç”¨äºå°†è®¡ç®—å€¼ä¼ é€’å›è°ƒç”¨ç¨‹åºã€‚

ç²—ç•¥åœ°è¯´ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°(`procedure`)è¢«è°ƒç”¨ä¹‹å‰ï¼Œä¸€ä¸ªå‚æ•°è¢«å®Œå…¨è¯„ä¼°ã€‚å¾—åˆ°çš„*å€¼*(æ¥è‡ªé‚£ä¸ªè¯„ä¼°)ï¼Œç„¶åè¢«åˆ†é…ç»™å‡½æ•°å†…éƒ¨çš„æ ‡è¯†ç¬¦(`formal parameter`)ã€‚åœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­ï¼Œè¿™æ˜¯é€šè¿‡*å°†*å€¼*å¤åˆ¶*åˆ°ç¬¬äºŒä¸ªå†…å­˜åœ°å€æ¥å®Œæˆçš„ï¼Œä½¿å¾—å‡½æ•°(`procedure body`)å†…éƒ¨çš„æ”¹å˜è¢«éš”ç¦»åˆ°è¯¥å‡½æ•°ã€‚

æ¢å¥è¯è¯´:åŸå§‹å†…å­˜åœ°å€çš„å†…å®¹(åœ¨å°†è®¡ç®—åçš„è¡¨è¾¾å¼ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ç”¨äºå­˜å‚¨è®¡ç®—åçš„è¡¨è¾¾å¼çš„å†…å®¹)ä¸èƒ½è¢«å‡½æ•°å†…éƒ¨çš„ä»£ç æ›´æ”¹ï¼Œå¹¶ä¸”å‡½æ•°å†…éƒ¨å¯¹å€¼çš„æ›´æ”¹ä¸ä¼šä¼ æ’­ç»™è°ƒç”¨è€…ã€‚

> â˜•:å½“ä½ ç‚¹å’–å•¡æ—¶ï¼Œæœ‰äººé—®ä½ çš„åå­—ï¼Œä»–ä»¬å¯èƒ½ä¼šå†™é”™ã€‚è¿™å¹¶ä¸å½±å“*ä½ çš„çœŸå®å§“å*ï¼Œè¿™ç§å˜åŒ–åªä¼šä¼ æ’­åˆ°æ¯å­ä¸Šã€‚

### é€šè¿‡å¼•ç”¨è°ƒç”¨

> [...]åœ¨é€šè¿‡å¼•ç”¨è°ƒç”¨ä¸­ï¼Œè¿‡ç¨‹è°ƒç”¨æ—¶å®é™…å‚æ•°çš„åœ°å€(åç§°)ä½œä¸ºä¸ç›¸åº”çš„å½¢å‚å…³è”çš„å€¼ä¼ é€’ç»™è¿‡ç¨‹ã€‚å¯¹è¿‡ç¨‹ä¸»ä½“ä¸­çš„å½¢å‚çš„å¼•ç”¨å¯¼è‡´é€šè¿‡å½¢å‚å¯„å­˜å™¨å¯¹ä¸è°ƒç”¨è¿‡ç¨‹ä¸­çš„å®é™…å½¢å‚ç›¸å…³è”çš„å†…å­˜å¯„å­˜å™¨çš„é—´æ¥å¯»å€å¼•ç”¨ã€‚å› æ­¤ï¼Œå½¢å¼å‚æ•°å€¼çš„è½¬æ¢ä¼šç«‹å³ä¼ è¾“åˆ°è°ƒç”¨è¿‡ç¨‹ï¼Œå› ä¸ºå®é™…å‚æ•°å’Œå½¢å¼å‚æ•°éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯„å­˜å™¨ã€‚

å¤§è‡´æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼Œå’Œä»¥å‰ä¸€æ ·ï¼Œå‚æ•°è¢«æ±‚å€¼ï¼Œä½†æ˜¯å’Œä»¥å‰ä¸åŒçš„æ˜¯ï¼Œ*å†…å­˜åœ°å€* ( `address` / `name`)è¢«ä¼ é€’ç»™å‡½æ•°(`procedure`)ã€‚å¯¹å‡½æ•°(`formal parameter`)å†…éƒ¨å‚æ•°çš„æ›´æ”¹å®é™…ä¸Šæ˜¯åœ¨å†…å­˜åœ°å€ä¸Šè¿›è¡Œçš„ï¼Œå› æ­¤ä¼šä¼ æ’­å›è°ƒç”¨è€…ã€‚

> â˜•:å½“ä½ å»ä¸€å®¶ç¡¬ä»¶è®¾å¤‡æ”¯æŒå•†åº—è¦æ±‚ä¿®ç†æ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šç»™ä½ ä¸€ä¸ªæ›¿æ¢è®¾å¤‡ã€‚è¿™ä¸ªæ›¿æ¢è®¾å¤‡ä»ç„¶æ˜¯ä½ çš„ï¼Œä½ åƒä»¥å‰ä¸€æ ·æ‹¥æœ‰å®ƒï¼Œä½†å®ƒå¯èƒ½ä¸æ˜¯ä½ ç»™ä¿®ç†çš„é‚£ä¸ª*ä¸€æ¨¡ä¸€æ ·çš„*ã€‚

### å¼•ç”¨(å’Œå€¼)ç±»å‹

è¿™ä¸æ˜¯å…¨éƒ¨æƒ…å†µã€‚è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†å¯¼è‡´äº†å¤§éƒ¨åˆ†çš„æ··ä¹±ã€‚ç°åœ¨æˆ‘å°†è§£é‡Šä»€ä¹ˆæ˜¯**å¼•ç”¨ç±»å‹**ï¼Œå®ƒä¸*æ²¡æœ‰ä»»ä½•å…³ç³»*ä¸å‚æ•°æˆ–å‡½æ•°è°ƒç”¨æ— å…³ã€‚

å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹é€šå¸¸åœ¨ç¼–ç¨‹è¯­è¨€å¦‚ä½•åœ¨å†…å­˜ä¸­å­˜å‚¨å€¼çš„ä¸Šä¸‹æ–‡ä¸­è§£é‡Šï¼Œè¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆä¸€äº›è¯­è¨€é€‰æ‹©åŒæ—¶æ‹¥æœ‰è¿™ä¸¤ç§ç±»å‹ï¼Œä½†è¿™æ•´ä¸ªæ¦‚å¿µæœ¬èº«å°±å€¼å¾—(ä¸€ç³»åˆ—)æ–‡ç« æ¥è®¨è®ºã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œ[ç»´åŸºç™¾ç§‘é¡µé¢](https://en.wikipedia.org/wiki/Value_type_and_reference_type)ä¿¡æ¯é‡ä¸å¤§ï¼Œä½†å®ƒç¡®å®æåˆ°äº†å„ç§è¯­è¨€è§„èŒƒï¼Œè¿™äº›è§„èŒƒæ¶‰åŠåˆ°äº†æŠ€æœ¯ç»†èŠ‚ã€‚

> å¦‚æœä¸€ä¸ªæ•°æ®ç±»å‹åœ¨å®ƒè‡ªå·±çš„å†…å­˜ç©ºé—´ä¸­ä¿å­˜ä¸€ä¸ªæ•°æ®å€¼ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ª**å€¼ç±»å‹**ã€‚è¿™æ„å‘³ç€è¿™äº›æ•°æ®ç±»å‹çš„å˜é‡ç›´æ¥åŒ…å«å®ƒä»¬çš„å€¼ã€‚
> 
> ä¸*å€¼ç±»å‹*ä¸åŒï¼Œ**å¼•ç”¨ç±»å‹**ä¸ç›´æ¥å­˜å‚¨å®ƒçš„å€¼ã€‚ç›¸åï¼Œå®ƒå­˜å‚¨å­˜å‚¨å€¼çš„åœ°å€ã€‚

ç®€è€Œè¨€ä¹‹ï¼Œ**å¼•ç”¨ç±»å‹**æ˜¯æŒ‡å‘å†…å­˜ä¸­æŸä¸ªä½ç½®çš„å€¼çš„ç±»å‹ï¼Œè€Œ**å€¼ç±»å‹**æ˜¯ç›´æ¥æŒ‡å‘å…¶å€¼çš„ç±»å‹ã€‚

> â˜•å½“ä½ åœ¨ç½‘ä¸Šæ”¯ä»˜æ—¶ï¼Œè¾“å…¥ä½ çš„*é“¶è¡Œè´¦å·è¯¦æƒ…*ï¼Œæ¯”å¦‚ä½ çš„å¡å·ï¼Œå¡æœ¬èº«æ˜¯ä¸èƒ½æ›´æ”¹çš„ã€‚ä½†æ˜¯ï¼Œé“¶è¡Œå¸æˆ·çš„ä½™é¢å°†å—åˆ°å½±å“ã€‚æ‚¨å¯ä»¥å°†æ‚¨çš„å¡è§†ä¸ºå¯¹æ‚¨çš„ä½™é¢çš„å¼•ç”¨(å¹¶ä¸”å¤šå¼ å¡éƒ½å¯ä»¥å¼•ç”¨åŒä¸€ä¸ªä½™é¢)ã€‚
> 
> â˜•:å½“ä½ çº¿ä¸‹æ”¯ä»˜æ—¶ï¼Œä¹Ÿå°±æ˜¯ç”¨ç°é‡‘æ”¯ä»˜ï¼Œé’±ä¼šç¦»å¼€ä½ çš„é’±åŒ…ã€‚ä½ çš„é’±åŒ…æœ‰å®ƒè‡ªå·±çš„ä»·å€¼ï¼Œå°±åƒä½ é’±åŒ…é‡Œçš„ç°é‡‘ä¸€æ ·ã€‚é’±åŒ…/ç°é‡‘åœ¨å“ªé‡Œï¼Œä»·å€¼å°±åœ¨å“ªé‡Œã€‚

## å‡ºç¤ºä»£ç è¯æ˜

```
function reference_assignment(myRefMaybe) {
  myRefMaybe = { key: 42 }
}

var primitiveValue = 1
var someObject = { is: 'changed?' }

reference_assignment(primitiveValue)
primitiveValue
// => 1

reference_assignment(someObject)
// => { is: 'changed?' } 
```

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ`someObject`æ²¡æœ‰è¢«æ”¹å˜ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä»`reference`åˆ°`someObject`ã€‚æŒ‰ç…§ä¹‹å‰çš„å®šä¹‰:ä¼ é€’çš„ä¸æ˜¯`someObject`çš„å†…å­˜
åœ°å€ï¼Œè€Œæ˜¯*å‰¯æœ¬*ã€‚

ä¸€ç§æ”¯æŒ`pass by reference`çš„è¯­è¨€æ˜¯ PHPï¼Œä½†æ˜¯å®ƒéœ€è¦[ç‰¹æ®Šè¯­æ³•](https://www.php.net/manual/en/language.references.pass.php)æ¥æ”¹å˜é»˜è®¤çš„*ä¼ å€¼* :

```
function change_reference_value(&$actually_a_reference)
{
    $actually_a_reference = $actually_a_reference + 1;
}

$value = 41;
change_reference_value($value);
// => $value equals 42 
```

æˆ‘è¯•å›¾ä¿æŒä¸ JS ä»£ç ç›¸åŒçš„è¯­ä¹‰ã€‚

å¦‚ä½ æ‰€è§ï¼ŒPHP ç¤ºä¾‹*å®é™…ä¸Š*æ”¹å˜äº†è¾“å…¥å‚æ•°*å¼•ç”¨*çš„å€¼ã€‚è¿™æ˜¯å› ä¸º`$value`çš„*å†…å­˜åœ°å€*å¯ä»¥é€šè¿‡å‚æ•°`$actually_a_reference`è®¿é—®ã€‚

## å‘½åæ³•æ€ä¹ˆäº†ï¼Ÿ

å¼•ç”¨ç±»å‹å’Œâ€œè£…ç®±å€¼â€ä½¿è¿™æ›´ä»¤äººå›°æƒ‘ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸ºå‘½åæ³•å¯èƒ½æœ‰ç¼ºé™·ã€‚

æœ¯è¯­`call-by-value`æ˜¯æœ‰é—®é¢˜çš„ã€‚åœ¨ JavaScript å’Œ Ruby ä¸­ï¼Œä¼ é€’çš„**å€¼**æ˜¯ä¸€ä¸ª**å¼•ç”¨**ã€‚è¿™æ„å‘³ç€ï¼Œå®é™…ä¸Šï¼Œå¯¹è£…ç®±åŸè¯­çš„å¼•ç”¨æ˜¯è¢«å¤åˆ¶çš„ï¼Œå› æ­¤åœ¨å‡½æ•°å†…éƒ¨æ›´æ”¹åŸè¯­ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„åŸè¯­ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¯¹ä¸€ä¸ª*å¼•ç”¨ç±»å‹*çš„å¼•ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ª`Array`æˆ–`Object`ï¼Œè¢«å¤åˆ¶å¹¶ä½œä¸ºå€¼ä¼ é€’ã€‚

> å› ä¸ºå¼•ç”¨ç±»å‹å¼•ç”¨å®ƒä»¬çš„å€¼ï¼Œå¤åˆ¶ä¸€ä¸ªå¼•ç”¨ç±»å‹ä½¿å¾—å‰¯æœ¬*ä»ç„¶*å¼•ç”¨é‚£ä¸ªå€¼ã€‚è¿™ä¹Ÿæ˜¯ä½ ä½“éªŒåˆ°çš„*æµ…å±‚å¤åˆ¶*è€Œä¸æ˜¯*æ·±å±‚å¤åˆ¶/å…‹éš†*ã€‚

å“‡å“¦ã€‚å¥½å§ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­æ¥æ¢ç©¶è¿™ä¸¤ä¸ªæ¦‚å¿µ :

```
function appendOne(list) {
  list.push(1)
}

function replaceWithFive(list) {
  list = [5]
}

const first = []
const second = []

appendOne(first)
first
// => [1]

replaceWithFive(second)
second
// => [] 
```

åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œå®ƒè¾“å‡ºäº†`[1]`ï¼Œå› ä¸º`push`æ–¹æ³•ä¿®æ”¹äº†è°ƒç”¨å®ƒçš„å¯¹è±¡(è¯¥å¯¹è±¡æ˜¯ä»åå­—`list`å¼•ç”¨çš„)ã€‚è¿™ç§ä¼ æ’­æ˜¯å› ä¸º`list`å‚æ•°ä»ç„¶å¼•ç”¨åŸå§‹å¯¹è±¡`first`(å®ƒçš„å¼•ç”¨è¢«å¤åˆ¶å¹¶ä½œä¸ºå€¼ä¼ é€’ã€‚`list`æŒ‡å‘é‚£ä¸ªå‰¯æœ¬ï¼Œä½†æ˜¯æŒ‡å‘å†…å­˜ä¸­ç›¸åŒçš„æ•°æ®ï¼Œå› ä¸º`Object`æ˜¯å¼•ç”¨ç±»å‹)ã€‚

åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œå®ƒè¾“å‡º`[]`ï¼Œå› ä¸ºé‡æ–°åˆ†é…æ²¡æœ‰ä¼ æ’­åˆ°è°ƒç”¨è€…ã€‚æœ€åï¼Œå®ƒä¸æ˜¯é‡æ–°åˆ†é…*åŸå§‹å¼•ç”¨*ï¼Œè€Œåªæ˜¯ä¸€ä¸ªå‰¯æœ¬ã€‚

è¿™æ˜¯å¦ä¸€ç§å†™ä¸‹æ¥çš„æ–¹æ³•ã€‚ğŸ‘‰ğŸ½æŒ‡ç¤ºå¯¹å†…å­˜ä¸­ä¸åŒä½ç½®çš„å¼•ç”¨ã€‚

```
first_array   = []
second_array  = []

first         = ğŸ‘‰ğŸ½ first_array
list          = copy(first) = ğŸ‘‰ğŸ½ first_array
list.push     = (ğŸ‘‰ğŸ½ first_array).push(...)

// => (ğŸ‘‰ğŸ½ first_array) was changed

second        = ğŸ‘‰ğŸ½ second_array
list          = copy(second) = ğŸ‘‰ğŸ½ second_array
replace_array = []
list          = ğŸ‘‰ğŸ½ replace_array

// => (ğŸ‘‰ğŸ½ second_array) was not changed 
```

### æŒ‡é’ˆå‘¢ï¼Ÿ

c ä¹Ÿæ€»æ˜¯æŒ‰å€¼ä¼ é€’/æŒ‰å€¼è°ƒç”¨ï¼Œä½†æ˜¯å®ƒå…è®¸ä½ ä¼ é€’ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆå¯ä»¥æ¨¡æ‹ŸæŒ‰å¼•ç”¨ä¼ é€’ã€‚æŒ‡é’ˆæ˜¯å®ç°ç»†èŠ‚ï¼Œä¾‹å¦‚åœ¨ C#ä¸­ä½¿ç”¨æ¥ä½¿*é€šè¿‡å¼•ç”¨*ä¼ é€’ã€‚

ç„¶è€Œåœ¨ C ä¸­ï¼ŒæŒ‡é’ˆæ˜¯å¼•ç”¨ç±»å‹ï¼è¯­æ³•`*pointer`å…è®¸ä½ *è·ŸéšæŒ‡é’ˆåˆ°å®ƒçš„å¼•ç”¨*ã€‚åœ¨è¿™æ®µä»£ç çš„æ³¨é‡Šä¸­ï¼Œæˆ‘è¯•å›¾è§£é‡Šå¼•æ“ç›–ä¸‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚

```
void modifyParameters(int value, int* pointerA, int* pointerB) {
    // passed by value: only the local parameter is modified
    value = 42;

     // passed by value or "reference", check call site to determine which
    *pointerA = 42;

    // passed by value or "reference", check call site to determine which
    *pointerB = 42;
}

int main() {
    int first = 1;
    int second = 2;
    int random = 100;
    int* third = &random;

    // "first" is passed by value, which is the default
    // "second" is passed by reference by creating a pointer,
    //         the pointer is passed by value, but it is followed when
    //         using *pointerA, and thus this is like passing a reference.
    // "third" is passed by value. However, it's a pointer and that pointer
    //         is followed when using *pointerB, and thus this is like
    //         passing a reference.
    modifyParameters(first, &second, third);

    // "first" is still 1
    // "second" is now 42
    // "random" is now 42
    // "third" is still a pointer to "random" (unchanged)
    return 0;
} 
```

## é€šè¿‡å…±äº«é€šè¯ï¼Ÿ

è¾ƒå°‘ä½¿ç”¨å’Œä¸ºäººæ‰€çŸ¥çš„æœ¯è¯­æ˜¯é€šè¿‡å…±äº«çš„**è°ƒç”¨ï¼Œå®ƒé€‚ç”¨äº Rubyã€JavaScriptã€Pythonã€Java ç­‰ç­‰ã€‚å®ƒæ„å‘³ç€æ‰€æœ‰çš„å€¼éƒ½æ˜¯ objectï¼Œæ‰€æœ‰çš„å€¼éƒ½è¢«è£…ç®±ï¼Œå½“å®ƒä»¬å°†å¼•ç”¨ä½œä¸ºå€¼ä¼ é€’ç»™*æ—¶ï¼Œå®ƒä»¬å¤åˆ¶äº†ä¸€ä¸ªå¼•ç”¨ã€‚ä¸å¹¸çš„æ˜¯ï¼Œåœ¨æ–‡çŒ®ä¸­ï¼Œè¿™ä¸ªæ¦‚å¿µçš„ç”¨æ³•å¹¶ä¸ä¸€è‡´ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒå¯èƒ½ä¸å¤ªä¸ºäººæ‰€çŸ¥æˆ–ä½¿ç”¨ã€‚***

å‡ºäºæœ¬æ–‡çš„ç›®çš„ï¼Œcall-by-sharing æ˜¯`call by value`ï¼Œä½†æ˜¯è¯¥å€¼å§‹ç»ˆæ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚

## ç»“è®º

ç®€è€Œè¨€ä¹‹:å®ƒæ€»æ˜¯é€šè¿‡å€¼ä¼ é€’ï¼Œä½†æ˜¯å˜é‡çš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ã€‚æ‰€æœ‰åŸå§‹æ–¹æ³•éƒ½è¿”å›æ–°å€¼ç»™*ï¼Œå› æ­¤ä¸èƒ½ä¿®æ”¹å®ƒï¼Œæ‰€æœ‰å¯¹è±¡å’Œæ•°ç»„éƒ½æœ‰ä¿®æ”¹å®ƒä»¬çš„å€¼çš„æ–¹æ³•ï¼Œå› æ­¤ä¸€ä¸ª*å¯ä»¥*ä¿®æ”¹å®ƒã€‚*

åœ¨ä½¿ç”¨`call-by-value`çš„è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥**è€Œä¸æ˜¯**ç›´æ¥å½±å“*å‚æ•°*çš„å†…å­˜åœ°å€ï¼Œä½†æ˜¯ä½ å¯ä»¥å½±å“å‚æ•°æ‰€æŒ‡çš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨å¯èƒ½ä¼šå½±å“å‚æ•°æŒ‡å‘çš„å†…å­˜ã€‚

è¯­å¥*åŸå§‹æ•°æ®ç±»å‹é€šè¿‡å€¼ä¼ é€’ï¼Œå¯¹è±¡é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚*æ˜¯**ä¸å¯¹**ã€‚

[![Photo of the Centrale Bibliotheek in Rotterdam, The Netherlands: an industrial looking building with metallic walls and various yellow pipes on the side.](img/76a6600d3b6ef214821dc16915c6d3d7.png "Photo by Boudewijn Huysmans (<br>
https://unsplash.com/@boudewijn_huysmans) on Unsplash (https://unsplash.com/)")](https://res.cloudinary.com/practicaldev/image/fetch/s--ytGboK1p--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/4o5eorvii8hbl4gyduzc.jpg)