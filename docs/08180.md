# Eclipse é›†åˆâ€”â€”æ‚¨çš„é›†åˆéœ€è¦çš„ç‰¹æ€§ğŸ‰âš¡ï¸ğŸ‘

> åŸæ–‡:[https://dev . to/sendilkumarn/eclipse-collections-the-features-your-collections-need-400 b](https://dev.to/sendilkumarn/eclipse-collections-the-features-your-collections-need-400b)

> ä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œæ•°æ®ç»“æ„å¾ˆé‡è¦ã€‚é€‰æ‹©æ­£ç¡®çš„å°†æå¤§åœ°æé«˜ä½ çš„ç¨‹åº/äº§å“/åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚

è®¸å¤š(ä¸»æµ)ç¼–ç¨‹è¯­è¨€éƒ½æœ‰ä¸€ä¸ªé›†åˆåº“ã€‚å®ƒæä¾›äº† API å’Œå®ç°ï¼Œè®©æœ€ç»ˆç”¨æˆ·å¯ä»¥è½»æ¾ä½¿ç”¨ã€‚

è¿™äº›å®ç°é€Ÿåº¦å¾ˆå¿«ï¼Œæ—¨åœ¨æ–¹ä¾¿æœ€ç»ˆç”¨æˆ·ã€‚

> æä¾›å¤ªå¤šé€‰é¡¹ä¼šå¢åŠ è¯­è¨€çš„å­¦ä¹ æ›²çº¿ï¼Œæä¾›å¤ªå°‘ä¼šå¯¼è‡´ç”¨æˆ·æ‰§è¡Œèµ·æ¥å¾ˆéº»çƒ¦ã€‚æ‰€ä»¥è¯­è¨€åœ¨æä¾›å†…å®¹æ—¶å¿…é¡»éå¸¸å°å¿ƒã€‚

# [](#eclipse-collections-provide-optimized-and-efficient-implementations-of-collections-in-java)[Eclipse é›†åˆ](https://github.com/eclipse/eclipse-collections)åœ¨ Java ä¸­æä¾›äº†é›†åˆçš„ä¼˜åŒ–å’Œé«˜æ•ˆå®ç°ã€‚

Eclipse é›†åˆè¿˜æ·»åŠ äº†ä¸€äº›é¢å¤–çš„æ•°æ®ç»“æ„ï¼Œè¿™äº›æ•°æ®ç»“æ„åœ¨æ ¸å¿ƒ Java ä¸­ä¸æ˜¯æœ¬åœ°å¯ç”¨çš„ã€‚

ä½†æ˜¯æœ€é‡è¦çš„æ˜¯ Eclipse-Collections æä¾›äº†ä¼˜é›…ã€å®ç”¨å’Œæµç•…çš„ APIï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚

æˆ‘å–œæ¬¢ eclipse ç³»åˆ—çš„ä¸»è¦åŸå› æ˜¯:

*   API å¾ˆç‰›é€¼ã€‚å®ƒä»¬æ˜¯:
    *   åŠŸèƒ½çš„
    *   æ‡’æƒ°çš„
    *   å¹³è¡Œçš„
    *   æ¸´æœ›(ä¼˜åŒ–æ—¶)
*   æä¾›äº†`immutable`å’Œ`mutable`é›†åˆ
*   æä¾›é«˜åº¦ä¼˜åŒ–å’Œå†…å­˜é«˜æ•ˆçš„å®ç°

## [](#set-things-up)è®¾ç½®äº‹ç‰©

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ª`Maven`é¡¹ç›®ï¼ŒåŒ…æ‹¬å¦‚ä¸‹`eclipse collection`ä¾èµ–:

```
<dependency
    <groupId>org.eclipse.collections</groupId>
    <artifactId>eclipse-collections</artifactId>
    <version>10.0.0</version>
</dependency> 
```

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨`Gradle`ï¼Œé‚£ä¹ˆå¯¼å…¥å®ƒ:

```
compile 'org.eclipse.collections:eclipse-collections-api:10.0.0'
compile 'org.eclipse.collections:eclipse-collections:10.0.0' 
```

## [](#ingredients)é…æ–™

Eclipse é›†åˆç”±ä»¥ä¸‹æ•°æ®ç»“æ„ç»„æˆ:

1.  ç›®å½•
2.  ä¸€ç»„
3.  åœ°å›¾
4.  BiMap
5.  å¤šåœ°å›¾
6.  åŒ…
7.  å †
8.  ç»“å¯¹å’Œå…¶ä»–

æ‰€æœ‰è¿™äº›æ•°æ®ç»“æ„éƒ½åŒ…æ‹¬ä»¥ä¸‹å®ç°:

1.  æ˜“å˜çš„
2.  ä¸å˜çš„
3.  æ‡’æƒ°çš„
4.  å¹³è¡Œçš„
5.  æ•´é½çš„
6.  åˆ†ç±»çš„
7.  å›ºå®šçš„ï¼›ä¸å˜çš„
8.  åŸå§‹å’Œå…¶ä»–

> è¯·æ³¨æ„ï¼Œä¸æ˜¯æ‰€æœ‰é›†åˆçš„æ‰€æœ‰å®ç°ã€‚

## [](#code-code-code)ä»£ç ï¼Œä»£ç ï¼Œä»£ç ...

å¾ˆå°‘æœ‰ä¼˜ç§€çš„ä»£ç è¡¨å¯ç”¨ã€‚ä»–ä»¬åœ¨è¿™é‡Œæ˜¯ã€‚

è®©æˆ‘ä»¬ä»ä¸€ä¸ª`List`å¼€å§‹ã€‚

ä¸ºäº†å®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„å¯å˜åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥åšä»¥ä¸‹äº‹æƒ…:

```
MutableList<Integer> firstTenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9); 
```

å¯ä»¥ç”¨`of`å®ä¾‹åŒ–åˆ—è¡¨ã€‚

```
MutableList<Integer> firstTenNumbers = Lists.mutable.of(0, 1, 2, 3, 4, 5, 6, 7, 8, 9); 
```

### [](#reterival)å¤èµ›

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»å…¸çš„`get(index)`æ–¹å¼æ£€ç´¢å…ƒç´ ã€‚Eclipse é›†åˆè¿˜æä¾›äº†ä¸€ä¸ª`getFirst()`å’Œ`getLast()`æ–¹æ³•æ¥åˆ†åˆ«æ£€ç´¢ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ã€‚

```
firstTenNumbers.get(4);       // 4
firstTenNumbers.getFirst();  // 0
firstTenNumbers.getLast();  // 9 
```

åœ¨å‡½æ•°èŒƒå¼ä¸­ï¼Œ`take`|`takeWhile`|`drop`|`dropWhile`API éå¸¸æ£’ï¼Œå› ä¸ºå®ƒä»¬æœ‰åŠ©äºåœ¨ä¸æ”¹å˜åˆ—è¡¨å…ƒç´ çš„æƒ…å†µä¸‹ä»åˆ—è¡¨ä¸­åˆ é™¤æŸäº›å…ƒç´ ã€‚æœ‰äº† Eclipse é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨`Java`åšåˆ°è¿™ä¸€ç‚¹ã€‚

### [](#drop-and-take)å¼ƒè€Œå–ä¹‹

å‡½æ•°`drop`å’Œ`take`å„å–ä¸€ä¸ªéè´Ÿæ•´æ•°`n`ã€‚`drop`è¿”å›ç»™å®šç´¢å¼•ä¹‹åçš„æ‰€æœ‰å…ƒç´ ï¼Œè€Œ`take`è¿”å›ç´¢å¼•ä¹‹å‰çš„æ‰€æœ‰å…ƒç´ ã€‚

```
firstTenNumbers.take(3); // 0, 1, 2
firstTenNumbers.drop(3); // 3, 4, 5, 6, 7, 8, 9 
```

åŠŸèƒ½`drop`å’Œ`take`å¯ä»¥ç”±ä»¥ä¸‹åŠŸèƒ½æŒ‡å®š:

```
list.take(n) + list.drop(n) == list 
```

### [](#dropwhile-and-takewhile)dropWhile å’Œ takeWhile

ä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œå®ƒä»¬æ˜¯`drop`å’Œ`take`ï¼Œä½†å®ƒä»¬æ²¡æœ‰å°†ä¸€ä¸ªæ•°å­—ä½œä¸ºå‚æ•°ï¼Œè€Œæ˜¯é‡‡ç”¨äº†ä¸€ä¸ª`predicate`å‡½æ•°ã€‚

`takeWhile`å‡½æ•°å°†è¿”å›æ‰€æœ‰å€¼ï¼Œç›´åˆ°è°“è¯è¿”å› trueã€‚

```
firstTenNumbers.takeWhile(i -> i % 2 == 0); // 0 
```

`dropWhile`å‡½æ•°å°†è¿”å›åˆ—è¡¨ä¸­è°“è¯è¿”å› true ä¹‹åçš„æ‰€æœ‰å€¼ã€‚

```
firstTenNumbers.dropWhile(i -> i % 2 == 0); // 1, 2, 3, 4, 5, 6, 7, 8, 9 
```

### [](#convertors)è½¬æ¢å™¨

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šéœ€è¦`converters`ã€‚è½¬æ¢å™¨çš„ä½œç”¨æ˜¯å°†åˆ—è¡¨ä»ä¸€ç§å½¢å¼è½¬æ¢æˆå¦ä¸€ç§å½¢å¼ã€‚ä¹Ÿå°±æ˜¯ä»`Mutable`åˆ°`Immutable`ï¼Œåä¹‹äº¦ç„¶ã€‚

æˆ‘ä»¬å¯ä»¥åˆ†åˆ«é€šè¿‡`toMutable`å’Œ`toImmutable`å‡½æ•°æ¥å®ç°ã€‚

```
MutableList<T> iCanChange = Lists.mutable.with(T... args);
iCanChange.toImmutable(); // From now onwards I cannot Change

ImmutableList<T> iCannotChange = Lists.immutable.with(T... args);
iCannotChange.toMutable(); // From now on I can change 
```

æˆ‘ä»¬éœ€è¦åè½¬æˆ‘ä»¬çš„åˆ—è¡¨ï¼ŒAPI ä¸ºæˆ‘ä»¬æä¾›äº†`toReversed`å‡½æ•°æ¥å®ç°åŒæ ·çš„ç›®çš„ã€‚

```
MutableList<T> normalList = Lists.mutable.with(T... args);
normalList.toReversed(); 
```

æ ˆæ•°æ®ç»“æ„å†…ç½®åœ¨åº“ä¸­ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`toStack`å°†`list`è½¬æ¢æˆ`stack`ã€‚

```
MutableList<Integer> firstTenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
firstTenNumbers.toStack().pop(4); // 9, 8, 7, 6 
```

> è¿˜æœ‰è®¸å¤šå…¶ä»–å¯ç”¨çš„è½¬æ¢å™¨ï¼Œå¦‚`toSet`ã€`toSortedSet`ã€`toMap`ã€`toBiMap`ç­‰

### [](#zip)zip

å‡½æ•°`zip`å°†è·å–ä¸€ä¸ª`pair of lists`å¹¶å°†å®ƒä»¬è½¬æ¢æˆ`list of pairs`ã€‚ä¹Ÿå°±æ˜¯:

```
[T], [U] =>  [T, U] 
```

```
MutableList<Integer> houseNumbers = Lists.mutable.with(123, 456, 789);
MutableList<String> owners = Lists.mutable.with("Ram", "Raj", "Rahul");

owners.zip(houseNumbers); // (Ram:123), (Raj:456), (Rahul:789) 
```

> è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ—è¡¨çš„é•¿åº¦ä¸å¿…ç›¸ç­‰ã€‚

å‡½æ•°`zip`æœ‰å¾ˆå¤šç”¨é€”ï¼Œæ¯”å¦‚è·å–æ ‡é‡ç§¯ã€‚

### [](#select-amp-reject)é€‰æ‹©&æ‹’ç»

`Select`å’Œ`Reject`ä¸è¿‡æ˜¯`filters`ã€‚å®ƒä»¬éƒ½å°†æ¥å—ä¸€ä¸ªè°“è¯ã€‚`Select`åªé€‰æ‹©é‚£äº›`true`ã€‚`Reject`åªé€‰æ‹©é‚£äº›æ­£åœ¨è¿”å›çš„`false`ã€‚

```
MutableList<Integer> evenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)
                                        .select(i ->  i % 2 == 0);
// 0, 2, 4, 6, 8 
```

```
MutableList<Integer> oddNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)
                                        .reject(i ->  i % 2 == 0);
// 1, 3, 5, 7, 9 
```

> æ³¨æ„ä½ ä¹Ÿå¯ä»¥åš`rejectWith`å’Œ`selectWith`ã€‚

### [](#partition)åˆ†åŒº

> PartitionMutableCollection æ˜¯åŸºäºè°“è¯å°†ä¸€ä¸ªå¯å˜é›†åˆæ‹†åˆ†ä¸ºä¸¤ä¸ªå¯å˜é›†åˆçš„ç»“æœã€‚- Eclipse é›†åˆ

```
MutableList<Integer> firstTenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
System.out.println(firstTenNumbers.partition(i -> i % 2 == 0).getSelected()); // 0, 2, 4, 6, 8 
```

`partition`å°†æ¥å—è°“è¯ï¼Œå¹¶æ ¹æ®è°“è¯æ‹†åˆ†åˆ—è¡¨ã€‚

> æ³¨æ„ä½ ä¹Ÿå¯ä»¥åš`partitionWith`ã€‚

### [](#groupby)ç¾¤

æœ‰æ—¶æˆ‘ä»¬éœ€è¦å°†å…ƒç´ ç»„åˆåœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`groupBy`æ¥å®ç°ã€‚`groupBy`å°†æ¥å—è°“è¯å‡½æ•°ï¼Œå¹¶æ ¹æ®è°“è¯çš„è¿”å›å€¼å¯¹å…ƒç´ è¿›è¡Œåˆ†ç»„ã€‚

```
MutableList<Integer> firstTenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
System.out.println(firstTenNumbers.groupBy(i -> i % 2 == 0 ? "even" : "odd")); 
// {even=[0, 2, 4, 6, 8], odd=[1, 3, 5, 7, 9]} 
```

### [](#collect)æ”¶è—

`collect`æˆ–å¤šæˆ–å°‘ç±»ä¼¼äº`map`ã€‚å®ƒéœ€è¦ä¸€ä¸ªè°“è¯å‡½æ•°ã€‚ç„¶åå¯¹åˆ—è¡¨ä¸­çš„æ‰€æœ‰å€¼åº”ç”¨è¯¥å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ›´æ–°å€¼çš„æ–°åˆ—è¡¨ã€‚

```
MutableList<Integer> firstTenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
System.out.println(firstTenNumbers.collect(i -> i + 1));
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] 
```

> æˆ‘ä»¬ç”šè‡³å¯ä»¥åš`flatCollect`ã€‚

### [](#distinct)æˆªç„¶ä¸åŒ

`Distinct`é¡¾åæ€ä¹‰æ”¶é›†æ•°ç»„ä¸­çš„`distinct`å€¼ã€‚

```
MutableList<Integer> distinctValueList = Lists.mutable.with(1, 1, 2, 3, 4).distinct();
// [1, 2, 3, 4] 
```

### [](#anysatisfy-allsatisfy-and-nonesatisfy)ä»»æ„æ»¡è¶³ã€å…¨éƒ¨æ»¡è¶³å’Œéæ»¡è¶³

`any|all|noneSatisfy`ä½¿æ£€æŸ¥å˜å¾—å®¹æ˜“ï¼Œè€Œä¸”å®ƒçš„è¯„ä¼°ä¹Ÿå¾ˆæ…¢ã€‚ä¾‹å¦‚

```
MutableList<Character> gradeList = Lists.mutable.with('A', 'A', 'F', 'B');
Boolean isPass = gradeList.allSatisfy(c -> c != 'F'); // False
Boolean isFail = gradeList.anySatisfy(c -> c == 'F'); // True
Boolean isPass = gradeList.noneSatisfy(c -> c == 'F'); // False 
```

### [](#max-min-and-sumofint)æœ€å¤§ã€æœ€å°å’Œæ€»å’Œ

é¡¾åæ€ä¹‰ï¼Œå®ƒä»¬è·å–æ‰€æä¾›åˆ—è¡¨ä¸­å€¼çš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œ sumOfIntã€‚

```
MutableList<Integer> firstTenNumbers = Lists.mutable.with(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
System.out.println(firstTenNumbers.min()); // 0
System.out.println(firstTenNumbers.max()); // 9
System.out.println(firstTenNumbers.sumOfInt(i -> i)); // 45 
```

è¿˜æœ‰å¾ˆå¤šå…¶ä»–å¯ç”¨çš„ APIï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å®Œæ•´åˆ—è¡¨ã€‚

æˆ‘ä»¬å°†ç»§ç»­å…³äº`Eclipse Collections`çš„æ›´æ·±å…¥çš„æ•™ç¨‹ã€‚

å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç•™ä¸‹èµæˆ–è¯„è®ºã€‚â¤ï¸

å¦‚æœæ‚¨è§‰å¾—æ–‡ç« ä¸­æœ‰é”™è¯¯/é—æ¼ä¹‹å¤„ï¼Œè¯·éšæ—¶è¯„è®º:)

ä½ å¯ä»¥åœ¨æ¨ç‰¹ä¸Šå…³æ³¨æˆ‘ã€‚