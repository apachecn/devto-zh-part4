# ä½¿ç”¨ä½ çš„ç¬¬ä¸€ä¸ªç›–èŒ¨æ¯”ä¸»é¢˜

> åŸæ–‡:[https://dev.to/hagnerd/using-your-first-gatsby-theme-hep](https://dev.to/hagnerd/using-your-first-gatsby-theme-hep)

ç›–èŒ¨æ¯”åˆšåˆšå®£å¸ƒäº†ä¸»é¢˜çš„ç¨³å®šå‘å¸ƒï¼Œå¹¶éšä¹‹å‘å¸ƒäº†ä¸€ç³»åˆ—ä¸ä¸»é¢˜ç›¸å…³çš„å†…å®¹ã€‚è¿™ç¯‡æ–‡ç« å°†ä»‹ç»ä»€ä¹ˆæ˜¯ä¸»é¢˜ï¼Œä¸ºä»€ä¹ˆå®ƒä»¬å¯èƒ½å¯¹ä½ æœ‰ç”¨ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ä½ çš„ç¬¬ä¸€ä¸ªä¸»é¢˜ã€‚åœ¨åé¢çš„å¸–å­ä¸­ï¼Œæˆ‘å°†æ·±å…¥æ¢è®¨ç»„ä»¶é˜´å½±ç­‰ä¸»é¢˜ï¼Œç”šè‡³å¯èƒ½åˆ›ä½œè‡ªå·±çš„ä¸»é¢˜ã€‚

å¦‚æœä½ æƒ³ä¸€å¤´æ‰è¿›æ·±æ°´åŒºï¼Œæ°æ£®Â·ä¼¦æ–¯æ‰˜å¤«å‘å¸ƒäº†ä¸€ä¸ªå…è´¹çš„å…³äºç›–èŒ¨æ¯”ä¸»é¢˜çš„çŸ¥è¯†åˆ†å­è¯¾ç¨‹ã€‚

## [](#what-are-themes)ä»€ä¹ˆæ˜¯ä¸»é¢˜ï¼Ÿ

ä¸»é¢˜è¿™ä¸ªåå­—å¯èƒ½ä¼šè®©äººè®¤ä¸ºå®ƒä»¬åªä¸è§†è§‰å†…å®¹ç›¸å…³ï¼Œç„¶è€Œç›–èŒ¨æ¯”ä¸»é¢˜è¿œä¸æ­¢äºæ­¤ã€‚å®ƒä»¬å¯ä»¥åŒ…æ‹¬ä¸€äº›é»˜è®¤é…ç½®ï¼Œè®¾ç½®è½¬æ¢å™¨ï¼Œæ’ä»¶ï¼Œç”šè‡³å…¶ä»–å­ä¸»é¢˜ã€‚ä¸»é¢˜å¯ä»¥*ä¹Ÿå¯ä»¥*åŒ…æ‹¬è§†è§‰é£æ ¼å’Œç»„ä»¶ã€‚

ä¸»é¢˜æ˜¯å¯é…ç½®çš„ï¼Œå¯é‡å†™çš„ï¼Œæœ€å¥½çš„æ˜¯ï¼Œå¯ç»„åˆçš„ã€‚

## [](#why-are-themes-useful)ä¸ºä»€ä¹ˆä¸»é¢˜æœ‰ç”¨ï¼Ÿ

å¦‚æœä½ è¿‡å»ç”¨è¿‡ç›–èŒ¨æ¯”ï¼Œä½ å¯èƒ½ä¼šç”¨ä¸€ä¸ªå¯åŠ¨å™¨æ¥å¯åŠ¨ä½ çš„ç½‘ç«™ã€‚åœ¨ä¸»é¢˜ä¹‹å‰ï¼Œå¼€å¤´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å«è„šçŸ³ã€‚ä»–ä»¬å…è®¸ä½ å¯åŠ¨ä¸€ä¸ª Gatsby ç«™ç‚¹ï¼Œè¿™ä¸ªç«™ç‚¹é…ç½®äº†ä¸€äº›å¼€ç®±å³ç”¨çš„é™„åŠ åŠŸèƒ½ï¼Œæ¯”å¦‚æ”¯æŒ Mdxï¼Œæˆ–è€…ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨æœåŠ¡ï¼Œæ¯”å¦‚ Shopifyã€‚

ç„¶è€Œï¼Œå¦‚æœä½ æƒ³å¿«é€Ÿå¯åŠ¨ä¸€ä¸ªåŒæ—¶æ”¯æŒ Mdx å’Œ Shopify çš„ç½‘ç«™ï¼Œä½ å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªé…ç½®äº†ä¸¤è€…çš„å¯åŠ¨å™¨ï¼Œä½¿ç”¨å…¶ä¸­ä¸€ä¸ªå¯åŠ¨å™¨ï¼Œå¹¶æ‰¾å‡ºå¦‚ä½•è®¾ç½®å…¶ä»–åŠŸèƒ½ï¼Œæˆ–è€…ä»å¤´å¼€å§‹é…ç½®ä¸€åˆ‡ã€‚

ä¸»é¢˜æ”¹å˜äº†è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ¶ä½œä¸€ä¸ª`this`å’Œ`that`ï¼Œè€Œä¸æ˜¯ä»ä¸€ä¸ª`this`æˆ–`that`å¼€å§‹ã€‚è®°ä½ï¼Œä¸»é¢˜æ˜¯å¯é…ç½®çš„ã€å¯é‡å†™çš„å’Œå¯ç»„åˆçš„ã€‚

## [](#lets-get-started)æˆ‘ä»¬å¼€å§‹å§

æˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹ã€‚è®©æˆ‘ä»¬ä»é›¶å¼€å§‹å»ºç«‹ä¸€ä¸ªç›–èŒ¨æ¯”ç½‘ç«™ï¼Œç„¶åç”¨`gatsby-theme-blog`å¿«é€Ÿè‡ªä¸¾ä¸€ä¸ªåšå®¢çš„åŸºæœ¬åŠŸèƒ½ã€‚

å¦‚æœä½ æƒ³çœ‹å®Œæ•´çš„ä»£ç ï¼Œè¯·æŸ¥çœ‹ Github repo ã€‚

## [](#set-up-the-directory)è®¾ç½®ç›®å½•

é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„ Gatsby ç½‘ç«™åˆ¶ä½œä¸€ä¸ªç›®å½•ï¼Œç„¶åæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–å®ƒã€‚

```
mkdir first-gatsby-theme
cd first-gatsby-theme
yarn init -y 
```

> æˆ‘ç”¨çš„æ˜¯`yarn`ï¼Œä½†æ˜¯å¦‚æœä½ æ„¿æ„ï¼Œä¹Ÿå¯ä»¥éšæ„ä½¿ç”¨`npm`ã€‚

## [](#installing-our-dependencies)å®‰è£…æˆ‘ä»¬çš„ä¾èµ–é¡¹

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨`gatsby new <STARTER>`å‘½ä»¤æ¥ä½¿ç”¨å¯åŠ¨å™¨ï¼Œä½†æ˜¯è®©æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªã€‚è¿™éå¸¸å®¹æ˜“åšåˆ°ã€‚

æˆ‘ä»¬åªéœ€è¦`react`ã€`react-dom`ã€`gatsby`å°±å¯ä»¥å¼€å§‹äº†ã€‚æ‰€ä»¥è®©æˆ‘ä»¬å®‰è£…è¿™äº›ã€‚ä¹‹åï¼Œæˆ‘ä»¬æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„`package.json`æ–‡ä»¶ï¼Œä¸ºäº†æ–¹ä¾¿æ·»åŠ ä¸€äº›è„šæœ¬ã€‚

```
yarn add react react-dom gatsby 
```

```
//  package.json  {  "name":  "first-gatsby-theme",  "version":  "1.0.0",  "license":  "MIT",  "dependencies":  {  "react":  "...",  "react-dom":  "...",  "gatsby":  "...",  },  "scripts":  {  "build":  "gatsby build",  "start":  "gatsby develop",  "clean":  "gatsby clean"  }  } 
```

> `...`åªæ˜¯å ä½ç¬¦ã€‚æ‚¨çš„`package.json`æ–‡ä»¶å°†åŒ…å«æ‚¨å·²ç»å®‰è£…çš„ç‰¹å®šç‰ˆæœ¬ã€‚

## [](#check-that-gatsby-is-working)æ£€æŸ¥ç›–èŒ¨æ¯”æ˜¯å¦åœ¨å·¥ä½œ

ä¸ºäº†çœ‹åˆ°æˆ‘ä»¬æ‰€æœ‰çš„è¾›å‹¤å·¥ä½œå¾—åˆ°äº†å›æŠ¥ï¼Œè®©æˆ‘ä»¬åšä¸€äº›å†…å®¹ï¼Œè®©ç›–èŒ¨æ¯”å‘æŒ¥å®ƒçš„é­”åŠ›ã€‚

æˆ‘ä»¬éœ€è¦åœ¨`src/pages`åˆ¶ä½œä¸€ä¸ªç›®å½•ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼ŒGatsby å°†åœ¨è¿™é‡Œå¯»æ‰¾å†…å®¹è½¬æ¢æˆç½‘ç«™ä¸Šçš„é¡µé¢ï¼Œå¹¶ä¸ºæˆ‘ä»¬å¤„ç†è·¯ç”±ã€‚

```
mkdir -p src/pages
touch src/pages/index.js 
```

> mkdir -p åœ¨æä¾›çš„è·¯å¾„ä¸­åˆ›å»ºæ‰€æœ‰ç¼ºå¤±çš„ç›®å½•

`src/pages/index.js`å°†è¢«æ˜ å°„åˆ°æˆ‘ä»¬ç½‘ç«™çš„æ ¹è·¯å¾„â€œ/â€ã€‚

```
// src/pages/index.js

import React from 'react'

export default function HomePage() {
  return (
    <>
      <h1>Welcome</h1>
      <p>Hello, from Gatsby <span role="img" aria-label="hand emoji waving hello">ğŸ‘‹</span></p>
    </>
  )
} 
```

ç°åœ¨å¯åŠ¨ç›–èŒ¨æ¯”ç½‘ç«™ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯è¿è¡Œã€‚

```
yarn start 
```

æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹ã€‚
[![](../Images/7906e1503204bae03d6f51846b2584a4.png)T3ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--YsY0WOr6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/jn2c89iq0772vi4g01a9.png)

æˆ‘çŸ¥é“ï¼Œå¾ˆåˆºæ¿€ã€‚

## [](#installing-the-theme)å®‰è£…ä¸»é¢˜

ç°åœ¨æˆ‘ä»¬çŸ¥é“ç›–èŒ¨æ¯”å·²ç»å¼€å§‹å·¥ä½œäº†ï¼Œè®©æˆ‘ä»¬å®‰è£…ä¸€ä¸ªä¸»é¢˜ã€‚æ¯ä¸ªäººéƒ½è¯´ä»–ä»¬æƒ³æœ‰ä¸€ä¸ªåšå®¢ï¼Œä½†å¼€å§‹å¾ˆéš¾ã€‚å¥½æ¶ˆæ¯æ˜¯ä¸»é¢˜è®©ä½ å¾ˆå®¹æ˜“å¼€å§‹ï¼Œä½ ä¸ä¼šæœ‰ä»»ä½•å€Ÿå£ã€‚

```
yarn add gatsby-theme-blog 
```

åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`gatsby-config.js`æ–‡ä»¶ã€‚

```
touch gatsby-config.js 
```

å¹¶æ·»åŠ ä»¥ä¸‹

```
module.exports = {
  plugins: [
    'gatsby-theme-blog'
  ]
} 
```

åœ¨ä¸»é¢˜ç¨³å®šå‘å¸ƒä¹‹å‰ï¼Œä½ çš„ä¸»é¢˜æ›¾ç»ç”Ÿæ´»åœ¨ä¸€ä¸ªå«åš`__experimentalThemes`çš„é™„åŠ å±æ€§ä¸‹ï¼Œä½†æ˜¯ç°åœ¨å®ƒä»¬ç¨³å®šäº†ï¼Œå®ƒä»¬å°±åƒæ’ä»¶ä¸€æ ·ï¼

å¦‚æœä½ è¯•å›¾åœ¨æ­¤åˆ»å¯åŠ¨ä½ çš„ç›–èŒ¨æ¯”ç½‘ç«™ï¼Œä½ ä¼šå¾—åˆ°ä¸€äº›é”™è¯¯ã€‚è®©æˆ‘ä»¬åœ¨æ¥ä¸‹æ¥çš„ä¸¤èŠ‚ä¸­æ‰¾å‡ºåŸå› ã€‚

## [](#exploring-the-theme-options)æ¢ç´¢ä¸»é¢˜é€‰é¡¹

ç°åœ¨è¿˜æ²¡æœ‰ gatsby-theme-blog çš„ Github å›è´­ï¼Œä½†æ˜¯å¦‚æœä½ çœ‹ä¸€ä¸‹ [npm é¡µé¢](https://www.npmjs.com/package/gatsby-theme-blog)ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå«åš`Usage`çš„éƒ¨åˆ†ã€‚

[![](../Images/81b253f9688e3498180cedf3800ea4a5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--BgX5OGJV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/4j4zppm41wkuecivw89s.png)

å¤§å¤šæ•° Gatsby æ’ä»¶å’Œä¸»é¢˜éƒ½æœ‰ä½ å¯ä»¥è®¾ç½®çš„é€‰é¡¹ã€‚å¯¹äº`gatsby-theme-blog`,æœ‰å››ä¸ªé€‰é¡¹ï¼Œæ¯ä¸ªé€‰é¡¹éƒ½æœ‰é»˜è®¤å€¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä¸ä¼ é€’ä»»ä½•é€‰é¡¹ï¼Œä¸»é¢˜ä»ç„¶å¯ä»¥å·¥ä½œã€‚

è¯è™½å¦‚æ­¤ï¼Œå®ƒè¿˜æ˜¯æœ‰ä¸€äº›æœŸå¾…çš„ã€‚ç°åœ¨`gatsby-theme-blog`å¸Œæœ›åœ¨`content/posts`ç›®å½•ä¸­æœ‰ä¸€äº› Markdown æˆ– MDX å½¢å¼çš„åšå®¢æ–‡ç« ï¼Œåœ¨`content/assets`ç›®å½•ä¸­æœ‰ä¸€ä¸ªæ ‡é¢˜ä¸º`avatar`çš„å›¾ç‰‡ã€‚

å¦‚æœæ²¡æœ‰è¿™ä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œä½ å¾—åˆ°çš„é”™è¯¯éƒ½æ˜¯ä¸€ç§éšæ™¦çš„é”™è¯¯ï¼Œæœ‰ç‚¹ä»¤äººå¤±æœ›ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å°†æŠŠé€‰é¡¹è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚å¦‚æœä½ æƒ³è¦†ç›–ä»»ä½•ä½ ä¼šæ”¹å˜ä½ çš„`gatsby-config.js`ã€‚

```
// gatsby-config.js
module.exports = {
  plugins: [
    {
      resolve: 'gatsby-theme-blog',
      options: {
        contentPath: 'content/posts', // the file path to your blog posts
        basePath: '/', // the url for the root of your blog
        assetPath: 'content/assets', // the file path to your assets folder
        mdx: true, // whether or not to configure mdx for you
      }
    }
  ]
} 
```

è¿™äº›æ˜¯é»˜è®¤å€¼ï¼Œä½†æ˜¯è¦æ›´æ”¹å…¶ä¸­ä»»ä½•ä¸€ä¸ªå€¼ï¼Œè¯·åœ¨ options å¯¹è±¡ä¸­è®¾ç½®æ‚¨æƒ³è¦çš„å€¼ã€‚

## [](#add-content)æ·»åŠ å†…å®¹

ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„ Gatsby ç½‘ç«™åœ¨æ·»åŠ è¿™ä¸ªä¸»é¢˜åä¼šå¤±è´¥ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨é»˜è®¤é€‰é¡¹ä½œä¸ºæˆ‘ä»¬éœ€è¦åšä»€ä¹ˆæ¥è®©æˆ‘ä»¬çš„ç½‘ç«™å†æ¬¡å·¥ä½œçš„æŒ‡å—ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ¶ä½œå¿…è¦çš„æ–‡ä»¶å¤¹ã€‚åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å°†åˆ›å»º`content`ã€`content/posts`å’Œ`content/assets`ç›®å½•ã€‚

```
mkdir -p content/{posts,assets} 
```

> è¿™é‡Œçš„{}å«åšå¤§æ‹¬å·å±•å¼€ï¼Œç›¸å½“äºè¿è¡Œ`mkdir -p content/posts`å’Œ`mkdir -p content/assets`ï¼Œåªæ˜¯æ–¹å¼æ›´çŸ­ã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬éœ€è¦å†™ä¸€ç¯‡åšæ–‡ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªå¤´åƒã€‚

åœ¨æ‚¨çš„`content/posts`ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º`hello-world.md`çš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ æ‚¨æƒ³è¦çš„ä»»ä½•å†…å®¹ã€‚

```
---
title: "Hello,  World"
---

The worlds greatest blog post! 
```

æ¥ä¸‹æ¥ï¼Œåœ¨`content/assets`ä¸­ä¿å­˜ä¸€å¼ è‡ªå·±åä¸º`avatar`çš„ç…§ç‰‡ã€‚

æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸‰ä»¶äº‹æ˜¯æš‚æ—¶åˆ é™¤æˆ‘ä»¬çš„`src/pages/index.js`é¡µé¢ï¼Œå› ä¸º`gatsby-theme-blog`é»˜è®¤å°†åšå®¢çš„æ ¹ç›®å½•è®¾ä¸ºâ€œ/â€æ ¹è·¯å¾„ã€‚

```
mv src/pages/index.js src/pages/_index.js 
```

å¦‚æœä½ ç°åœ¨è¿è¡Œ`yarn start`ï¼Œä¸€åˆ‡éƒ½åº”è¯¥æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ä¸œè¥¿:
[![](../Images/8717b1aad196d66b1b9ee208acdba04d.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--t_AACB-8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/9i03lm2b5qktigct8t94.png)

## [](#siteauthor-info)ç«™ç‚¹/ä½œè€…ä¿¡æ¯

`gatsby-theme-blog`åšçš„å¦ä¸€ä»¶äº‹æ˜¯åœ¨æˆ‘ä»¬çš„`gatsby-config.js`ä¸­å¯»æ‰¾ä¸€äº›ç«™ç‚¹å…ƒæ•°æ®ã€‚

æœ€åä¸€æ¬¡æ‰“å¼€æ‚¨çš„`gatsby-config.js`,æ·»åŠ æ‚¨çš„ä¿¡æ¯ã€‚

```
module.exports = {
  siteMetadata: {
    title: "Awesome Blog", // Enter the title of your blog here
    author: "Matt Hagner", // Change this to your name
    description: "A really cool blog",
    social: [
      {
        name: 'twitter',
        url: 'twitter.com/_hagnerd',
      },
      {
        name: 'github',
        url: 'github.com/hagnerd',
      },
    ]
  },
  plugins: [
    'gatsby-theme-blog',
  ]
} 
```

* * *

å¸Œæœ›è¿™ä¸ä¼šå¤ªç—›è‹¦ï¼Œå¹¶æœ‰åŠ©äºå¼ºè°ƒå®‰è£…å’Œè®¾ç½®ä¸€ä¸ªç›–èŒ¨æ¯”ä¸»é¢˜æœ‰å¤šå¿«ã€‚æœ€å¥½çš„éƒ¨åˆ†æ˜¯ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦å®‰è£…æ›´å¤šçš„ä¸»é¢˜ï¼Œè€Œä¸éœ€è¦ä½ ä»æ ¹æœ¬ä¸Šæ”¹å˜ä½ çš„ç½‘ç«™ç»“æ„ã€‚

* * *

## [](#next-up)æ¥ä¸‹æ¥

æˆ‘ä»¬åšå®¢çš„å¿«é€Ÿè®¾ç½®å¾ˆæ£’ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³æ”¹å˜é£æ ¼å‘¢ï¼Ÿæˆ–è€…ä¸€äº›é»˜è®¤ç»„ä»¶æ˜¯å¦‚ä½•æ¸²æŸ“çš„ï¼Ÿä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç§°ä¸ºé˜´å½±çš„åŠŸèƒ½ã€‚

å½“å®ƒå®Œæˆçš„æ—¶å€™ï¼Œæˆ‘ä¼šæ›´æ–°ä¸€ä¸ªå¸–å­çš„é“¾æ¥ã€‚