# ä½¿ç”¨ Gatsby ä¸»é¢˜é€‰é¡¹ç¬¬ 2 éƒ¨åˆ†

> åŸæ–‡:[https://dev . to/hag nerd/using-Gatsby-theme-options-part-2-573n](https://dev.to/hagnerd/using-gatsby-theme-options-part-2-573n)

## [](#previously-in-the-series)ä»¥å‰çš„ç³»åˆ—

è¿™æ˜¯ã€Šç›–èŒ¨æ¯”ä¸»é¢˜å…¥é—¨ã€‹ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸‰ç¯‡ï¼Œæˆ‘ä»¬å°†é€æ­¥äº†è§£ä¸»é¢˜ã€‚åœ¨ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»å¤´å¼€å§‹å»ºç«‹äº†ä¸€ä¸ª Gatsby ç½‘ç«™ï¼Œå¹¶æ·»åŠ äº† gatsby-theme-blogï¼Œå®ƒåœ¨æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­è·å–ä¸€äº› Markdown æˆ– Mdx å†…å®¹ï¼Œå°†å…¶è½¬æ¢ä¸ºæˆ‘ä»¬ç½‘ç«™ä¸Šçš„é¡µé¢ï¼Œå¹¶ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›ä¸é”™çš„åŸºç¡€ç»„ä»¶å’Œæ ·å¼ã€‚

åœ¨ç¬¬äºŒç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†ä¸»é¢˜ä¸­æœ‰å“ªäº›é€‰é¡¹ï¼Œå¦‚ä½•ç”¨å¯ç”¨çš„é€‰é¡¹å®šåˆ¶ä¸»é¢˜ï¼Œä»¥åŠåœ¨ä¸»é¢˜å†…éƒ¨çš„ä»€ä¹ˆåœ°æ–¹å¯ä»¥æ‰¾åˆ°å¯ç”¨çš„é€‰é¡¹ä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™äº›é€‰é¡¹ã€‚

å¦‚æœä½ è¿˜æ²¡æœ‰ä½¿ç”¨ä½ çš„ç¬¬ä¸€ä¸ªç›–èŒ¨æ¯”ä¸»é¢˜ä»ç³»åˆ—[çš„å¼€å§‹é˜…è¯»ï¼Œä½ å¯èƒ½æƒ³åœ¨ç»§ç»­ä¹‹å‰é˜…è¯»ã€‚](https://dev.to/hagnerd/using-your-first-gatsby-theme-hep)

* * *

## [](#what-are-we-going-to-discuss-today)æˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºä»€ä¹ˆï¼Ÿ

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ”¹å˜`gatsby-theme-blog`ä¸­çš„ä¸€äº›é€‰é¡¹æ¥å®šåˆ¶æˆ‘ä»¬çš„ Gatsby ç½‘ç«™ã€‚

åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºã€Šç›–èŒ¨æ¯”ã€‹ä¸­é˜´å½±æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•åœ¨ä¸»é¢˜ä¸­æ‰¾åˆ°å¯ä»¥è¢«é˜´å½±ç¬¼ç½©çš„ä¸œè¥¿ã€‚

å¦‚æœä½ æƒ³çœ‹åˆ°è¿™ä¸€éƒ¨åˆ†çš„å®Œæ•´ä»£ç ï¼Œä½¿ç”¨ Github ä¸Šçš„ Gatsby ä¸»é¢˜é€‰é¡¹ Pt 2 æ£€æŸ¥åˆ†æ”¯[ã€‚](https://github.com/hagnerd/first-gatsby-theme-demo/tree/using-gatsby-theme-options-pt-2)

* * *

## [](#changing-the-base-url-of-our-blog)æ›´æ”¹æˆ‘ä»¬åšå®¢çš„åŸºæœ¬ç½‘å€

ç°åœ¨ï¼Œæˆ‘ä»¬çš„åšå®¢ç´¢å¼•ï¼Œå³å‘ˆç°åšå®¢æ–‡ç« åˆ—è¡¨çš„é¡µé¢ï¼Œå‘ˆç°åœ¨æˆ‘ä»¬çš„æ ¹è·¯å¾„â€œ/â€å¤„ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦å°†åšå®¢æ·»åŠ åˆ°ç°æœ‰ç½‘ç«™ï¼Œæˆ–è€…å¦‚æœæˆ‘ä»¬æƒ³è¦å°†å…¶ä»–å†…å®¹ä½œä¸ºæˆ‘ä»¬çš„ä¸»é¡µï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

å¹¸è¿çš„æ˜¯ï¼Œè¿™å¾ˆå®¹æ˜“æ”¹å˜ã€‚

å¦‚æœä½ è¿˜è®°å¾—çš„è¯ï¼Œ`gatsby-theme-blog`æœ‰ä¸€äº›æˆ‘ä»¬å¯ä»¥æ”¹å˜çš„é€‰é¡¹ã€‚å…¶ä¸­ä¸€ä¸ªæ˜¯åä¸º`basePath`çš„ç‰©ä¸šã€‚è¿™ä¸ª`basePath`å†³å®šäº†æˆ‘ä»¬åšå®¢å†…å®¹çš„åŸºæœ¬ URLã€‚é»˜è®¤å€¼æ˜¯`/`ï¼Œä½†æ˜¯è®©æˆ‘ä»¬ç»§ç»­å°†å®ƒæ›´æ”¹ä¸º`/blog`ã€‚

æ‰“å¼€ gatsby-config.js

```
// gatsby-config.js
module.exports = {
  plugins: [
    {
      resolve: 'gatsby-theme-blog',
      options: {
        basePath: '/blog',
      }
    }
  ]
} 
```

è¿™å°†ä½¿åšå®¢ç´¢å¼•åœ¨`'/blog'`å‘ˆç°ï¼Œå¹¶ä½¿åšå®¢æ–‡ç« åœ¨`'/blog/:slug'`å‘ˆç°ï¼Œå…¶ä¸­`:slug`è¢«æ›¿æ¢ä¸ºä½ çš„æ ‡é¢˜çš„ç®€åŒ–ç‰ˆæœ¬ã€‚

> å½“æ‚¨å°†æ‰€æœ‰å­—ç¬¦è®¾ç½®ä¸ºå°å†™å¹¶å°†ä»»ä½•ä¸åœ¨ a-z æˆ– 0-9 ä¹‹é—´çš„å­—ç¬¦æ›´æ”¹ä¸ºâ€œ-â€æ—¶ï¼Œé€šå¸¸ç§°ä¹‹ä¸º slugifyingã€‚

ä¸Šæ¬¡æˆ‘ä»¬æŠŠ`src/pages/index.js`é¡µé¢æ”¹æˆäº†`/src/pages/_index.js`ï¼Œè¿™æ · Gatsby å°±ä¸ä¼šè¯•å›¾ç”¨æˆ‘ä»¬çš„ç´¢å¼•é¡µé¢æ¥ä»£æ›¿æˆ‘ä»¬çš„åšå®¢ç´¢å¼•ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»åœ¨ä¸åŒçš„è·¯å¾„ä¸‹æ¸²æŸ“äº†åšå®¢ï¼Œè®©æˆ‘ä»¬æŠŠæ–‡ä»¶åæ”¹å›`index.js`ã€‚

```
mv src/pages/_index.js src/pages/index.js 
```

æˆ‘ä»¬è¿˜æƒ³æ·»åŠ ä¸€ä¸ªå¯¼èˆªç»„ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è¿›å…¥æˆ‘ä»¬çš„ä¸»é¡µå’Œåšå®¢é¡µé¢ã€‚

è®©æˆ‘ä»¬é¦–å…ˆåœ¨`src`ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª`components`ç›®å½•ã€‚ç„¶åæˆ‘ä»¬å°†åˆ¶ä½œä¸¤ä¸ªæ–°ç»„ä»¶ï¼Œ`layout`å’Œ`navigation`ã€‚

```
mkdir src/components
touch src/components/{layout,navigation}.js 
```

> ä»¥æˆ‘ä½¿ç”¨ Gatsby çš„ç»éªŒï¼Œæˆ‘æ€»æ˜¯éœ€è¦ä¸€ä¸ªé€šç”¨çš„é¡µé¢å¸ƒå±€ï¼Œæˆ–è€…ä¸ºä¸åŒç±»å‹çš„é¡µé¢è®¾è®¡ä¸€äº›ä¸åŒçš„å¸ƒå±€ã€‚ä½ æœ‰æ—¶ä¼šçœ‹åˆ°è¿™äº›äººç”Ÿæ´»åœ¨`src/templates`æˆ–`src/components`ã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯æˆ‘è¯•å›¾åšæŒåœ¨`src/components`ä¸­ä¿ç•™å½±å“æ ‡è®°å’Œæ ·å¼çš„å¸ƒå±€ï¼Œå¹¶ä¸”åªåœ¨å°†ç¼–ç¨‹é¡µé¢çš„æ•°æ®éœ€æ±‚ç»‘å®šåˆ°ä¸€ä¸ªå¯è§†ç»„ä»¶æˆ–ä¸€ç»„å¯è§†ç»„ä»¶æ—¶ä½¿ç”¨`src/templates`ã€‚

```
// src/pages/index.js
import React from 'react'
import Layout from '../components/layout'

export default function HomePage() {
  return (
    <Layout>
      <h1>Welcome!</h1>
      <p>
        Hello, from Gatsby{"  "}
        <span role="img" aria-label="hand emoji waving hello">
          ğŸ‘‹
        </span>
      </p>
    </Layout>
  )
}

/////////////////////////////////////////
// src/components/layout.js

import React from 'react'
import Navigation from './navigation'

export default function Layout({ children }) {
  return (
    <>
     <Navigation />
      <main>
       {children}
      </main>
    </>
  )
}

/////////////////////////////////////////
// src/components/navigation.js

import React from 'react'
import { Link } from 'gatsby'

export default function Navigation() {
  return (
    <nav>
      <ul>
        <li><Link to="/">Home</Link></li>
        <li><Link to="/blog">Blog</Link></li>
      </ul>
    </nav>
  )
} 
```

å½“æˆ‘ä»¬å¼€å§‹æˆ‘ä»¬çš„ç›–èŒ¨æ¯”ç½‘ç«™æ—¶ï¼Œæœ‰ä¸€äº›äº‹æƒ…éœ€è¦æ³¨æ„:1)å®ƒçœŸçš„å¾ˆä¸‘ï¼Œ2)å¯¼èˆªåœ¨ä¸»é¡µä¸Šï¼Œè€Œä¸æ˜¯åœ¨åšå®¢é¡µé¢ä¸Š:(æ‰«å…´ã€‚

[![](../Images/fc0e6bf33b1d14487093dc34cf285c16.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--M7s_6Wxe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/et1ygkg90nlbz7na6gpf.gif)

è¦è§£å†³é—®é¢˜ä¸€ï¼Œåªè¦ä½¿ç”¨ä½ æœ€å–œæ¬¢çš„æ ·å¼æ–¹æ³•ï¼Œæ— è®ºæ˜¯ CSS-in-JSï¼ŒCSS æ¨¡å—ï¼ŒSass ç­‰ç­‰ã€‚æˆ‘ä¸ä¼šè§¦åŠä¸€èˆ¬çš„é£æ ¼ï¼Œå› ä¸ºè¿™è¶…å‡ºäº†æœ¬ç³»åˆ—çš„èŒƒå›´ã€‚å¦‚æœä½ æœ‰å…´è¶£å­¦ä¹ ä¸åŒçš„æ–¹å¼æ¥è®¾è®¡ä½ çš„ç›–èŒ¨æ¯”ç½‘ç«™ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå†™ä¸€ç¯‡æ–‡ç« ã€‚

ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»å­¦ä¹ å¦‚ä½•éšè—ç»„ä»¶ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºä»€ä¹ˆæ˜¯é˜´å½±ã€‚

* * *

## [](#next-up)æ¥ä¸‹æ¥

å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¾ˆæœ‰ç”¨ï¼Œå¹¶æƒ³ä»è¿™ä¸ªç³»åˆ—ä¸­çœ‹åˆ°æ›´å¤šï¼Œè¯·ç•™ä¸‹ä½ çš„ååº”æˆ–è¯„è®ºã€‚æˆ‘è¯•å›¾æ‰¾åˆ°æ¯ç¯‡æ–‡ç« çš„æ­£ç¡®é•¿åº¦å’Œæ·±åº¦ï¼Œæ‰€ä»¥å¦‚æœä½ è®¤ä¸ºè¿™ä¸ªé•¿åº¦å¤ªçŸ­ï¼Œè¯·å‘Šè¯‰æˆ‘

åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ä»€ä¹ˆæ˜¯é˜´å½±ï¼Œä¸ºä»€ä¹ˆå®ƒå¦‚æ­¤å¼ºå¤§ï¼Œä»¥åŠç›–èŒ¨æ¯”å¦‚ä½•è§£å†³é˜´å½±å†…å®¹ã€‚