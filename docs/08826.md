# PHP -ä¼˜é›…çš„æ–¹æ³•è°ƒç”¨

> åŸæ–‡ï¼š<https://dev.to/suddenlyrust/php-elegant-method-call-2hlf>

æˆ‘ç»å¸¸å‘ç°è‡ªå·±å¤„äºè¿™æ ·ä¸€ç§æƒ…å†µ:åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæˆ‘åªæœ‰ä¸€ä¸ªå…¬å…±æ–¹æ³•ï¼Œå¹¶ä¸”æƒ³è¦è°ƒç”¨å®ƒã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‘ç‰¹å®šç”¨æˆ·å‘é€é‚®ä»¶çš„ç±»

```
class SendMail
{
    public function handle(User $user)
    {
        //
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬å¯ä»¥è°ƒç”¨å¦‚ä¸‹æ–¹æ³•

```
(new SendMail)->handle($this->user); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½†æ˜¯æˆ‘ä¸å–œæ¬¢å¯åŠ¨ä¸€ä¸ªæ–°å¯¹è±¡çš„å™ªéŸ³ã€‚æˆ–è®¸æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå—ï¼ŸğŸ¤”

å¦‚æœæˆ‘ä»¬åŒ…å«ä¸€ä¸ªå°å°çš„ PHP-Magic âœ¨ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªé™æ€å‡½æ•°ï¼Œä¸ºæˆ‘ä»¬åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨æ–¹æ³•ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿåƒè¿™æ ·

```
class SendMail
{
    public function handle(User $user)
    {
        //
    }

    public static function execute(User $user)
    {
        (new static)->handle($user);
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æœ‰äº†æ–°çš„é™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è¿™æ ·è°ƒç”¨å®ƒ

```
SendMail::execute($this->user); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¥½å“‡ğŸ™Œè¿™ä¸ªåœ¨æˆ‘çœ¼é‡Œçœ‹èµ·æ¥å¹²å‡€å¤šäº†ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ç°åœ¨è¦è¿™ä¹ˆéº»çƒ¦å‘¢ï¼ŸğŸ™„

```
(new SendMail)->handle($this->user);
// vs
SendMail::execute($this->user); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ä¸¤è¡Œåšäº†åŒæ ·çš„äº‹æƒ…ï¼Œå—è¿‡è®­ç»ƒçš„è¯»è€…ç°åœ¨ä¼šé—®ä¸ºä»€ä¹ˆä¸ç›´æ¥æ‰§è¡Œé™æ€æ–¹æ³•ä¸­çš„ä»£ç ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚æ ¹æ®åŠŸèƒ½çš„ä¸åŒï¼Œæ²¡æœ‰å¿…è¦è¿™æ ·åšã€‚ç„¶è€Œï¼Œæ ¹æ®æˆ‘çš„ç»éªŒï¼Œå¤§å¤šæ•°å‡½æ•°å¹¶ä¸åƒæˆ‘ä»¬çš„ä¾‹å­é‚£æ ·ç®€å•ã€‚

æˆ‘å¼•èµ·ä½ çš„å…´è¶£äº†å—ï¼Ÿè¯•ä¸€è¯•å§ã€‚ä¹Ÿè®¸ä½ ä¹Ÿå–œæ¬¢å®ƒğŸ˜‰

ç¼–è¾‘:
æ„Ÿè°¢å¤§å®¶çš„åé¦ˆğŸ‘Œdev.to çœŸçš„å¾ˆæ£’ğŸ˜

æˆ‘åœ¨æœ¬æ–‡ä¸­ä¸¾äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼Œå¹¶åœ¨ä¸‹é¢çš„è¯„è®º[https://dev.to/suddenlyrust/comment/e58i](https://dev.to/suddenlyrust/comment/e58i)ä¸­è¿›ä¸€æ­¥è§£é‡Šäº†ä½•æ—¶ä½¿ç”¨è¿™ç§æ¨¡å¼