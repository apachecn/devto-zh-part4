# webhunt ç°åœ¨å¯ä»¥åˆ†æå—å¯†ç ä¿æŠ¤çš„ç½‘ç«™

> åŸæ–‡:[https://dev . to/web hint/web hint-can-now-analyze-password-protected-sites-2p4i](https://dev.to/webhint/webhint-can-now-analyze-password-protected-sites-2p4i)

### [](#analyzing-passwordprotected-sites-with-webhint)ä½¿ç”¨ webhint åˆ†æå—å¯†ç ä¿æŠ¤çš„ç«™ç‚¹

è¯¥å›¢é˜Ÿæ”¶åˆ°çš„ä¸¤ä¸ªæœ€å—æ¬¢è¿çš„åŠŸèƒ½æ˜¯åœ¨ Chrome ä»¥å¤–çš„æµè§ˆå™¨ä¸­è¿è¡Œ webhint å’Œåˆ†æå¯†ç ä¿æŠ¤ç½‘ç«™çš„èƒ½åŠ›ã€‚ç›´åˆ°æœ€è¿‘è¿™è¿˜æ˜¯ä¸å¯èƒ½çš„ï¼Œä½†æ˜¯äº‹æƒ…å·²ç»æ”¹å˜äº†ï¼

æœ€æ–°ç‰ˆæœ¬çš„ webhint å¸¦æœ‰æ–°çš„è¿æ¥å™¨-puppeterï¼Œå®ƒå…è®¸ webhint ä¸ä»»ä½•å®ç°ç”±[puppeter](http://pptr.dev)ä½¿ç”¨çš„è°ƒè¯•åè®®å­é›†çš„æµè§ˆå™¨å¯¹è¯ã€‚ç°åœ¨ï¼Œè¿™æ˜¯ä»»ä½•ç°ä»£çš„åŸºäº Chromium çš„æµè§ˆå™¨ï¼Œä½†æ˜¯ [Firefox åœ¨ä¸ä¹…çš„å°†æ¥ä¹Ÿä¼šæ”¯æŒå®ƒ](https://bugzilla.mozilla.org/show_bug.cgi?id=1545057)ğŸ‘ã€‚

è¿™ä¸ªæ–°è½¯ä»¶åŒ…æœ‰ä¸€äº›ä¸é”™çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå®ƒä¼šè‡ªåŠ¨æœç´¢ä¸€ä¸ªæœ‰æ•ˆçš„åŸºäº Chromium çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚æœä½ å®‰è£…äº†å¤šä¸ªï¼Œä¼˜å…ˆçº§æ˜¯ Chrome > Chromium > Edgeã€‚

å¦‚æœæ‚¨æƒ³è¦æŒ‡å®šä¸€ä¸ªï¼Œæ‚¨æœ‰ä¸¤ä¸ªé€‰é¡¹:

1.  ä½¿ç”¨æµè§ˆå™¨é€‰é¡¹å’Œä¸€ä¸ªå¿«æ·é”®:

```
{
  "connector": {
    "name": "puppeteer",
    "options": {
      "browser": "Chrome|Chromium|Edge"
    }
  },
  ...
} 
```

1.  é€šè¿‡ puppeter-options ç›´æ¥æŒ‡å®šå¯æ‰§è¡Œè·¯å¾„:

```
{
  "connector": {
    "name": "puppeteer",
    "options": {
      "puppeteer-options": {
        "executablePath": "path/to/browser"
      }
    }
  },
  ...
} 
```

è¿æ¥å™¨æ”¯æŒæ›´å¤šé…ç½®(æŸ¥çœ‹æœ¬é¡µä¸Šçš„[æ‰€æœ‰é…ç½®)ï¼Œä½†æœ€ä»¤äººå…´å¥‹çš„å¯èƒ½æ˜¯åˆ†æå¯†ç ä¿æŠ¤ç½‘ç«™ğŸ•µçš„å¯èƒ½æ€§ğŸ½â€â™€ï¸.](https://webhint.io/docs/user-guide/connectors/connector-puppeteer/)

### æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ webhint åˆ†æå—å¯†ç ä¿æŠ¤çš„ç½‘ç«™

è¿™æ˜¯æœ€å—æ¬¢è¿çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè™½ç„¶æœ‰æ—¶æœ‰ä¸€äº›é»‘å®¢è®©å®ƒå·¥ä½œï¼Œä½†ä½“éªŒè¿œéç†æƒ³ã€‚

è¿™èŠ±è´¹äº†æˆ‘ä»¬æ¯”é¢„æœŸæ›´å¤šçš„æ—¶é—´ï¼Œä½†å¯¹è¿™ä¸€åŠŸèƒ½çš„æ”¯æŒç»ˆäºç™»é™†äº†ï¼Œæˆ‘ä»¬éå¸¸å…´å¥‹ï¼ğŸ‰

ä¸ºäº†æµ‹è¯•å®ƒï¼Œæ‚¨éœ€è¦æä¾›ç”¨æˆ·ã€å¯†ç ã€è¾“å…¥é€‰æ‹©å™¨ï¼Œå¹¶åœ¨æ‚¨çš„[ä¸­æäº¤è¾“å…¥é€‰æ‹©å™¨ã€‚hintrc æ–‡ä»¶](https://webhint.io/docs/user-guide/configuring-webhint/summary/) :

```
{
    "connector": {
        "name": "puppeteer",
        "options": {
            "auth": {
                "user": {
                    "selector": "string",
                    "value": "string"
                },
                "password": {
                    "selector": "string",
                    "value": "string"
                },
                "submit": {
                    "selector": "string"
                }
            }
        }
    },
    ...
} 
```

webhint å°†:

1.  å¯¼èˆªåˆ°ä½ çš„ç›®æ ‡ URL([https://example.com](https://example.com))/secured)ï¼Œå®ƒåº”è¯¥é‡å®šå‘åˆ°ä¸€ä¸ªç™»å½•é¡µé¢(ã€https://example.com/loginã€‘T2)ï¼Œ
2.  ä½¿ç”¨ auth å±æ€§ä¸­æä¾›çš„ä¿¡æ¯æ¥å¡«å†™è¡¨å•å¹¶æäº¤å®ƒï¼Œä»¥åŠ
3.  åˆ†ææäº¤è¡¨å•å¯¼èˆªåå‡ºç°çš„é¡µé¢([https://example.com/secured](https://example.com/secured))ã€‚

[![](img/6ebb6a9553dea93402c058135e3be28f.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--UnkHkipg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/720/1%2Ab4LW4Qq3h9HyWY9_pAli-Q.png) 

<figcaption>GitHub çš„ç™»å½•è¡¨å•</figcaption>

å¦‚æœä½ çš„ç½‘ç«™ä½¿ç”¨åŸºæœ¬çš„ HTTP è®¤è¯ï¼Œé‚£ä¹Ÿæ˜¯å—æ”¯æŒçš„ï¼ç”¨æˆ·å’Œå¯†ç å­—æ®µåªèƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²:

```
{
    "connector": {
        "name": "puppeteer",
        "options": {
            "auth": {
                "user": "string",
                "password": "string"
            }
        }
    },
    ...
} 
```

#### [](#how-do-i-integrate-auth-in-ci-without-writing-the-credentials)å¦‚ä½•åœ¨ä¸å†™å‡­è¯çš„æƒ…å†µä¸‹å°† auth é›†æˆåˆ° CI ä¸­ï¼Ÿ

ä¼—æ‰€å‘¨çŸ¥ï¼Œå°†æ‚¨çš„å‡­è¯å­˜å‚¨åœ¨çº¯æ–‡æœ¬æ–‡ä»¶ä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚ä» webhint v5.1.0 å¼€å§‹ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’ç‰¹å®šçš„é…ç½®ã€‚ä¾‹å¦‚:

web hint _ connector _ options _ auth _ user _ value = John doe

web hint _ connector _ options _ auth _ password _ value = P @ ss w0 rdï¼

è¢«è½¬æ¢æˆ:

```
{
    "connector": {
        "options": {
            "auth": {
                "user": {                    
                    "value": "string"
                },
                "password": {                  
                    "value": "string"
                }
            }
        }
    }
} 
```

ç„¶åï¼Œå®ƒå°†ä¸ã€‚hintrc æ–‡ä»¶ã€‚(å¯¹äºè¿™ç§ç‰¹æ®Šæƒ…å†µï¼Œæ‚¨çš„ã€‚hintrc æ–‡ä»¶åº”è¯¥æœ‰é€‰æ‹©å™¨ã€‚)

ä¸­å®šä¹‰çš„å±æ€§ã€‚åœ¨é‡å¤æƒ…å†µä¸‹ï¼Œhintrc æ–‡ä»¶æ¯”ç¯å¢ƒå˜é‡ä¸­çš„æ–‡ä»¶å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚

[Azure Pipelines æœ‰ secrets çš„æ¦‚å¿µ](https://docs.microsoft.com/en-us/azure/devops/pipelines/process/variables?view=azure-devops&tabs=yaml%2Cbatch#secret-variables)ï¼Œ [Travis CI æœ‰åŠ å¯†çš„ç¯å¢ƒå˜é‡](https://docs.travis-ci.com/user/environment-variables/#defining-encrypted-variables-in-travisyml)ï¼Œå…¶ä»– CI ç³»ç»Ÿä¹Ÿæœ‰ç±»ä¼¼çš„ç‰¹æ€§ï¼Œä¸€å®šè¦ä½¿ç”¨å®ƒä»¬ä¸è¦æ³„éœ²ä»»ä½•ä¿¡æ¯ï¼

#### [](#how-can-i-run-a-quick-test)å¦‚ä½•è¿›è¡Œå¿«é€Ÿæµ‹è¯•ï¼Ÿ

æœ€å¿«çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªç±»ä¼¼ä¸Šé¢çš„. hintrc æ–‡ä»¶ï¼Œå¹¶é€šè¿‡ npx:
è¿è¡Œ webhint

```
npx hint https://mysecuresite.com/secure/page 
```

æ‚¨åº”è¯¥çœ‹åˆ°æ‚¨çš„æµè§ˆå™¨æ‰“å¼€ï¼Œè®¤è¯ï¼Œå¹¶å¯¼èˆªåˆ°æœ€ç»ˆçš„ç½‘å€ã€‚

### æˆ‘ä»¬éœ€è¦æ‚¨çš„åé¦ˆï¼

è¯·è®©æˆ‘ä»¬çŸ¥é“æ‚¨å¯¹è¿™é¡¹æ–°åŠŸèƒ½çš„çœ‹æ³•ï¼Œä»¥åŠæˆ‘ä»¬å¯ä»¥åœ¨å“ªäº›æ–¹é¢è¿›è¡Œæ”¹è¿›ã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªå¸–å­é‡Œåˆ†äº«ä½ çš„æƒ³æ³•ï¼Œ [GitHub](https://github.com/webhintio/hint/issues/new/choose) ï¼Œ [Twitter](https://twitter.com/webhintio) æˆ–è€… [Gitter](https://gitter.im/webhintio/Lobby) ã€‚

è°¢è°¢å¤§å®¶ï¼ğŸ™

* * *