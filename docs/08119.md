# è½¦è¾†è·¯å¾„é—®é¢˜åŠå…¶æ±‚è§£æ–¹æ³•

> åŸæ–‡:[https://dev . to/IED MRC/vehicle-routing-problems-and-how-to-solve-them-8 H3](https://dev.to/iedmrc/vehicle-routing-problems-and-how-to-solve-them-8h3)

# [](#vehicle-routing-problems)è½¦è¾†è·¯å¾„é—®é¢˜

* * *

[è½¦è¾†è·¯å¾„é—®é¢˜(VRP)](https://en.wikipedia.org/wiki/Vehicle_routing_problem) åœ¨ç‰©æµä¸­æ˜¯å¿…ä¸å¯å°‘çš„ã€‚é¡¾åæ€ä¹‰ï¼Œå½“æˆ‘ä»¬åœ¨ä»»ä½•åœ°å›¾ä¸Šæœ‰ ***N è¾†è½¦*** è¦è®¿é—® ***M ä¸ªèŠ‚ç‚¹*** æ—¶ï¼Œè½¦è¾†è·¯å¾„é—®é¢˜å°±å­˜åœ¨äº†ã€‚

[![A figure illustrating the vehicle routing problem - Wikipedia](../Images/765d8d99d5ba66ddf61f032eab01888c.png "A figure illustrating the vehicle routing problem - Wikipedia")](https://res.cloudinary.com/practicaldev/image/fetch/s--MKsT6Jkm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://upload.wikimedia.org/wikipedia/commons/2/2b/Figure_illustrating_the_vehicle_routing_problem.png) 
*ä¸€å¼ å›¾è¯´æ˜äº†è½¦è¾†è·¯å¾„é—®é¢˜*

æˆ‘ä»¬å¯ä»¥è¯´ VRP æ˜¯æ—…è¡Œå•†é—®é¢˜çš„å­é›†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

CVRPï¼ŒVRPTW âŠ† SVRPï¼ŒDVRP âŠ† VRP âŠ† TSP âŠ†å›¾è®º

**CVRP** :å¦‚æœä½ çš„è½¦è¾†å—åˆ°ä»»ä½•å®¹é‡(ä¾‹å¦‚æœ€å¤§è£…è½½é™åˆ¶)çº¦æŸï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸º*æœ‰å®¹é‡é™åˆ¶çš„è½¦è¾†è·¯å¾„é—®é¢˜(CVRP)*

**VRPTW** :å¦‚æœä½ çš„è½¦è¾†æœ‰å·¥ä½œæ—¶é—´é™åˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸º*æœ‰æ—¶é—´çª—çš„è½¦è¾†è·¯å¾„é—®é¢˜(VRPTW)*

**SVRP** :å¦‚æœè®¿é—®ç‚¹(èŠ‚ç‚¹)ç»™å®šï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸º*é™æ€è½¦è¾†è·¯å¾„é—®é¢˜*

**DVRP** :å¦‚æœè®¿é—®ç‚¹(èŠ‚ç‚¹)æ˜¯åœ¨åœ°å›¾ä¸Šè¯•å›¾è§£å†³æˆ–ç§»åŠ¨æ—¶å‡ºç°çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸º*åŠ¨æ€è½¦è¾†è·¯å¾„é—®é¢˜*

è¿·èŒ«ï¼ŸğŸ¤”

[![A map showing the relationship between common VRP subproblems. - Wikipedia](../Images/bb1683bbcf8f55d357aba0dbf4aad129.png "A map showing the relationship between common VRP subproblems. - Wikipedia")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--oKcoDYhG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://upload.wikimedia.org/wikipedia/commons/2/29/Map_of_vrp_subproblems.jpg)

è¿™æ˜¯ä¸€å¼ åœ°å›¾ï¼Œæ˜¾ç¤ºäº†å¸¸è§çš„ VRP å­é—®é¢˜ä¹‹é—´çš„å…³ç³»ï¼Œæ¥è‡ªç»´åŸºç™¾ç§‘ã€‚

# [](#graph-theory-and-vrp-solvers)å›¾è®ºå’Œ VRP æ±‚è§£å™¨

* * *

ä¸»è§’æ˜¯*å›¾è®º*ã€‚è¿™ä¸€åˆ‡éƒ½å§‹äºå‘æ¬§æ‹‰æå‡ºçš„â€œ*æŸ¯å°¼æ–¯å ¡ä¸ƒæ¡¥*â€[é—®é¢˜](https://en.wikipedia.org/wiki/Seven_Bridges_of_K%C3%B6nigsberg)ã€‚
ä»Šå¤©ï¼Œæˆ‘ä»¬è¦é—®ä¸€äº›æ›´å¤æ‚çš„é—®é¢˜ï¼Œæ¯”å¦‚"*æ‰€æœ‰çš„åŒ…è£¹æ˜¯å¦‚ä½•ä»¥æœ€é«˜æ•ˆçš„æ–¹å¼é€è¾¾ç›®çš„åœ°çš„ï¼Ÿ*â€ã€‚

æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥è§£å†³ VRPã€‚ ***å¯å‘å¼*** ï¼Œ ***æ„é€ æ–¹æ³•*** ï¼Œ ***ä¸¤é˜¶æ®µç®—æ³•*** ï¼Œ ***å…ƒå¯å‘å¼*** ç­‰ç­‰éƒ½æ˜¯ VRP çš„é€šç”¨æ–¹æ³•ã€‚æ›´å¤šä¿¡æ¯è§[æ­¤å¤„](http://neo.lcc.uma.es/vrp/solution-methods/)ã€‚

ä»Šå¤©ï¼Œæˆ‘ä»¬æœ‰è¶³å¤Ÿçš„è®¡ç®—èƒ½åŠ›æ¥è¿è¡Œè¿­ä»£è§£å†³æ–¹æ¡ˆæˆ–ä¼˜åŒ–å™¨ï¼Œåœ¨ç”¨è®¡ç®—æœºè§£å†³ VRP æ—¶éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚

# [](#real-world-map-routes-and-solving-on)ç°å®ä¸–ç•Œåœ°å›¾ï¼Œè·¯çº¿å’Œæ±‚è§£

* * *

## [](#open-street-map)æ‰“å¼€è¡—é“åœ°å›¾

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»æè¿°äº†è¿™ä¸ªé—®é¢˜å¹¶ä»‹ç»äº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç°å®ä¸–ç•Œåœ°å›¾ä¸Šçš„é“è·¯å’Œè·¯çº¿å‘¢ï¼Ÿäººä»¬å¯ä»¥æƒ³åˆ°*è°·æ­Œåœ°å›¾*ã€ *Yandex åœ°å›¾*ã€ *HERE åœ°å›¾*ç­‰..å®ƒä»¬éƒ½å¾ˆå¥½ï¼Œä½†ä¹Ÿå¾ˆå•†ä¸šåŒ–ã€‚æ„Ÿè°¢[***OpenStreetMap(OSM)***](https://wiki.openstreetmap.org/wiki/Main_Page)å’Œç¤¾åŒºï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªéå¸¸å¤§ä¸”æœ‰ç”¨çš„çœŸå®ä¸–ç•Œåœ°å›¾ï¼Œæ¯å‘¨éƒ½ä¼šæ›´æ–°ã€‚

## [](#open-source-routing-machine)å¼€æºè·¯ç”±æœº

OpenStreetMap åªæä¾›çœŸå®ä¸–ç•Œçš„åœ°å›¾ï¼Œè€Œä¸æ˜¯è·¯çº¿ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…¶ä»–ä¸œè¥¿æ¥ç»™æˆ‘ä»¬è·¯çº¿ã€è·ç¦»ã€æŒç»­æ—¶é—´ç­‰ç­‰..å“¦ï¼Œé‚£æ˜¯ä»€ä¹ˆ [***å¼€æºè·¯ç”±æœº(OSRM)***](http://map.project-osrm.org/) ï¼Ÿä½ çŒœå¯¹äº†ï¼Œæˆ‘ä»¬çƒ­çˆ±è‡ªç”±è½¯ä»¶ï¼ ***OSRM*** ä½¿ç”¨ *OpenStreetMap* ä½œä¸º(åœ°å›¾)åç«¯ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§:

*   **æœ€è¿‘çš„** -å°†åæ ‡æ•æ‰åˆ°è¡—é“ç½‘ç»œå¹¶è¿”å›æœ€è¿‘çš„åŒ¹é…
*   **è·¯çº¿** -å¯»æ‰¾åæ ‡é—´æœ€å¿«çš„è·¯çº¿
*   **è¡¨** -è®¡ç®—æ‰€æœ‰åæ ‡å¯¹ä¹‹é—´æœ€å¿«è·¯çº¿çš„æŒç»­æ—¶é—´æˆ–è·ç¦»
*   **åŒ¹é…** -ä»¥æœ€åˆç†çš„æ–¹å¼å°†å˜ˆæ‚çš„ GPS è½¨è¿¹æ•æ‰åˆ°é“è·¯ç½‘ç»œä¸­
*   **Trip** -ä½¿ç”¨è´ªå©ªå¯å‘å¼ç®—æ³•è§£å†³æ—…è¡Œæ¨é”€å‘˜é—®é¢˜
*   **å›¾å—** -ä½¿ç”¨å†…éƒ¨è·¯ç”±å…ƒæ•°æ®ç”Ÿæˆåœ°å›¾æ¡†çŸ¢é‡å›¾å—

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æ‰€æœ‰èŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„ï¼Œç„¶åè¿è¡Œ VRP æ±‚è§£ç®—æ³•æ¥ä¼˜åŒ–(æœ€å¿«æˆ–æœ€çŸ­)èŠ‚ç‚¹è·¯å¾„åºåˆ—ã€‚

ä½†æ˜¯ç­‰ç­‰ï¼è¯·ç»™æˆ‘æ›´å¤šçš„å¼€æºï¼ğŸ˜‚

## [](#vehicle-routing-opensource-optimization-machine)è½¦è¾†è·¯å¾„å¼€æºä¼˜åŒ–æœº

[***è½¦è¾†è·¯å¾„å¼€æºä¼˜åŒ–æœº(VROOM)***](http://vroom-project.org) æ˜¯ä¸€ä¸ª VRP æ±‚è§£å™¨ã€‚å®ƒä½¿ç”¨ OSRM æˆ–[***OpenRouteService(OSR)***](https://openrouteservice.org/)ä½œä¸ºåç«¯è·å–è·¯çº¿å¹¶è¿”å›è§£å†³ *CVRP* ã€ *VRPTW* ã€ *CVRPTW* é—®é¢˜çš„æ–¹æ¡ˆã€‚å®ƒä¹Ÿæœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç”¨æˆ·ç•Œé¢(å‰ç«¯)æ¥æ˜¾ç¤ºåœ°å›¾ä¸Šçš„è½¦è¾†ï¼ŒèŠ‚ç‚¹å’Œè·¯çº¿ã€‚

ä½ åº”è¯¥æ³¨æ„åˆ°ï¼ŒVROOM çš„ç›®æ ‡æ˜¯ä¼˜åŒ–*æ€»æŒç»­æ—¶é—´*ï¼Œè€Œä¸æ˜¯*æ€»è·ç¦»*ã€‚å› æ­¤ï¼Œæ‚¨å¯èƒ½éœ€è¦æ‰¾åˆ°å¦ä¸€ä¸ªå¼€æºè§£å†³æ–¹æ¡ˆæˆ–ç¼–å†™è‡ªå·±çš„è§£å†³æ–¹æ¡ˆæ¥è®¡ç®—æœ€çŸ­è·¯å¾„ã€‚

# [](#talk-is-cheap-show-me-the-code)è¯´è¯ä¾¿å®œç»™æˆ‘çœ‹ä»£ç ï¼

* * *

## [](#preparing-dependencies-in-the-traditional-way)ä»¥ä¼ ç»Ÿæ–¹å¼å‡†å¤‡ä¾èµ–å…³ç³»

ä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰ç å¤´å·¥äººã€‚å»ºè®®ä½ è·³éä¼ ç»Ÿã€‚

### [](#running-osrm-with-an-osm-map)æ‹¿ç€ OSM åœ°å›¾è·‘ OSRM

è¦ä¸ºæ‚¨çš„æ“ä½œç³»ç»Ÿå’Œæ¶æ„æ„å»º OSRMï¼Œè¯·éµå¾ªæœ¬æŒ‡å—ã€‚

ç„¶åï¼Œä½ éœ€è¦ä¸‹è½½ä¸€å¼  OSM åœ°å›¾ï¼Œå¹¶ä¸º OSRM è¿›è¡Œå¤„ç†ã€‚æ¥ä¸‹æ¥ï¼Œæ‚¨å¯ä»¥è¿è¡Œ OSRM åç«¯ã€‚éµå¾ª[è¿™ä¸ªæŒ‡å—](https://github.com/Project-OSRM/osrm-backend/wiki/Running-OSRM)æ¥å®ç°å®ƒä»¬ã€‚

### [](#running-vroom-backend-and-exposing-the-api)è¿è¡Œ VROOM åç«¯å¹¶å…¬å¼€ API

æ ¹æ®æœ¬æŒ‡å—ä¸­çš„[å…‹éš†å¹¶æ„å»º VROOMã€‚ç¡®ä¿æ‚¨çš„è·¯å¾„ä¸­æœ‰`vroom`äºŒè¿›åˆ¶æ–‡ä»¶(ç¯å¢ƒå˜é‡)ã€‚](https://github.com/VROOM-Project/vroom/wiki/Building)

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¸¦åœ°å›¾çš„è·¯ç”±æœºå™¨(OSRM )( OSM ),å’Œä¸€ä¸ªä½¿ç”¨å®ƒä»¬çš„ VRP è§£ç®—å™¨(å¼—é²å§†)ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ CLI è°ƒç”¨å¸¦æœ‰é€‚å½“å‚æ•°çš„ VROOM å¹¶å¾—åˆ°è®¡ç®—ç»“æœã€‚ä¸è¿‡é€šè¿‡ [Node.js HTTP API](https://github.com/VROOM-Project/vroom-express) ä¸ VROOM äº¤äº’æ›´å®¹æ˜“ã€‚

å¥½äº†ï¼Œè®©æˆ‘ä»¬å®‰è£…å¹¶è¿è¡Œ *VROOM Express.js API* ã€‚è¿™å¾ˆå®¹æ˜“ã€‚åªéœ€å…‹éš†å­˜å‚¨åº“å¹¶éµå¾ªè¿™é‡Œçš„æŒ‡å—ã€‚ä¸€ä¸ªè­¦å‘Š:åœ¨è¿è¡Œä¹‹å‰ï¼Œä¸è¦å¿˜è®°é€šè¿‡`config.js`è¿›è¡Œé…ç½®ã€‚æ‚¨å¯èƒ½æƒ³è¦æ›´æ”¹`MAX_JOBS`ã€`MAX_VEHICLES`ã€`PORT`æˆ–`routingServers`çš„å€¼ã€‚

## [](#preparing-dependencies-via-docker)é€šè¿‡ Docker å‡†å¤‡ä¾èµ–å…³ç³»

é¦–å…ˆï¼Œä¸‹è½½ä¸€å¼  OSM åœ°å›¾ï¼Œé€šè¿‡[è¿™ä¸ªç®€å•çš„å‘å¯¼](https://github.com/Project-OSRM/osrm-backend#using-docker)ç”¨ dockerized OSRM å¤„ç†å®ƒã€‚ä½†æ˜¯ä¸è¦åƒä¸Šä¸€ä¸ªå‘½ä»¤ä¸­é‚£æ ·è¿è¡Œ OSRMã€‚å› ä¸ºä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„åˆæˆæ–‡ä»¶ä¸­ä½¿ç”¨`docker-compose`:

%[[https://gist . github . com/IED MRC/51d 02 fefa 9 E3 ee 91 a 5608 c 02 c 452 c 965](https://gist.github.com/iedmrc/51d02fefa9e3ee91a5608c02c452c965)]

æ ¹æ®è‡ªå·±çš„éœ€è¦è°ƒæ•´`command`å’Œ`volume`å‚æ•°ã€‚å¦‚æœä½ æƒ³ç¼–è¾‘ VROOM åç«¯çš„é…ç½®æ–‡ä»¶ï¼Œå…‹éš†[è¿™ä¸ªåº“](https://github.com/iedmrc/vroom-docker)å¹¶æ„å»ºä½ è‡ªå·±çš„é•œåƒã€‚ä½ å¯ä»¥é€šè¿‡å…‹éš†[è¿™ä¸ªåº“](https://github.com/iedmrc/vroom-frontend-docker)ä¸º VROOM å‰ç«¯åšåŒæ ·çš„äº‹æƒ…ã€‚è¿™äº›å­˜å‚¨åº“æ˜¯æˆ‘ä¸º VROOM åç«¯å’Œå‰ç«¯å‡†å¤‡çš„æ˜ åƒã€‚æˆ‘å»ºè®®ä½ å¤ä¹ ä¸€ä¸‹ã€‚

å‘åŠ¨å®ƒï¼

```
docker-compose up -d 
```

ä¸€ä¸ªè­¦å‘Š:å¦‚æœä½ ä½¿ç”¨ Mac çš„ *Dockerï¼Œä½ å¯èƒ½éœ€è¦å¢åŠ é»˜è®¤çš„ Docker èµ„æºã€‚æˆ‘ä¸º Docker ä¿ç•™äº†ä»¥ä¸‹èµ„æº:*

*   CPUs ä¸ª
*   å†…å­˜:6 GiB
*   äº’æ¢:2.0 å‰åœ

é“¾æ¥åˆ° docker æ–‡ä»¶:

*   VROOM åç«¯åç«™å­˜å‚¨åº“:https://github . com/iemrc/vroom åç«™
*   VROOM å‰ç«¯åç«™å­˜å‚¨åº“:https://github . com/iemrc/vroom å‰ç«¯åç«™

## [](#solving-vrp-via-direct-api-request)é€šè¿‡ç›´æ¥ API è¯·æ±‚è§£å†³ VRP

ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡å‘ VROOM Express API å‘å‡ºè¯·æ±‚æ¥è§£å†³ VRP é—®é¢˜ï¼Œå¹¶æ ¹æ®æœ¬ API æŒ‡å—é™„ä¸Šä¸€ä¸ª JSON æœ‰æ•ˆè´Ÿè½½ã€‚

è¯·æ±‚ç¤ºä¾‹:

```
curl 'http://localhost:3000/' -H 'Content-type: application/json' --data-binary \
'{ "jobs": [ { "id": 1613, "service": 1200, "amount": [ 1 ], "location": [ 29.02988, 40.99423 ] }, { "id": 1665, "service": 1200, "amount": [ 1 ], "location": [ 29.216, 41.008520000000004 ] }, { "id": 21234, "service": 900, "amount": [ 1 ], "location": [ 29.272640000000003, 40.94765 ] }, { "id": 23457, "service": 600, "amount": [ 1 ], "location": [ 29.119659999999996, 40.97359 ] }, { "id": 24145, "service": 900, "amount": [ 1 ], "location": [ 29.16579, 40.925540000000005 ] }, { "id": 33007, "service": 900, "amount": [ 1 ], "location": [ 29.123801, 40.978068 ] }, { "id": 38081, "service": 600, "amount": [ 1 ], "location": [ 29.113429999999997, 40.980259999999994 ] }, { "id": 39163, "service": 900, "amount": [ 1 ], "location": [ 29.25528, 40.87539 ] } ], "vehicles": [ { "id": 7, "start": [ 29.208498, 40.890795 ], "end": [ 29.208498, 40.890795 ], "capacity": [ 25 ], "time_window": [ 30600, 61200 ], "startDescription": "Start", "endDescription": "End" } ], "options": { "g": true }}' --compressed 
```

å›åº”:

```
{
  "code": 0,
  "summary": {
    "cost": 4387,
    "unassigned": 0,
    "amount": [8],
    "service": 7200,
    "duration": 4387,
    "waiting_time": 0,
    "distance": 72452,
    "computing_times": {"loading": 28,"solving": 4,"routing": 10}
  },
  "unassigned": [],
  "routes": [{
      "vehicle": 7,
      "cost": 4387,
      "amount": [8],
      "service": 7200,
      "duration": 4387,
      "waiting_time": 0,
      "distance": 72452,
      "steps": [{
          "type": "start",
          "location": [29.208498,40.890795],
          "arrival": 30600,
          "duration": 0,
          "distance": 0
        },{
          "type": "job",
          "location": [29.16579,40.925540000000005],
          "job": 24145,
          "service": 900,
          "waiting_time": 0,
          "arrival": 31064,
          "duration": 464,
          "distance": 8110
        },{
          "type": "job",
          "location": [29.02988,40.99423],
          "job": 1613,
          "service": 1200,
          "waiting_time": 0,
          "arrival": 32854,
          "duration": 1354,
          "distance": 25277
        },{
          "type": "job",
          "location": [29.113429999999997,40.980259999999994],
          "job": 38081,
          "service": 600,
          "waiting_time": 0,
          "arrival": 34586,
          "duration": 1886,
          "distance": 34414
        },{
          "type": "job",
          "location": [29.123801,40.978068],
          "job": 33007,
          "service": 900,
          "waiting_time": 0,
          "arrival": 35260,
          "duration": 1960,
          "distance": 35539
        },{
          "type": "job",
          "location": [29.119659999999996,40.97359],
          "job": 23457,
          "service": 600,
          "waiting_time": 0,
          "arrival": 36215,
          "duration": 2015,
          "distance": 36533
        },{
          "type": "job",
          "location": [29.216,41.00852],
          "job": 1665,
          "service": 1200,
          "waiting_time": 0,
          "arrival": 37454,
          "duration": 2654,
          "distance": 47712
        },{
          "type": "job",
          "location": [29.272640000000003,40.94765],
          "job": 21234,
          "service": 900,
          "waiting_time": 0,
          "arrival": 39281,
          "duration": 3281,
          "distance": 57059
        },{
          "type": "job",
          "location": [29.25528,40.87539],
          "job": 39163,
          "service": 900,
          "waiting_time": 0,
          "arrival": 41007,
          "duration": 4107,
          "distance": 67891
        },{
          "type": "end",
          "location": [29.208498,40.890795],
          "arrival": 42187,
          "duration": 4387,
          "distance": 72452
        }
      ]}
  ]} 
```

## [](#solving-vrp-via-frontend)é€šè¿‡å‰ç«¯è§£å†³ VRP

å¦‚æœä½ å·²ç»é€šè¿‡`docker-compose`æˆ–è€…æ‰‹åŠ¨ç¼–è¯‘è¿è¡Œäº† VROOM å‰ç«¯ï¼Œé€šè¿‡ä¸Šä¼ ä½ å‡†å¤‡å¥½çš„ JSONï¼Œä½ å¯ä»¥è®© VROOM æ±‚è§£ VRPã€‚

[![A screenshot of VROOM frontend](../Images/aee21724204c08e78af9b3e57944666a.png "A screenshot of VROOM frontend")](https://res.cloudinary.com/practicaldev/image/fetch/s--64qJHPs7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1559256825172/I4vq18w7D.png)
*VROOM å‰ç«¯æˆªå›¾*

# [](#final-overview)æœ€ç»ˆæ¦‚è¿°

* * *

1.  åœ¨è¿™é‡Œä¸‹è½½ä¸€å¼  OSM åœ°å›¾ã€‚
2.  æ„å»º OSRM äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å¤„ç†ã€‚osm æ–‡ä»¶ç”¨ [docker](https://github.com/Project-OSRM/osrm-backend#using-docker) æˆ–å¦‚è¿™é‡Œæ‰€è¿°[ç”¨](https://github.com/Project-OSRM/osrm-backend/wiki/Running-OSRM)è¡¨ç¤ºã€‚
3.  æ„å»º VROOM äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶ç¡®ä¿å®ƒåœ¨è·¯å¾„ä¸­ã€‚
4.  è¿è¡Œ OSRM HTTP æœåŠ¡å™¨ç›‘å¬ç«¯å£ 5000(æˆ–ä»»ä½•æ‚¨æƒ³è¦çš„ç«¯å£)ã€‚
5.  å°† VROOM Express.js API é…ç½®ä¸ºåœ¨è·¯å¾„ä¸­ä½¿ç”¨ VROOM äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶é€šè¿‡å…¶ä¾¦å¬çš„ç«¯å£è¿æ¥åˆ° OSRM HTTP æœåŠ¡å™¨ã€‚
6.  è¿è¡Œ VROOM Express.js API ç›‘å¬ç«¯å£ 3000(æˆ–ä»»ä½•æ‚¨æƒ³è¦çš„ç«¯å£)ã€‚
7.  åˆ¶ä½œä¸€ä¸ª JSON æ–‡ä»¶ï¼Œå¦‚è¿™é‡Œæ‰€è¿°[ã€‚](https://github.com/VROOM-Project/vroom/blob/master/docs/API.md)
8.  ç”¨å‡†å¤‡å¥½çš„ JSON æ–‡ä»¶å‘ VROOM Express.js å‘å‡º HTTP è¯·æ±‚ã€‚
9.  [å¯é€‰]é…ç½® VROOM å‰ç«¯è¿æ¥åˆ° VROOM Express.js APIï¼Œå¹¶è¿è¡Œå®ƒç›‘å¬ç«¯å£ 9966(æˆ–ä»»ä½•æ‚¨æƒ³è¦çš„ç«¯å£)ã€‚

# [](#in-conclusion)æ€»ä¹‹

* * *

è½¦è¾†è·¯å¾„é—®é¢˜æ˜¯ä¸€ä¸ªéå¸¸æœ‰ä»·å€¼å¹¶ä¸”ä»ç„¶æ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œå°¤å…¶æ˜¯åœ¨ç‰©æµé¢†åŸŸã€‚ç¤¾åŒºå¯¹æ­¤æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚è¿™é‡Œæˆ‘ä»¬æŠŠå®ƒä»¬ç»“åˆèµ·æ¥ï¼Œè§£å†³äº†é—®é¢˜ã€‚

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ï¼è¯·æŠŠè¿™ä¸ªæ¶ˆæ¯ä¼ æ’­å‡ºå»ï¼ğŸ™ğŸ¼