# React ä¸­æ‹–æ”¾çš„æœ€ç»ˆæŒ‡å—

> åŸæ–‡:[https://dev . to/bnevilleoneill/the-ultimate-guide-to-drag-and-drop-in-react-5955](https://dev.to/bnevilleoneill/the-ultimate-guide-to-drag-and-drop-in-react-5955)

**ä½œè€…:[å¸•æ‹‰é©¬å—æ£®](https://blog.logrocket.com/author/paramananthamharrison/)å“ˆé‡Œæ£®** âœï¸

æ‹–æ”¾ UI å·²ç»æˆä¸ºå¤§å¤šæ•°ç°ä»£åº”ç”¨ç¨‹åºä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚å®ƒåœ¨ä¸åŒ…å« UX çš„æƒ…å†µä¸‹æä¾›äº†ä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢ã€‚

æ‹–æ”¾ UI æœ‰å¾ˆå¤šç”¨ä¾‹ã€‚æœ€å¸¸è§çš„æœ‰:

*   **åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨æ‹–æ”¾æ¥ä¸Šä¼ æ–‡ä»¶ã€‚åƒ Gmailã€WordPressã€Invision ç­‰äº§å“éƒ½å°†æ­¤ä½œä¸ºå…¶æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€**
*   **åœ¨å¤šä¸ªåˆ—è¡¨ä¹‹é—´ç§»åŠ¨é¡¹ç›®ã€‚** Trelloã€Asana å’Œå…¶ä»–è®¸å¤šç”Ÿäº§åŠ›äº§å“éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½
*   **é‡æ–°æ’åˆ—å›¾åƒæˆ–èµ„äº§ã€‚**å¤§å¤šæ•°è§†é¢‘ç¼–è¾‘å™¨éƒ½æœ‰æ­¤åŠŸèƒ½ï¼Œåƒ Invision è¿™æ ·çš„äº§å“ä¹Ÿæœ‰æ­¤åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å„éƒ¨åˆ†ä¹‹é—´é‡æ–°å®šä½è®¾è®¡èµ„äº§

ä»Šå¤©ï¼Œæˆ‘ä»¬å°†é€šè¿‡åœ¨ React ä¸­æ„å»ºä¸€ä¸ªç®€å•çš„é¡¹ç›®æ¥äº†è§£æ‹–æ”¾çš„ä¸€äº›ç”¨ä¾‹ã€‚å¦‚æœä½ å¯¹è¿™ä¸ªé¡¹ç›®æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å®ƒã€‚

[![LogRocket Free Trial Banner](img/4aa67f42a82d61c79b61acb13eae9479.png)T2ã€‘](https://logrocket.com/signup/)

æˆ‘ä»¬çš„ç®€å•åº”ç”¨ç¨‹åºå°†å…·æœ‰ä»¥ä¸‹ç‰¹æ€§:

*   é€šè¿‡åœ¨æµè§ˆå™¨ä¸­æ‹–æ”¾æ–‡ä»¶æ¥ä¸Šä¼ å›¾åƒæ–‡ä»¶
*   å°†è¿™äº›å›¾åƒçš„é¢„è§ˆæ˜¾ç¤ºä¸ºç½‘æ ¼
*   é€šè¿‡æ‹–æ”¾å¯¹è¿™äº›å›¾åƒé‡æ–°æ’åº

è®©æˆ‘ä»¬ä»ä½¿ç”¨`create-react-app`å¼•å¯¼ä¸€ä¸ª React åº”ç”¨ç¨‹åºå¼€å§‹ï¼Œå°±åƒè¿™æ ·:

```
npx create-react-app logrocket-drag-and-drop
cd logrocket-drag-and-drop
yarn start 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#upload-files-using-drag-and-drop)ä½¿ç”¨æ‹–æ”¾ä¸Šä¼ æ–‡ä»¶

æˆ‘ä»¬ä¸ä¼šé€šè¿‡è‡ªå·±åˆ›å»ºæ‰€æœ‰çš„é€»è¾‘å’Œç»„ä»¶æ¥é‡æ–°å‘æ˜è½®å­ã€‚ç›¸åï¼Œæˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨æœ€æ ‡å‡†å’Œæœ€è‘—åçš„åº“ã€‚

å¯¹äºæ‹–æ”¾ä¸Šä¼ ç‰¹æ€§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ React ä¸­æœ€è‘—åçš„åº“ä¹‹ä¸€`react-dropzone`ã€‚å®ƒåœ¨ Github ä¸Šæœ‰è¶…è¿‡ 6k é¢—æ˜Ÿï¼Œå¹¶ä¸”æ”¯æŒ React Hooksã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»æ–‡æ¡£[ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åº“ï¼Œæœ‰åŠ©äºåœ¨ React ä¸­åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶ã€‚](https://github.com/react-dropzone/react-dropzone)

å…ˆå®‰è£…ä¸€ä¸‹:

```
yarn add react-dropzone 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å®‰è£…å®Œä¹‹åï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º`Dropzone.js`çš„æ–°æ–‡ä»¶ã€‚è¯¥ç»„ä»¶è´Ÿè´£å°†ä¸€ä¸ªç®€å•çš„å†…å®¹åŒºåŸŸå˜æˆä¸€ä¸ª dropzone åŒºåŸŸï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æ”¾ç½®æ–‡ä»¶ã€‚

`react-dropzone`çš„å·¥ä½œåŸç†:

*   `react-dropzone`éšè—æ–‡ä»¶è¾“å…¥å¹¶æ˜¾ç¤ºæ¼‚äº®çš„è‡ªå®šä¹‰ dropzone åŒºåŸŸ
*   å½“æˆ‘ä»¬æ”¾ä¸‹æ–‡ä»¶æ—¶ï¼Œ`react-dropzone`ä½¿ç”¨ HTML `onDrag`äº‹ä»¶ï¼Œå¹¶æ ¹æ®æ–‡ä»¶æ˜¯å¦è¢«æ”¾å…¥ dropzone åŒºåŸŸæ¥ä»äº‹ä»¶ä¸­æ•è·æ–‡ä»¶
*   å¦‚æœæˆ‘ä»¬ç‚¹å‡»è¯¥åŒºåŸŸï¼Œ`react-dropzone`åº“ä½¿ç”¨ React `ref`é€šè¿‡éšè—è¾“å…¥å¯åŠ¨æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œå…è®¸æˆ‘ä»¬é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼ 

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º`Dropzone` :
çš„ç»„ä»¶

```
/* 
  filename: Dropzone.js 
*/

import React from "react";
// Import the useDropzone hooks from react-dropzone
import { useDropzone } from "react-dropzone";

const Dropzone = ({ onDrop, accept }) => {
  // Initializing useDropzone hooks with options
  const { getRootProps, getInputProps, isDragActive } = useDropzone({
    onDrop,
    accept
  });

  /* 
    useDropzone hooks exposes two functions called getRootProps and getInputProps
    and also exposes isDragActive boolean
  */

  return (
    <div {...getRootProps()}>
      <input className="dropzone-input" {...getInputProps()} />
      <div className="text-center">
        {isDragActive ? (
          <p className="dropzone-content">Release to drop the files here</p>
        ) : (
          <p className="dropzone-content">
            Drag 'n' drop some files here, or click to select files
          </p>
        )}
      </div>
    </div>
  );
};

export default Dropzone; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç»„ä»¶æ˜¯ç›´æ¥çš„ã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹è¿™æ®µä»£ç ã€‚

`useDropzone`ä¸ºæˆ‘ä»¬å…¬å¼€äº†å‡ ä¸ªæ–¹æ³•å’Œå˜é‡æ¥åˆ›å»ºè‡ªå®šä¹‰çš„ dropzone åŒºåŸŸã€‚å¯¹äºæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬æœ€æ„Ÿå…´è¶£çš„æ˜¯ä¸‰ä¸ªä¸åŒçš„å±æ€§:

*   `getRootProps`â€“è¿™æ˜¯æ ¹æ® dropzone åŒºåŸŸçš„çˆ¶å…ƒç´ è®¾ç½®çš„é“å…·ã€‚æ‰€ä»¥è¿™ä¸ªå…ƒç´ å†³å®šäº† dropzone åŒºåŸŸçš„å®½åº¦å’Œé«˜åº¦
*   `getInputProps`â€“è¿™æ˜¯ä¼ é€’ç»™è¾“å…¥å…ƒç´ çš„å±æ€§ã€‚è¿™æ˜¯å¿…éœ€çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ”¯æŒç‚¹å‡»äº‹ä»¶å’Œæ‹–åŠ¨äº‹ä»¶æ¥è·å–æ–‡ä»¶
*   æ‰€æœ‰ä¸æˆ‘ä»¬ä¼ é€’ç»™`useDropzone`çš„æ–‡ä»¶ç›¸å…³çš„é€‰é¡¹éƒ½å°†è¢«è®¾ç½®åˆ°è¿™ä¸ªè¾“å…¥å…ƒç´ ä¸­ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åªæƒ³æ”¯æŒå•ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥é€šè¿‡`multiple: false`ã€‚å®ƒå°†è‡ªåŠ¨è¦æ±‚`dropzone`åªå…è®¸ä¸€ä¸ªæ–‡ä»¶è¢«æ¥å—
*   å¦‚æœæ–‡ä»¶è¢«æ‹–åŠ¨åˆ° dropzone åŒºåŸŸä¸Šæ–¹ï¼Œå°†è®¾ç½®`isDragActive`ã€‚è¿™å°†æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä½¿é€ å‹çš„åŸºç¡€ä¸Šï¼Œè¿™ä¸ªå˜é‡

ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•åŸºäº`isDragActive`å€¼è®¾ç½®æ ·å¼/ç±»åçš„ä¾‹å­:

```
const getClassName = (className, isActive) => {
  if (!isActive) return className;
  return `${className}  ${className}-active`;
};

...
<div className={getClassName("dropzone", isDragActive)} {...getRootProps()}>
... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†ä¸¤ä¸ªé“å…·ã€‚è¯¥åº“æ”¯æŒå¾ˆå¤šé“å…·ï¼Œå¯ä»¥æ ¹æ®ä½ çš„éœ€è¦å®šåˆ¶`dropzone`åŒºåŸŸã€‚

æˆ‘ä»¬ä½¿ç”¨`accept`é“å…·åªå…è®¸å›¾åƒæ–‡ä»¶ã€‚æˆ‘ä»¬çš„`App.js`åº”è¯¥æ˜¯è¿™æ ·çš„:

```
/*
filename: App.js 
*/

import React, { useCallback } from "react";
// Import the dropzone component
import Dropzone from "./Dropzone";

import "./App.css";

function App() {
  // onDrop function 
  const onDrop = useCallback(acceptedFiles => {
    // this callback will be called after files get dropped, we will get the acceptedFiles. If you want, you can even access the rejected files too
    console.log(acceptedFiles);
  }, []);

  // We pass onDrop function and accept prop to the component. It will be used as initial params for useDropzone hook
  return (
    <main className="App">
      <h1 className="text-center">Drag and Drop Example</h1>
      <Dropzone onDrop={onDrop} accept={"image/*"} />
    </main>
  );
}

export default App; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![UI with console after dropping the images](img/eca476679b42fcffa85a5f21195f69d8.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--BBj3NlbZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.logrocket.com/wp-content/uploads/2019/09/dndex-nocdn.png)

æˆ‘ä»¬å·²ç»åœ¨ä¸»é¡µé¢ä¸­æ·»åŠ äº†`dropzone`ç»„ä»¶ã€‚ç°åœ¨ï¼Œå¦‚æœä½ æ”¾ä¸‹æ–‡ä»¶ï¼Œå®ƒä¼šæ§åˆ¶æ”¾ä¸‹çš„å›¾åƒæ–‡ä»¶ã€‚

*   `acceptedFiles`æ˜¯ä¸€ä¸ªç”±`File`å€¼ç»„æˆçš„æ•°ç»„ã€‚æ‚¨å¯ä»¥è¯»å–æ–‡ä»¶æˆ–å°†æ–‡ä»¶å‘é€åˆ°æœåŠ¡å™¨å¹¶ä¸Šä¼ ã€‚æ— è®ºä½ æƒ³åšä»€ä¹ˆï¼Œä½ éƒ½å¯ä»¥åœ¨é‚£é‡Œå®Œæˆ
*   ç”šè‡³å½“ä½ ç‚¹å‡»åŒºåŸŸå¹¶ä¸Šä¼ æ—¶ï¼ŒåŒæ ·çš„`onDrop`å›è°ƒä¹Ÿä¼šè¢«è°ƒç”¨
*   é“å…·æ¥å—å“‘å‰§ç±»å‹ã€‚ä½ å¯ä»¥åœ¨[æ–‡æ¡£](https://github.com/okonet/attr-accept)ä¸­æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„ mime ç±»å‹ã€‚å®ƒæ”¯æŒæ‰€æœ‰æ ‡å‡†çš„ mime ç±»å‹å’ŒåŒ¹é…æ¨¡å¼ã€‚å¦‚æœæ‚¨æƒ³åªå…è®¸ pdfï¼Œé‚£ä¹ˆ`accept={'application/pdf'}`ã€‚å¦‚æœä½ æ—¢æƒ³è¦å›¾åƒç±»å‹åˆæƒ³è¦ pdfï¼Œé‚£ä¹ˆå®ƒæ”¯æŒ`accept={'application/pdf, image/*'}`
*   `onDrop`å‡½æ•°è¢«åŒ…å›´åœ¨`useCallback`ä¸­ã€‚æˆªè‡³ç›®å‰ï¼Œæˆ‘ä»¬æ²¡æœ‰è¿›è¡Œä»»ä½•ç¹é‡çš„è®¡ç®—ï¼Œä¹Ÿæ²¡æœ‰å°†æ–‡ä»¶å‘é€åˆ°æœåŠ¡å™¨ã€‚æˆ‘ä»¬åªæ˜¯å®‰æ…°ä¸€ä¸‹`acceptedFiles`ã€‚ä½†æ˜¯ç¨åï¼Œæˆ‘ä»¬å°†è¯»å–æ–‡ä»¶å¹¶è®¾ç½®ä¸ºåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå›¾åƒçš„çŠ¶æ€ã€‚å¯¹äºæ˜‚è´µçš„å‡½æ•°ï¼Œå»ºè®®ä½¿ç”¨`useCallback`ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯å®Œå…¨å¯é€‰çš„

è®©æˆ‘ä»¬è¯»å–å›¾åƒæ–‡ä»¶å¹¶å°†å…¶æ·»åŠ åˆ°`App.js` :
ä¸­çš„ä¸€ä¸ªçŠ¶æ€

```
/*
filename: App.js
*/
import React, { useCallback, useState } from "react";
// cuid is a simple library to generate unique IDs
import cuid from "cuid";

function App() {
  // Create a state called images using useState hooks and pass the initial value as empty array
  const [images, setImages] = useState([]);

  const onDrop = useCallback(acceptedFiles => {
    // Loop through accepted files
    acceptedFiles.map(file => {
      // Initialize FileReader browser API
      const reader = new FileReader();
      // onload callback gets called after the reader reads the file data
      reader.onload = function(e) {
        // add the image into the state. Since FileReader reading process is asynchronous, its better to get the latest snapshot state (i.e., prevState) and update it. 
        setImages(prevState => [
          ...prevState,
          { id: cuid(), src: e.target.result }
        ]);
      };
      // Read the file as Data URL (since we accept only images)
      reader.readAsDataURL(file);
      return file;
    });
  }, []);

  ...
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬çš„`images`çŠ¶æ€çš„æ•°æ®ç»“æ„æ˜¯:

```
const images = [
  {
    id: 'abcd123',
    src: 'data:image/png;dkjds...',
  },
  {
    id: 'zxy123456',
    src: 'data:image/png;sldklskd...',
  }
] 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬åœ¨ç½‘æ ¼å¸ƒå±€ä¸­æ˜¾ç¤ºå›¾åƒé¢„è§ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå¦ä¸€ä¸ªåä¸º`ImageList`çš„ç»„ä»¶ã€‚

```
import React from "react";

// Rendering individual images
const Image = ({ image }) => {
  return (
    <div className="file-item">
      <img alt={`img - ${image.id}`} src={image.src} className="file-img" />
    </div>
  );
};

// ImageList Component
const ImageList = ({ images }) => {

  // render each image by calling Image component
  const renderImage = (image, index) => {
    return (
      <Image
        image={image}
        key={`${image.id}-image`}
      />
    );
  };

  // Return the list of files
  return <section className="file-list">{images.map(renderImage)}</section>;
};

export default ImageList; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ª ImageList ç»„ä»¶æ·»åŠ åˆ° App.js ä¸­ï¼Œå¹¶æ˜¾ç¤ºå›¾åƒçš„é¢„è§ˆã€‚

```
function App() {
  ...

  // Pass the images state to the ImageList component and the component will render the images
  return (
    <main className="App">
      <h1 className="text-center">Drag and Drop Example</h1>
      <Dropzone onDrop={onDrop} accept={"image/*"} />
      <ImageList images={images} />
    </main>
  );
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å®Œæˆäº†ä¸€åŠçš„ç”³è¯·ã€‚æˆ‘ä»¬å°†èƒ½å¤Ÿä½¿ç”¨æ‹–æ”¾ä¸Šä¼ æ–‡ä»¶ï¼Œä¹Ÿèƒ½å¤Ÿçœ‹åˆ°å›¾åƒçš„é¢„è§ˆã€‚

[![](img/d4825f5b4988143e16f365327721cd3c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--n0LVDweH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://blog.logrocket.com/wp-content/uploads/2019/09/dnd-nocdn.png)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å…è®¸ä½¿ç”¨æ‹–æ”¾åŠŸèƒ½å¯¹é¢„è§ˆçš„å›¾åƒè¿›è¡Œé‡æ–°æ’åºã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å°†äº†è§£ä¸€äº›ç”¨äºæ­¤ç±»è§£å†³æ–¹æ¡ˆçš„ä¸åŒåº“ï¼Œä»¥åŠå¦‚ä½•æ ¹æ®æˆ‘ä»¬çš„åº”ç”¨éœ€æ±‚ä»ä¸­é€‰æ‹©ä¸€ä¸ªåº“ã€‚

æœ‰ä¸‰ç§ä¸åŒçš„ React åŒ…éå¸¸æµè¡Œäºæ‹–æ”¾æ“ä½œ:

1.  `react-beautiful-dnd`ï¼Œ[Github ä¸Šçš„ 15k æ˜Ÿ](https://github.com/atlassian/react-beautiful-dnd)(è¿™ä¸ªæœ‰ Atlasssian åšåç›¾)
2.  `react-dnd`ï¼Œ[Github ä¸Šçš„ 11k é¢—æ˜Ÿæ˜Ÿ](https://github.com/react-dnd/react-dnd)
3.  `react-grid-layout`ï¼Œ[Github ä¸Šçš„ 9k æ˜Ÿ](https://github.com/STRML/react-grid-layout)

æ‰€æœ‰åº“åœ¨ React å¼€å‘äººå‘˜ä¸­åŒæ ·å—æ¬¢è¿ï¼Œä¹Ÿæœ‰æ´»è·ƒçš„è´¡çŒ®è€…ï¼Œä½†æ˜¯æ¯ä¸ªåº“éƒ½æœ‰ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚

æˆ‘åˆ—å‡ºäº†ä¸€ä¸ªæ¸…å•ï¼Œå¼ºè°ƒäº†æ¯ä¸ªåº“çš„ä¼˜ç¼ºç‚¹:

## [](#react-beautiful-dnd)ååº”æ¼‚äº® DND

### [](#pros)ä¼˜ç‚¹

*   å®ƒéå¸¸é€‚åˆä¸€ç»´å¸ƒå±€(ä¾‹å¦‚ï¼Œåˆ—è¡¨),å¦‚æœä½ çš„æ‹–æ”¾éœ€è¦æ°´å¹³ç§»åŠ¨æˆ–å‚ç›´ç§»åŠ¨
    *   ä¾‹å¦‚ï¼Œä¸€ä¸ªç±»ä¼¼ Trello çš„å¸ƒå±€å’Œå¾…åŠäº‹é¡¹åˆ—è¡¨ç­‰ï¼Œéƒ½å¯ä»¥é€šè¿‡`react-beautiful-dnd`å¼€ç®±å³ç”¨
*   API æ˜¯ä¸€ä»¶è½»è€Œæ˜“ä¸¾çš„äº‹ï¼Œä»»ä½•äººéƒ½å¯ä»¥å¾ˆå®¹æ˜“åœ°è§£å†³é—®é¢˜ã€‚é€šè¿‡å¢åŠ ä»£ç åº“çš„å¤æ‚æ€§ï¼Œå¼€å‘äººå‘˜çš„ä½“éªŒçœŸçš„å¾ˆå¥½ï¼Œä¹Ÿå¾ˆæ„‰å¿«

### [](#cons)å¼Š

*   `react-beautiful-dnd`ä¸é€‚ç”¨äºç½‘æ ¼ï¼Œå› ä¸ºæ‚¨å‘æ‰€æœ‰æ–¹å‘ç§»åŠ¨å…ƒç´ `react-beautiful-dnd`å°†æ— æ³•åŒæ—¶è®¡ç®— x è½´å’Œ y è½´çš„ä½ç½®ã€‚å› æ­¤ï¼Œå½“æ‹–åŠ¨ç½‘æ ¼ä¸Šçš„å…ƒç´ æ—¶ï¼Œä½ çš„å†…å®¹ä¼šéšæœºç§»åŠ¨ï¼Œç›´åˆ°ä½ æ”¾ä¸‹å…ƒç´ 

## [](#react-grid-layout)ååº”ç½‘æ ¼å¸ƒå±€

### [](#pros)ä¼˜ç‚¹

*   å®ƒé€‚ç”¨äºç½‘æ ¼ã€‚ç½‘æ ¼æœ¬èº«æ¶µç›–äº†ä¸€åˆ‡ï¼Œæ‰€ä»¥ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒä¹Ÿé€‚ç”¨äºä¸€ç»´è¿åŠ¨
*   å®ƒé€‚ç”¨äºéœ€è¦æ‹–æ”¾çš„å¤æ‚ç½‘æ ¼å¸ƒå±€
    *   ä¾‹å¦‚ï¼Œå…·æœ‰å®Œå…¨å®šåˆ¶å’Œè°ƒæ•´å¤§å°åŠŸèƒ½çš„ä»ªè¡¨æ¿(å³ lookerã€æ•°æ®å¯è§†åŒ–äº§å“ç­‰)
*   å¯¹äºå¤§è§„æ¨¡çš„åº”ç”¨éœ€æ±‚æ¥è¯´ï¼Œå®ƒçš„å¤æ‚æ€§æ˜¯å€¼å¾—çš„

### [](#cons)å¼Š

*   å®ƒæœ‰ä¸€ä¸ªéå¸¸éš¾çœ‹çš„ APIâ€”â€”è®¸å¤šè®¡ç®—å¿…é¡»ç”±æˆ‘ä»¬è‡ªå·±å®Œæˆ
*   æ‰€æœ‰çš„å¸ƒå±€ç»“æ„éƒ½å¿…é¡»é€šè¿‡å®ƒä»¬çš„ç»„ä»¶ API åœ¨ UI ä¸­å®šä¹‰ï¼Œå½“æ‚¨åŠ¨æ€åˆ›å»ºåŠ¨æ€å…ƒç´ æ—¶ï¼Œè¿™ä¼šå¸¦æ¥é¢å¤–çš„å¤æ‚æ€§

## [](#react-dnd)ååº”è¿Ÿé’

### [](#pros)ä¼˜ç‚¹

*   å®ƒé€‚ç”¨äºå‡ ä¹æ‰€æœ‰çš„ç”¨ä¾‹(ç½‘æ ¼ã€ä¸€ç»´åˆ—è¡¨ç­‰)
*   å®ƒæœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ APIï¼Œå¯ä»¥åœ¨æ‹–æ”¾ä¸­è¿›è¡Œä»»ä½•å®šåˆ¶

### [](#cons)å¼Š

*   å¯¹äºå°ä¾‹å­æ¥è¯´ï¼Œè¿™ä¸ª API å¾ˆå®¹æ˜“å¯åŠ¨ã€‚ä¸€æ—¦ä½ çš„åº”ç”¨ç¨‹åºéœ€è¦ä¸€äº›å®šåˆ¶çš„ä¸œè¥¿ï¼Œå°±å¾ˆéš¾å®ç°ã€‚å­¦ä¹ æ›²çº¿æ¯” react-beautiful-dnd æ›´é«˜æ›´å¤æ‚
*   æˆ‘ä»¬éœ€è¦åšå¤§é‡çš„å·¥ä½œæ¥æ”¯æŒç½‘ç»œå’Œè§¦æ‘¸è®¾å¤‡

å¯¹äºæˆ‘ä»¬çš„ç”¨ä¾‹ï¼Œæˆ‘é€‰æ‹©`react-dnd`ã€‚å¦‚æœæˆ‘ä»¬çš„å¸ƒå±€åªæ¶‰åŠä¸€ä¸ªé¡¹ç›®åˆ—è¡¨ï¼Œæˆ‘ä¼šé€‰æ‹©`react-beautiful-dnd`ã€‚ä½†æ˜¯åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå›¾åƒç½‘æ ¼ã€‚æ‰€ä»¥å®ç°æ‹–æ”¾çš„ä¸‹ä¸€ä¸ªæœ€ç®€å•çš„ API æ˜¯`react-dnd`ã€‚

## [](#drag-and-drop-for-lists-using-react)ä½¿ç”¨ React æ‹–æ‹½åˆ—è¡¨

åœ¨æˆ‘ä»¬æ·±å…¥ç ”ç©¶æ‹–æ”¾ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆç†è§£`react-dnd`æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚React DND å¯ä»¥æ‹–åŠ¨ä»»ä½•å…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ”¾ä¸‹ä»»ä½•å…ƒç´ ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œreact dnd æœ‰å‡ ä¸ªå‡è®¾:

*   å®ƒéœ€è¦æœ‰æ‰€æœ‰å¯åˆ é™¤é¡¹ç›®çš„å¼•ç”¨
*   å®ƒéœ€è¦æœ‰æ‰€æœ‰å¯æ‹–åŠ¨é¡¹ç›®çš„å¼•ç”¨
*   æ‰€æœ‰å¯æ‹–æ”¾çš„å…ƒç´ éƒ½éœ€è¦åŒ…å«åœ¨`react-dnd`çš„ä¸Šä¸‹æ–‡æä¾›è€…ä¸­ã€‚è¯¥æä¾›ç¨‹åºç”¨äºåˆå§‹åŒ–å’Œç®¡ç†å†…éƒ¨çŠ¶æ€

æˆ‘ä»¬ä¸éœ€è¦å¤ªæ‹…å¿ƒå®ƒå¦‚ä½•ç®¡ç†çŠ¶æ€ã€‚å®ƒæœ‰å¾ˆå¥½å¾ˆç®€å•çš„ API æ¥æš´éœ²è¿™äº›çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è®¡ç®—å’Œæ›´æ–°æˆ‘ä»¬çš„æœ¬åœ°çŠ¶æ€ã€‚

è®©æˆ‘ä»¬ä»ä»£ç å¼€å§‹ã€‚å®‰è£…è½¯ä»¶åŒ…:

```
yarn add react-dnd 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

é¦–å…ˆï¼Œæˆ‘ä»¬å°†æŠŠ ImageList ç»„ä»¶åŒ…å«åœ¨ DND ä¸Šä¸‹æ–‡æä¾›ç¨‹åºä¸­ï¼Œå°±åƒè¿™æ ·:

```
/* 
  filename: App.js 
*/

import { DndProvider } from "react-dnd";
import HTML5Backend from "react-dnd-html5-backend";

function App() {
  ...
  return (
    <main className="App">
      ...
      <DndProvider backend={HTML5Backend}>
        <ImageList images={images} onUpdate={onUpdate} />
      </DndProvider>
    </main>
  );
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¼å…¥`DNDProvider`å¹¶ç”¨åç«¯é“å…·åˆå§‹åŒ–å®ƒã€‚

æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„ï¼Œè¿™ä¸ªå˜é‡æœ‰åŠ©äºé€‰æ‹©æ‹–æ”¾æ‰€ä½¿ç”¨çš„ APIã€‚

å®ƒæ”¯æŒ:

*   HTML5 æ‹–æ”¾ API(ä»…æ”¯æŒ webï¼Œä¸æ”¯æŒè§¦æ‘¸è®¾å¤‡)
*   è§¦æ‘¸æ‹–æ”¾ API(è§¦æ‘¸è®¾å¤‡æ”¯æŒ)

ç›®å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ HTML5 API æ¥å¼€å§‹ï¼Œä¸€æ—¦åŠŸèƒ½å®Œæˆï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªç®€å•çš„å®ç”¨ç¨‹åºæ¥ä¸ºè§¦æ‘¸è®¾å¤‡æä¾›åŸºæœ¬æ”¯æŒã€‚

ç°åœ¨æˆ‘ä»¬éœ€è¦æ·»åŠ å¯æ‹–åŠ¨å’Œå¯æ”¾ä¸‹çš„é¡¹ç›®ã€‚åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¯æ‹–åŠ¨å’Œå¯æ”¾ä¸‹çš„é¡¹ç›®æ˜¯ç›¸åŒçš„ã€‚æˆ‘ä»¬å°†æ‹–åŠ¨`Image`ç»„ä»¶å¹¶å°†å…¶æ”¾åˆ°å¦ä¸€ä¸ª`Image`ç»„ä»¶ä¸Šã€‚è¿™è®©æˆ‘ä»¬çš„å·¥ä½œå˜å¾—ç®€å•äº†ä¸€äº›ã€‚

è®©æˆ‘ä»¬å®ç°å®ƒï¼Œå°±åƒè¿™æ ·:

```
import React, { useRef } from "react";
// import useDrag and useDrop hooks from react-dnd
import { useDrag, useDrop } from "react-dnd";

const type = "Image"; // Need to pass which type element can be draggable, its a simple string or Symbol. This is like an Unique ID so that the library know what type of element is dragged or dropped on.

const Image = ({ image, index }) => {
  const ref = useRef(null); // Initialize the reference

  // useDrop hook is responsible for handling whether any item gets hovered or dropped on the element
  const [, drop] = useDrop({
    // Accept will make sure only these element type can be droppable on this element
    accept: type,
    hover(item) {
      ...
    }
  });

  // useDrag will be responsible for making an element draggable. It also expose, isDragging method to add any styles while dragging
  const [{ isDragging }, drag] = useDrag({
    // item denotes the element type, unique identifier (id) and the index (position)
    item: { type, id: image.id, index },
    // collect method is like an event listener, it monitors whether the element is dragged and expose that information
    collect: monitor => ({
      isDragging: monitor.isDragging()
    })
  });

  /* 
    Initialize drag and drop into the element using its reference.
    Here we initialize both drag and drop on the same element (i.e., Image component)
  */
  drag(drop(ref));

  // Add the reference to the element
  return (
    <div
      ref={ref}
      style={{ opacity: isDragging ? 0 : 1 }}
      className="file-item"
    >
      <img alt={`img - ${image.id}`} src={image.src} className="file-img" />
    </div>
  );
};

const ImageList = ({ images }) => {
  ...
};

export default ImageList; 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œæˆ‘ä»¬çš„å›¾åƒå·²ç»å¯ä»¥æ‹–åŠ¨äº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠå®ƒæ”¾ä¸‹ï¼Œå›¾åƒåˆä¼šå›åˆ°åŸæ¥çš„ä½ç½®ã€‚å› ä¸º`useDrag`å’Œ`useDrop`ä¼šå¤„ç†å®ƒï¼Œç›´åˆ°æˆ‘ä»¬æ”¾å¼ƒå®ƒã€‚é™¤éæˆ‘ä»¬æ”¹å˜æˆ‘ä»¬çš„å±€éƒ¨çŠ¶æ€ï¼Œå¦åˆ™å®ƒä¼šå†æ¬¡å›åˆ°åŸæ¥çš„ä½ç½®ã€‚

ä¸ºäº†æ›´æ–°æœ¬åœ°çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸¤ä»¶äº‹:

*   æ‹–åŠ¨å…ƒç´ 
*   æ‚¬åœå…ƒç´ (è¢«æ‹–åŠ¨çš„å…ƒç´ æ‚¬åœåœ¨å…¶ä¸­çš„å…ƒç´ )

`useDrag`é€šè¿‡`hover`æ–¹æ³•å…¬å¼€è¿™äº›ä¿¡æ¯ã€‚è®©æˆ‘ä»¬ç”¨æˆ‘ä»¬çš„ä»£ç æ¥çœ‹çœ‹:

```
const [, drop] = useDrop({
    accept: type,
    // This method is called when we hover over an element while dragging
    hover(item) { // item is the dragged element
      if (!ref.current) {
        return;
      }
      const dragIndex = item.index;
      // current element where the dragged element is hovered on
      const hoverIndex = index;
      // If the dragged element is hovered in the same place, then do nothing
      if (dragIndex === hoverIndex) { 
        return;
      }
      // If it is dragged around other elements, then move the image and set the state with position changes
      moveImage(dragIndex, hoverIndex);
      /*
        Update the index for dragged item directly to avoid flickering
        when the image was half dragged into the next
      */
      item.index = hoverIndex;
    }
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å½“ä¸€ä¸ªå…ƒç´ è¢«æ‹–åŠ¨å¹¶åœç•™åœ¨è¿™ä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œæ–¹æ³•å°†è¢«è§¦å‘ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå½“æˆ‘ä»¬å¼€å§‹æ‹–åŠ¨ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°äº†è¯¥å…ƒç´ çš„ç´¢å¼•ä»¥åŠæˆ‘ä»¬æ‰€æ‚¬åœçš„å…ƒç´ ã€‚æˆ‘ä»¬å°†é€šè¿‡è¿™ä¸ª`dragIndex`å’Œ`hoverIndex`æ¥æ›´æ–°æˆ‘ä»¬çš„å›¾åƒçŠ¶æ€ã€‚

ä½ ç°åœ¨å¯èƒ½æœ‰ä¸¤ä¸ªé—®é¢˜:

1.  ä¸ºä»€ä¹ˆæ‚¬åœæ—¶éœ€è¦æ›´æ–°çŠ¶æ€ï¼Ÿ
2.  ä¸ºä»€ä¹ˆä¸ä¸€è¾¹æ»´ä¸€è¾¹æ›´æ–°å‘¢ï¼Ÿ

å¯ä»¥åœ¨åˆ é™¤çš„åŒæ—¶è¿›è¡Œæ›´æ–°ã€‚ç„¶åæ‹–æ”¾ä¹Ÿå°†å·¥ä½œï¼Œå¹¶é‡æ–°å®‰æ’ä½ç½®ã€‚ä½†æ˜¯ UX ä¸ä¼šæ˜¯å¥½çš„ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½ æ‹–åŠ¨ä¸€ä¸ªå›¾åƒåˆ°å¦ä¸€ä¸ªå›¾åƒä¸Šï¼Œå¦‚æœæˆ‘ä»¬ç«‹å³æ”¹å˜ä½ç½®ï¼Œé‚£ä¹ˆè¿™å°†ç»™æ‹–åŠ¨å®ƒçš„ç”¨æˆ·ä¸€ä¸ªå¾ˆå¥½çš„åé¦ˆã€‚å¦åˆ™ä»–ä»¬å¯èƒ½ä¸çŸ¥é“æ‹–åŠ¨åŠŸèƒ½æ˜¯å¦æœ‰æ•ˆï¼Œç›´åˆ°ä»–ä»¬æŠŠå›¾åƒæ”¾åˆ°æŸä¸ªä½ç½®ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æ¯æ¬¡æ‚¬åœæ—¶æ›´æ–°çŠ¶æ€ã€‚å½“æ‚¬åœåœ¨å¦ä¸€ä¸ªå›¾åƒä¸Šæ—¶ï¼Œæˆ‘ä»¬è®¾ç½®çŠ¶æ€å¹¶æ”¹å˜ä½ç½®ã€‚ç”¨æˆ·å°†ä¼šçœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„åŠ¨ç”»ã€‚ä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„æ¼”ç¤ºé¡µé¢æŸ¥çœ‹ã€‚

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªæ˜¯å°†æ›´æ–°çŠ¶æ€çš„ä»£ç æ˜¾ç¤ºä¸º`moveImage`ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹å®ç°:

```
/*
  filename: App.js
*/

import update from "immutability-helper";

const moveImage = (dragIndex, hoverIndex) => {
    // Get the dragged element
    const draggedImage = images[dragIndex];
    /*
      - copy the dragged image before hovered element (i.e., [hoverIndex, 0, draggedImage])
      - remove the previous reference of dragged element (i.e., [dragIndex, 1])
      - here we are using this update helper method from immutability-helper package
    */
    setImages(
      update(images, {
        $splice: [[dragIndex, 1], [hoverIndex, 0, draggedImage]]
      })
    );
};

// We will pass this function to ImageList and then to Image -> Quiet a bit of props drilling, the code can be refactored and place all the state management in ImageList itself to avoid props drilling. It's an exercise for you :) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨æ”¯æŒ HTML5 `onDrag`äº‹ä»¶çš„è®¾å¤‡ä¸ŠåŠŸèƒ½é½å…¨ã€‚ä½†ä¸å¹¸çš„æ˜¯ï¼Œå®ƒåœ¨è§¦æ‘¸è®¾å¤‡ä¸Šä¸èµ·ä½œç”¨ã€‚

æ­£å¦‚æˆ‘ä¹‹å‰æ‰€è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æ”¯æŒè§¦æ‘¸è®¾å¤‡ä»¥åŠä½¿ç”¨å®ç”¨åŠŸèƒ½ã€‚è¿™ä¸æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½†ä»ç„¶æœ‰æ•ˆã€‚ä¸è¿‡åœ¨è§¦æ‘¸è®¾å¤‡ä¸Šæ‹–åŠ¨çš„ä½“éªŒä¸ä¼šå¾ˆå¥½ã€‚å®ƒåªæ˜¯ç®€å•åœ°æ›´æ–°ï¼Œä½†ä½ ä¸ä¼šè§‰å¾—ä½ åœ¨æ‹–æ‹‰ã€‚ä¹Ÿå¯ä»¥æŠŠå®ƒå¼„å¹²å‡€ã€‚

```
import HTML5Backend from "react-dnd-html5-backend";
import TouchBackend from "react-dnd-touch-backend";

// simple way to check whether the device support touch (it doesn't check all fallback, it supports only modern browsers)
const isTouchDevice = () => {
  if ("ontouchstart" in window) {
    return true;
  }
  return false;
};

// Assigning backend based on touch support on the device
const backendForDND = isTouchDevice() ? TouchBackend : HTML5Backend;

...
return (
  ...
  <DndProvider backend={backendForDND}>
    <ImageList images={images} moveImage={moveImage} />
  </DndProvider>
)
... 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## [](#conclusion)ç»“è®º

è¿™æ˜¯æ‰€æœ‰çš„ä¹¡äº²ã€‚æˆ‘ä»¬å·²ç»æˆåŠŸåœ°æ„å»ºäº†ä¸€ä¸ªå°è€Œå¼ºå¤§çš„æ¼”ç¤ºç¨‹åºï¼Œç”¨äºæ‹–æ”¾æ–‡ä»¶ã€ä¸Šä¼ æ–‡ä»¶ä»¥åŠé‡æ–°æ’åºè¿™äº›æ–‡ä»¶ã€‚ä½ å¯ä»¥ç‚¹å‡»æŸ¥çœ‹[æ¼”ç¤ºã€‚](https://drag-drop-logrocket.netlify.com/)

è¯¥é¡¹ç›®çš„ä»£ç åº“æ˜¯[è¿™é‡Œæ˜¯](https://github.com/learnwithparam/logrocket-drag-and-drop)ã€‚æ‚¨ç”šè‡³å¯ä»¥é€šè¿‡æŸ¥çœ‹å›è´­ä¸­çš„åˆ†æ”¯æ¥ä¸€æ­¥æ­¥äº†è§£æˆ‘æ˜¯å¦‚ä½•æ„å»ºåº”ç”¨ç¨‹åºçš„ã€‚

æˆ‘ä»¬åªæ˜¯è§¦åŠäº† React åœ¨æ‹–æ”¾åŠŸèƒ½æ–¹é¢çš„çš®æ¯›ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‹–æ”¾åº“æ¥æ„å»ºéå¸¸è¯¦å°½çš„ç‰¹æ€§ã€‚æˆ‘ä»¬è®¨è®ºäº†ä¸€äº›ä¸šç•Œæœ€å¥½çš„åº“ã€‚æˆ‘å¸Œæœ›å®ƒèƒ½å¸®åŠ©æ‚¨æ›´å¿«ã€æ›´è‡ªä¿¡åœ°æ„å»ºä¸‹ä¸€ä¸ªæ‹–æ”¾åŠŸèƒ½ã€‚

ä¹Ÿçœ‹çœ‹å…¶ä»–çš„åº“ï¼Œåœ¨è¯„è®º [![ğŸ˜](img/d31c955371df0523dd17600875117306.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--0-T2SQiN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://s.w.oimg/core/emoji/12.0.0-1/72x72/1f60e.png) é‡Œç»™æˆ‘çœ‹çœ‹ä½ ç”¨å®ƒå»ºäº†ä»€ä¹ˆ

* * *

**ç¼–è€…æŒ‰:**çœ‹åˆ°è¿™ä¸ªå¸–å­æœ‰é—®é¢˜ï¼Ÿä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ­£ç¡®çš„ç‰ˆæœ¬ã€‚

## [](#plug-logrocket-a-dvr-for-web-apps)Plug: [LogRocket](https://logrocket.com/signup/) ï¼Œä¸€æ¬¾é€‚ç”¨äºç½‘ç»œåº”ç”¨çš„ DVR

[![LogRocket Dashboard Free Trial Banner](img/0abf868fe5ccbed99d71cb8d9e81ed98.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--6FG5kvEL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png%3Fresize%3D1200%252C677%26ssl%3D1)

[log rocket](https://logrocket.com/signup/)æ˜¯ä¸€ä¸ªå‰ç«¯æ—¥å¿—å·¥å…·ï¼Œè®©ä½ é‡æ”¾é—®é¢˜ï¼Œå°±åƒå®ƒä»¬å‘ç”Ÿåœ¨ä½ è‡ªå·±çš„æµè§ˆå™¨ä¸­ä¸€æ ·ã€‚LogRocket ä¸éœ€è¦çŒœæµ‹é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œä¹Ÿä¸éœ€è¦å‘ç”¨æˆ·è¯¢é—®æˆªå›¾å’Œæ—¥å¿—è½¬å‚¨ï¼Œè€Œæ˜¯è®©æ‚¨é‡æ”¾ä¼šè¯ä»¥å¿«é€Ÿäº†è§£å“ªé‡Œå‡ºé”™äº†ã€‚å®ƒå¯ä»¥ä¸ä»»ä½•åº”ç”¨ç¨‹åºå®Œç¾é…åˆï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ¡†æ¶ï¼Œå¹¶ä¸”æœ‰æ’ä»¶å¯ä»¥è®°å½•æ¥è‡ª Reduxã€Vuex å’Œ@ngrx/store çš„é¢å¤–ä¸Šä¸‹æ–‡ã€‚

é™¤äº†è®°å½• Redux åŠ¨ä½œå’ŒçŠ¶æ€ï¼ŒLogRocket è¿˜è®°å½•æ§åˆ¶å°æ—¥å¿—ã€JavaScript é”™è¯¯ã€stacktracesã€å¸¦æœ‰å¤´+ä½“çš„ç½‘ç»œè¯·æ±‚/å“åº”ã€æµè§ˆå™¨å…ƒæ•°æ®ã€è‡ªå®šä¹‰æ—¥å¿—ã€‚å®ƒè¿˜ä½¿ç”¨ DOM æ¥è®°å½•é¡µé¢ä¸Šçš„ HTML å’Œ CSSï¼Œç”šè‡³ä¸ºæœ€å¤æ‚çš„å•é¡µé¢åº”ç”¨ç¨‹åºé‡æ–°åˆ›å»ºåƒç´ çº§å®Œç¾è§†é¢‘ã€‚

[å…è´¹è¯•ç”¨](https://logrocket.com/signup/)ã€‚

* * *

ã€ŠReact ä¸­æ‹–æ”¾æ“ä½œçš„ç»ˆææŒ‡å—ã€‹è¿™ç¯‡æ–‡ç« æœ€å…ˆå‡ºç°åœ¨[çš„åšå®¢](https://blog.logrocket.com)ä¸Šã€‚