# TIL:é”™è¯¯æ•æ‰ç»‘å®šæœ€ç»ˆæ˜¯å¯é€‰çš„

> åŸæ–‡ï¼š<https://dev.to/stefanjudis/til-error-catch-bindings-are-finally-optional-20e5>

æˆ‘åˆšåˆšæµè§ˆäº†æˆ‘çš„æ¯å‘¨ç®€è®¯ï¼Œçœ‹åˆ°äº†[å¯é€‰çš„ catch-binding ææ¡ˆ](https://github.com/tc39/proposal-optional-catch-binding)ï¼Œè¯¥ææ¡ˆäº [ES2019](https://2ality.com/2018/02/ecmascript-2019.html) å‘å¸ƒã€‚

æ–°å¢çš„è¯­è¨€å…è®¸å¼€å‘äººå‘˜åœ¨å¤„ç†`try/catch`è¯­å¥æ—¶æœ€ç»ˆçœç•¥é”™è¯¯å‚æ•°ã€‚è¿™ä¸ªç‰¹æ€§åœ¨å¤§é‡ä½¿ç”¨`async` / `await`çš„ç°ä»£ JavaScript ä»£ç ä¸­ä¼šå˜å¾—ç‰¹åˆ«æ–¹ä¾¿ã€‚

å‡ è¡Œä»£ç æœ€å¥½åœ°æè¿°äº†å®ƒ:

```
// classical try/catch
// âœ… works
try {
  throw new Error('oh noes');
} catch(e) {
  console.log(`Error!!! But, I don't care about the error object...`);
} 

// try/catch without error arguments
// âŒ throws "Uncaught SyntaxError: Unexpected token ')'"
try {
  throw new Error('oh noes');

//     ğŸ‘‡ omitting the error argument doesn't work...
} catch() {
  console.log(`Error!!! But, I don't care about the error object...`);
} 

// try/catch without error binding
// âœ… works again ğŸ‰
// (across majors Edge, Firefox, Safari, Chrome)
try {
  throw new Error('oh noes');

//     ğŸ‘‡ omitting `()` altogether works now ğŸ‰
} catch {
  console.log(`Error!!! But, I don't care about the error object...`);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™ç§è¯­è¨€çš„æ·»åŠ æœ‰ä¸€ç‚¹äº‰è®®ï¼Œäººä»¬[åœ¨ææ¡ˆåº“](https://github.com/tc39/proposal-optional-catch-binding/issues/2)ä¸­çƒ­çƒˆè®¨è®ºå®ƒã€‚å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘è®¤ä¸ºåœ¨å¿«é€ŸåŸå‹å¼€å‘çš„ä¸€äº›å®ä¾‹ä¸­ï¼Œå®Œç¾çš„é”™è¯¯å¤„ç†æ˜¯æ¬¡è¦çš„ï¼Œè¿™æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚

äº†è§£äº†è¿™ä¸ªåŠŸèƒ½åï¼Œå‘ç°ä¸»æµæµè§ˆå™¨(Chromeã€Safariã€Edgeã€Firefox)å·²ç»æ”¯æŒè¿™ä¸ªåŠŸèƒ½äº†ã€‚ğŸ‰å¦‚æœä½ å¿…é¡»æ”¯æŒæ›´å¤šæœ€æ–°æœ€å¥½çš„æµè§ˆå™¨ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ babel æ’ä»¶æ¥ä½¿ç”¨è¿™ä¸ªæ–°çš„è¯­è¨€ç‰¹æ€§ã€‚

*(MDN æ–‡æ¡£ç›®å‰å·²ç»è¿‡æœŸï¼Œå¹¶ä¸”[ä¸€ä¸ª PR æ­£åœ¨ç­‰å¾…](https://github.com/mdn/browser-compat-data/pull/4403) )*

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¿™é‡Œæœ‰ä¸€äº›é™„åŠ èµ„æº:

*   [é˜¿å…‹å¡å°”Â·åŠ³æ–½è¿ˆå°”åšå£«å¯¹è¯¥ä¸“é¢˜çš„çœ‹æ³•](https://2ality.com/2017/08/optional-catch-binding.html)
*   [GitHub ä¸Šçš„â€œå¯é€‰é“¾æ¥å»ºè®®â€](https://github.com/tc39/proposal-optional-catch-binding)